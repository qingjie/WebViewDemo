<!DOCTYPE html>
<!-- saved from url=(0102)http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394 -->
<html data-ad-targeting="{&quot;code&quot;:[&quot;ios-sdk&quot;,&quot;mobile-development&quot;]}" data-ads="[{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_development&quot;,&quot;location&quot;:&quot;inarticle&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1392179526912-0&quot;,&quot;mappings&quot;:[]},{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_development&quot;,&quot;location&quot;:&quot;post_top&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1379650391729-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:1024,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:768,&quot;height&quot;:980},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:640,&quot;height&quot;:480},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:480,&quot;height&quot;:640},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]}]},{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_development&quot;,&quot;location&quot;:&quot;post_mid&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1382314910331-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:1024,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:768,&quot;height&quot;:980},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:640,&quot;height&quot;:480},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:480,&quot;height&quot;:640},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]}]},{&quot;doubleclick_id&quot;:&quot;11757429&quot;,&quot;unit_name&quot;:&quot;hub_development&quot;,&quot;location&quot;:&quot;post_comments&quot;,&quot;width&quot;:300,&quot;height&quot;:250,&quot;slot_id&quot;:&quot;1379650407131-0&quot;,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:1024,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:768,&quot;height&quot;:980},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:640,&quot;height&quot;:480},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]},{&quot;viewport&quot;:{&quot;width&quot;:480,&quot;height&quot;:640},&quot;units&quot;:[{&quot;width&quot;:300,&quot;height&quot;:250}]}]},{&quot;location&quot;:&quot;leader&quot;,&quot;unit_name&quot;:&quot;hub_development&quot;,&quot;slot_id&quot;:&quot;1391730982123-0&quot;,&quot;width&quot;:728,&quot;height&quot;:90,&quot;mappings&quot;:[{&quot;viewport&quot;:{&quot;width&quot;:1024,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:728,&quot;height&quot;:90}]},{&quot;viewport&quot;:{&quot;width&quot;:980,&quot;height&quot;:768},&quot;units&quot;:[{&quot;width&quot;:728,&quot;height&quot;:90}]},{&quot;viewport&quot;:{&quot;width&quot;:768,&quot;height&quot;:980},&quot;units&quot;:[{&quot;width&quot;:728,&quot;height&quot;:90}]}],&quot;doubleclick_id&quot;:&quot;11757429&quot;}]" data-app-version="d383f44d1d6774086acfbe8004299186c3d67259-production" class=" js no-touch history"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<script type="text/javascript" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/27851e2035"></script><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/nr-632.min.js"></script><script type="text/javascript" async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/linkid.js"></script><script type="text/javascript" async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/ec.js"></script><script async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/analytics.js"></script><script async="" type="text/javascript" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gpt.js"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"27851e2035","applicationID":"3094824","transactionName":"JQpZTURXXlRcRBYWRBIKRVBXVEEXSl5WFQ==","queueTime":0,"applicationTime":383,"agent":"js-agent.newrelic.com/nr-632.min.js"}</script>
<script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgUFWFRbGwAAXVVaBQU="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({QJf3ax:[function(t,e){function n(t){function e(e,n,a){t&&t(e,n,a),a||(a={});for(var c=s(e),u=c.length,f=i(a,o,r),d=0;u>d;d++)c[d].apply(f,n);return f}function a(t,e){u[t]=s(t).concat(e)}function s(t){return u[t]||[]}function c(){return n(e)}var u={};return{on:a,emit:e,create:c,listeners:s,_events:u}}function r(){return{}}var o="nr@context",i=t("gos");e.exports=n()},{gos:"7eSDFh"}],ee:[function(t,e){e.exports=t("QJf3ax")},{}],3:[function(t){function e(t){try{i.console&&console.log(t)}catch(e){}}var n,r=t("ee"),o=t(1),i={};try{n=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(i.console=!0,-1!==n.indexOf("dev")&&(i.dev=!0),-1!==n.indexOf("nr_dev")&&(i.nrDev=!0))}catch(a){}i.nrDev&&r.on("internal-error",function(t){e(t.stack)}),i.dev&&r.on("fn-err",function(t,n,r){e(r.stack)}),i.dev&&(e("NR AGENT IN DEVELOPMENT MODE"),e("flags: "+o(i,function(t){return t}).join(", ")))},{1:20,ee:"QJf3ax"}],4:[function(t){function e(t,e,n,i,s){try{c?c-=1:r("err",[s||new UncaughtException(t,e,n)])}catch(u){try{r("ierr",[u,(new Date).getTime(),!0])}catch(f){}}return"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(6),i=t("ee"),a=window.onerror,s=!1,c=0;t("loader").features.err=!0,t(3),window.onerror=e;try{throw new Error}catch(u){"stack"in u&&(t(4),t(5),"addEventListener"in window&&t(1),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)&&t(2),s=!0)}i.on("fn-start",function(){s&&(c+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&c>0&&(c-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:5,2:8,3:3,4:7,5:6,6:21,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],5:[function(t,e){function n(t){i.inPlace(t,["addEventListener","removeEventListener"],"-",r)}function r(t){return t[1]}var o=(t(1),t("ee").create()),i=t(2)(o),a=t("gos");if(e.exports=o,n(window),"getPrototypeOf"in Object){for(var s=document;s&&!s.hasOwnProperty("addEventListener");)s=Object.getPrototypeOf(s);s&&n(s);for(var c=XMLHttpRequest.prototype;c&&!c.hasOwnProperty("addEventListener");)c=Object.getPrototypeOf(c);c&&n(c)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&n(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t){if(t[1]){var e=t[1];"function"==typeof e?this.wrapped=t[1]=a(e,"nr@wrapped",function(){return i(e,"fn-",null,e.name||"anonymous")}):"function"==typeof e.handleEvent&&i.inPlace(e,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:21,2:22,ee:"QJf3ax",gos:"7eSDFh"}],6:[function(t,e){var n=(t(2),t("ee").create()),r=t(1)(n);e.exports=n,r.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=r(t[0],"fn-")})},{1:22,2:21,ee:"QJf3ax"}],7:[function(t,e){function n(t,e,n){t[0]=o(t[0],"fn-",null,n)}var r=(t(2),t("ee").create()),o=t(1)(r);e.exports=r,o.inPlace(window,["setTimeout","setInterval","setImmediate"],"setTimer-"),r.on("setTimer-start",n)},{1:22,2:21,ee:"QJf3ax"}],8:[function(t,e){function n(){u.inPlace(this,p,"fn-")}function r(t,e){u.inPlace(e,["onreadystatechange"],"fn-")}function o(t,e){return e}function i(t,e){for(var n in t)e[n]=t[n];return e}var a=t("ee").create(),s=t(1),c=t(2),u=c(a),f=c(s),d=window.XMLHttpRequest,p=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];e.exports=a,window.XMLHttpRequest=function(t){var e=new d(t);try{a.emit("new-xhr",[],e),f.inPlace(e,["addEventListener","removeEventListener"],"-",o),e.addEventListener("readystatechange",n,!1)}catch(r){try{a.emit("internal-error",[r])}catch(i){}}return e},i(d,XMLHttpRequest),XMLHttpRequest.prototype=d.prototype,u.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",o),a.on("send-xhr-start",r),a.on("open-xhr-start",r)},{1:5,2:22,ee:"QJf3ax"}],9:[function(t){function e(t){var e=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;c>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!e.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var a=t.responseType,u="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,f=n(u);if(f&&(r.rxSize=f),this.sameOrigin){var d=t.getResponseHeader("X-NewRelic-App-Data");d&&(e.cat=d.split(", ").pop())}}else e.status=0;r.cbTime=this.cbTime,o("xhr",[e,r,this.startTime])}}}function n(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}if(window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)){t("loader").features.xhr=!0;var o=t("handle"),i=t(2),a=t("ee"),s=["load","error","abort","timeout"],c=s.length,u=t(1);t(4),t(3),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=e,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,e){var r=this.metrics,o=t[0],i=this;if(r&&o){var u=n(o);u&&(r.txSize=u)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof e.onload))&&i.end(e)}catch(n){try{a.emit("internal-error",[n])}catch(r){}}};for(var f=0;c>f;f++)e.addEventListener(s[f],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+u(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+u(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof XMLHttpRequest&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{1:"XL7HBI",2:10,3:8,4:5,ee:"QJf3ax",handle:"D5DuLP",loader:"G9z0Bl"}],10:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],11:[function(t,e){function n(t){return function(){r(t,[(new Date).getTime()].concat(i(arguments)))}}var r=t("handle"),o=t(1),i=t(2);"undefined"==typeof window.newrelic&&(newrelic=window.NREUM);var a=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit","noticeError"];o(a,function(t,e){window.NREUM[e]=n("api-"+e)}),e.exports=window.NREUM},{1:20,2:21,handle:"D5DuLP"}],"7eSDFh":[function(t,e){function n(t,e,n){if(r.call(t,e))return t[e];var o=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return t[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],gos:[function(t,e){e.exports=t("7eSDFh")},{}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],D5DuLP:[function(t,e){function n(t,e,n){return r.listeners(t).length?r.emit(t,e,n):(o[t]||(o[t]=[]),void o[t].push(e))}var r=t("ee").create(),o={};e.exports=n,n.ee=r,r.q=o},{ee:"QJf3ax"}],id:[function(t,e){e.exports=t("XL7HBI")},{}],XL7HBI:[function(t,e){function n(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:i(t,o,function(){return r++})}var r=1,o="nr@id",i=t("gos");e.exports=n},{gos:"7eSDFh"}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info,e=u.getElementsByTagName("script")[0];if(t&&t.licenseKey&&t.applicationID&&e){s(d,function(e,n){e in t||(t[e]=n)});var n="https"===f.split(":")[0]||t.sslForHttp;p.proto=n?"https://":"http://",a("mark",["onload",i()]);var r=u.createElement("script");r.src=p.proto+t.agent,e.parentNode.insertBefore(r,e)}}function r(){"complete"===u.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=t(1),c=(t(2),window),u=c.document,f=(""+location).split("?")[0],d={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-632.min.js"},p=e.exports={offset:i(),origin:f,features:{}};u.addEventListener?(u.addEventListener("DOMContentLoaded",o,!1),c.addEventListener("load",n,!1)):(u.attachEvent("onreadystatechange",r),c.attachEvent("onload",n)),a("mark",["firstbyte",i()])},{1:20,2:11,handle:"D5DuLP"}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],20:[function(t,e){function n(t,e){var n=[],o="",i=0;for(o in t)r.call(t,o)&&(n[i]=e(o,t[o]),i+=1);return n}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],21:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],22:[function(t,e){function n(t){return!(t&&"function"==typeof t&&t.apply&&!t[i])}var r=t("ee"),o=t(1),i="nr@wrapper",a=Object.prototype.hasOwnProperty;e.exports=function(t){function e(t,e,r,a){function nrWrapper(){var n,i,s,u;try{i=this,n=o(arguments),s=r&&r(n,i)||{}}catch(d){f([d,"",[n,i,a],s])}c(e+"start",[n,i,a],s);try{return u=t.apply(i,n)}catch(p){throw c(e+"err",[n,i,p],s),p}finally{c(e+"end",[n,i,u],s)}}return n(t)?t:(e||(e=""),nrWrapper[i]=!0,u(t,nrWrapper),nrWrapper)}function s(t,r,o,i){o||(o="");var a,s,c,u="-"===o.charAt(0);for(c=0;c<r.length;c++)s=r[c],a=t[s],n(a)||(t[s]=e(a,u?s+o:o,i,s))}function c(e,n,r){try{t.emit(e,n,r)}catch(o){f([o,e,n,r])}}function u(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){f([r])}for(var o in t)a.call(t,o)&&(e[o]=t[o]);return e}function f(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=r),e.inPlace=s,e.flag=i,e}},{1:21,ee:"QJf3ax"}]},{},["G9z0Bl",4,9]);</script><title>Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial</title><link rel="canonical" href="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial.html"><link rel="shortcut icon" type="image/png" href="http://static.tutsplus.com/assets/favicon-8a030f4d875a2a466b06424c2d495ca4.png"><link rel="apple-touch-icon" type="image/png" href="http://static.tutsplus.com/assets/apple-touch-icon-8a030f4d875a2a466b06424c2d495ca4.png"><link rel="stylesheet" media="all" href="http://static.tutsplus.com/assets/application-c4b481256c3aeb678afeac801c3b3a14.css"><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/collect.js" async="async"></script><!--[if lte IE 8]><link rel="stylesheet" media="screen" href="http://static.tutsplus.com/assets/ie8-60cf0a9325a4cf96153342dac3a0c330.css" /><script src="http://static.tutsplus.com/assets/modernizr.custom-21d4ec93a3dac71842112f3e789ada34.js"></script><![endif]--><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/application-85e1e5e7f018883fda317080b01d35ba.js"></script><link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="http://tutsplus.com/posts.atom"><meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="nzIrmbOg/4MqkNrEyw4VbPDfZXOTNiCWuJtbY50J75av1OLBbPvn6/pORFs51AHxa3teNmpDGZbLT94tpfpk9Q=="><meta content="initial-scale=1" name="viewport"><meta content="index, follow" name="robots"><meta content="Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial" property="og:title"><meta content="Code Tuts+" property="og:site_name"><meta content="1494084460809023" property="fb:app_id"><meta content="iOS SDK" name="ET.category"><meta content="This tutorial will dive into implementing Google Services using the OAuth 2.0 protocol. Read on! | Difficulty: Intermediate; Length: Long; Tags: iOS SDK, Mobile Development" property="og:description"><meta content="article" property="og:type"><meta content="http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394" property="og:url"><meta content="This tutorial will dive into implementing Google Services using the OAuth 2.0 protocol. Read on! | Difficulty: Intermediate; Length: Long; Tags: iOS SDK, Mobile Development" name="description"><meta content="https://cdn.tutsplus.com/mobile/uploads/2013/09/Google-OAuth@2x.png" property="og:image"><script type="text/javascript" async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/embed.js"></script><script async="" type="text/javascript" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/count.js"></script><script async="" type="text/javascript" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/pubads_impl_62.js"></script><style type="text/css"></style><script async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/count-data.js"></script><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/expansion_embed.js"></script><script type="text/javascript" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/osd.js"></script><script type="text/javascript" async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/saved_resource"></script><script type="text/javascript" async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/jquery.min.js"></script><script type="text/javascript" async="" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/saved_resource(1)"></script></head><body class="page-body topic-code" data-ga-account="UA-11792865-37" data-ga-domain="tutsplus.com" data-wt-dcsid="dcs222cpd4g6lg7wb3cum8l5g_6w6m" data-twttr-rendered="true"><div class="announcement-bar view announcement-bar--open view--loaded" data-announcement-id="Hosting-May" data-background-image="https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/296/topics/7/announcement_background_image/hostingbackground.png" data-fallback-background-color="#05212d" data-link-color="#FFFFFF" data-text-color="#66ffcc" style="color: rgb(102, 255, 204); background-image: url(https://s3.amazonaws.com/cms-assets.tutsplus.com/uploads/users/296/topics/7/announcement_background_image/hostingbackground.png); background-color: rgb(5, 33, 45);"><div class="announcement-bar__content"><div class="announcement-bar__primary"><div class="announcement-bar__icon-container"><img class="announcement-bar__icon" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/hOSTINiCON.JPG" alt="Hostinicon"></div><div class="announcement-bar__title">GET HOSTING FROM $3.95/MO PLUS A FREE YEAR ON TUTS+ (RRP $180). <a href="https://www.siteground.com/web-hosting.htm?afcode=39ae9203d4b97b0ee8c892f14fce278c" sl-processed="1" style="color: rgb(255, 255, 255);">HURRY OFFER LIMITED.</a> 

<a href="https://www.siteground.com/web-hosting.htm?afcode=39ae9203d4b97b0ee8c892f14fce278c" class="announcement-bar__desktop-only" style="display: inline-block; border-radius: 3px; padding: 0px 12px; margin: 10px 0px 10px 60px; font-size: 13px; height: 30px; line-height: 30px; text-decoration: none; color: rgb(255, 255, 255); background: rgb(61, 209, 172);" sl-processed="1">Check it out</a></div></div><div class="announcement-bar__secondary"><a title="Close this announcement bar" class="announcement-bar__close-link" href="javascript:" sl-processed="1" style="color: rgb(255, 255, 255);"><span class="announcement-bar__close-label">Dismiss</span><i class="fa fa-times announcement-bar__close-icon"></i></a></div></div></div><!--[if lt IE 10]><div class="legacy-ie-banner"><h2 class="legacy-ie-banner__title">Unsupported browser</h2><p class="legacy-ie-banner__text">This site was designed for modern browsers and tested with Internet Explorer version 10 and later. </p><p class="legacy-ie-banner__text">It may not look or work correctly on your browser. </p></div><![endif]--><nav class="global-nav view view--loaded"><div class="global-nav__mobile"><section class="global-nav__mobile-search"><form action="http://tutsplus.com/tutorials/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓"><input type="text" name="search[terms]" id="search_terms" placeholder="Search Tuts+" class="global-nav__mobile-search-terms"><button name="button" type="submit" class="global-nav__mobile-search-button"><i class="fa fa-search"></i></button></form></section><ul class="global-nav__mobile-top-level"><li class="global-nav__mobile-top-level-item global-nav__mobile-top-level-item--expanded"><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-link-expandable" href="http://tutsplus.com/tutorials" sl-processed="1"><span class="global-nav__mobile-top-level-link-title">Free Tutorials</span></a><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-expansion-link" href="http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394#" sl-processed="1"><span class="global-nav__mobile-top-level-expand-text"><i class="fa fa-plus global-nav__mobile-top-level-link-icon"></i></span><span class="global-nav__mobile-top-level-collapse-text"><i class="fa fa-minus global-nav__mobile-top-level-link-icon"></i></span></a><ul class="global-nav__mobile-second-level"><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-design" href="http://design.tutsplus.com/" sl-processed="1">Design &amp; Illustration</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-code" href="http://code.tutsplus.com/" sl-processed="1">Code</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-webdesign" href="http://webdesign.tutsplus.com/" sl-processed="1">Web Design</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-music" href="http://music.tutsplus.com/" sl-processed="1">Music &amp; Audio</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-photography" href="http://photography.tutsplus.com/" sl-processed="1">Photo &amp; Video</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-cgi" href="http://cgi.tutsplus.com/" sl-processed="1">3D &amp; Motion Graphics</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-gamedevelopment" href="http://gamedevelopment.tutsplus.com/" sl-processed="1">Game Development</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-computers" href="http://computers.tutsplus.com/" sl-processed="1">Computer Skills</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-crafts" href="http://crafts.tutsplus.com/" sl-processed="1">Crafts &amp; DIY</a></li><li class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-business" href="http://business.tutsplus.com/" sl-processed="1">Business</a></li></ul></li><li class="global-nav__mobile-top-level-item"><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-link-expandable" href="http://tutsplus.com/courses" sl-processed="1"><span class="global-nav__mobile-top-level-link-title">Courses</span></a><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-expansion-link" href="http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394#" sl-processed="1"><span class="global-nav__mobile-top-level-expand-text"><i class="fa fa-plus global-nav__mobile-top-level-link-icon"></i></span><span class="global-nav__mobile-top-level-collapse-text"><i class="fa fa-minus global-nav__mobile-top-level-link-icon"></i></span></a><div class="global-nav__mobile-second-level"><div class="global-nav__mobile-second-level-item"></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-design" href="http://design.tutsplus.com/courses" sl-processed="1">Design &amp; Illustration</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-code" href="http://code.tutsplus.com/courses" sl-processed="1">Code</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-webdesign" href="http://webdesign.tutsplus.com/courses" sl-processed="1">Web Design</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-music" href="http://music.tutsplus.com/courses" sl-processed="1">Music &amp; Audio</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-photography" href="http://photography.tutsplus.com/courses" sl-processed="1">Photo &amp; Video</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-cgi" href="http://cgi.tutsplus.com/courses" sl-processed="1">3D &amp; Motion Graphics</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-business" href="http://business.tutsplus.com/courses" sl-processed="1">Business</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-bundles-link" href="http://tutsplus.com/bundles" sl-processed="1"><span class="translation_missing" title="translation missing: en.views.courses.courses_menu.bundles">Bundles</span></a></div></div></li><li class="global-nav__mobile-top-level-item"><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-link-expandable" href="http://tutsplus.com/ebooks" sl-processed="1"><span class="global-nav__mobile-top-level-link-title">eBooks</span></a><a class="global-nav__mobile-top-level-link global-nav__mobile-top-level-expansion-link" href="http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394#" sl-processed="1"><span class="global-nav__mobile-top-level-expand-text"><i class="fa fa-plus global-nav__mobile-top-level-link-icon"></i></span><span class="global-nav__mobile-top-level-collapse-text"><i class="fa fa-minus global-nav__mobile-top-level-link-icon"></i></span></a><div class="global-nav__mobile-second-level"><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-design" href="http://design.tutsplus.com/ebooks" sl-processed="1">Design &amp; Illustration</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-code" href="http://code.tutsplus.com/ebooks" sl-processed="1">Code</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-webdesign" href="http://webdesign.tutsplus.com/ebooks" sl-processed="1">Web Design</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-music" href="http://music.tutsplus.com/ebooks" sl-processed="1">Music &amp; Audio</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-photography" href="http://photography.tutsplus.com/ebooks" sl-processed="1">Photo &amp; Video</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-cgi" href="http://cgi.tutsplus.com/ebooks" sl-processed="1">3D &amp; Motion Graphics</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-crafts" href="http://crafts.tutsplus.com/ebooks" sl-processed="1">Crafts &amp; DIY</a></div><div class="global-nav__mobile-second-level-item"><a class="global-nav__mobile-second-level-topic-link topic-business" href="http://business.tutsplus.com/ebooks" sl-processed="1">Business</a></div></div></li></ul><div class="global-nav__mobile-pricing-button-container"><a class="global-nav__mobile-pricing-button" href="http://tutsplus.com/sign_up" sl-processed="1">Free Account</a></div><div class="global-nav__mobile-user-links"><a class="global-nav__mobile-user-link" href="https://tutsplus.com/sign_up?redirect_to=https%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394" sl-processed="1">Sign Up</a><a class="global-nav__mobile-user-link" href="https://tutsplus.com/sign_in?redirect_to=https%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394" sl-processed="1">Sign In</a></div></div><div class="global-nav__header"><div class="global-nav__header-content"><div class="global-nav__header-left"><a class="global-nav__header-tuts-logo-link" href="http://tutsplus.com/" sl-processed="1"><img alt="tuts+" class="global-nav__header-tuts-logo-image" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/tuts_logo-79176000c077f4191a2cfcc3b312b7ed.svg"></a><form class="global-nav__search" action="http://tutsplus.com/tutorials/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓"><div class="global-nav__search-topic-container"><select name="search[topic]" id="search_topic" class="global-nav__search-topic"><option value="">All Topics</option>
<option value="Design &amp; Illustration">Design &amp; Illustration</option>
<option value="Code">Code</option>
<option value="Web Design">Web Design</option>
<option value="Music &amp; Audio">Music &amp; Audio</option>
<option value="Photo &amp; Video">Photo &amp; Video</option>
<option value="3D &amp; Motion Graphics">3D &amp; Motion Graphics</option>
<option value="Game Development">Game Development</option>
<option value="Computer Skills">Computer Skills</option>
<option value="Crafts &amp; DIY">Crafts &amp; DIY</option>
<option value="Business">Business</option></select></div><div class="global-nav__search-terms-container"><span class="twitter-typeahead" style="position: relative; display: inline-block; direction: ltr;"><input type="text" class="global-nav__search-terms tt-hint" readonly="" autocomplete="off" spellcheck="false" tabindex="-1" style="position: absolute; top: 0px; left: 0px; border-color: transparent; box-shadow: none; opacity: 1; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);"><input type="text" name="search[terms]" id="search_terms" placeholder="Find tutorials, courses, and more..." class="global-nav__search-terms tt-input" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top; background-color: transparent;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: &#39;.HelveticaNeueDeskInterface-Regular&#39;; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="tt-dropdown-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none; right: auto;"><div class="tt-dataset-search"></div></span></span></div><button name="button" type="submit" class="global-nav__search-button"><div class="icon fa fa-search global-nav__search-icon"></div></button></form><ul class="global-nav__header-list"><li class="global-nav__header-item"><nav class="topics-menu view view--loaded" data-toggle=".topics-menu__dropdown-toggle"><a class="topics-menu__dropdown-toggle global-nav__header-link global-nav__header-link--primary global-nav__header-link--active" href="http://tutsplus.com/tutorials" sl-processed="1">Free Tutorials<i class="fa fa-chevron-down"></i></a><ul class="topics-menu__topics"><li class="topics-menu__topic topic-design" data-slug="design"><a class="topics-menu__topic-link topic-design" href="http://design.tutsplus.com/" sl-processed="1">Design &amp; Illustration<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-design"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-design" href="http://design.tutsplus.com/" sl-processed="1">Design &amp; Illustration</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/vector" sl-processed="1">Vector</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/adobe-photoshop" sl-processed="1">Adobe Photoshop</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/adobe-illustrator" sl-processed="1">Adobe Illustrator</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/illustration" sl-processed="1">Illustration</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/tools-tips" sl-processed="1">Tools &amp; Tips</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/inspiration" sl-processed="1">Inspiration</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/news" sl-processed="1">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/designing" sl-processed="1">Designing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/text-effects" sl-processed="1">Text Effects</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-design hello" href="http://design.tutsplus.com/categories/web-roundups" sl-processed="1">Web Roundups</a></li></ul><a class="topics-menu__more-categories-link topic-design" href="http://design.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-design"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-design" href="http://design.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-code" data-slug="code"><a class="topics-menu__topic-link topic-code" href="http://code.tutsplus.com/" sl-processed="1">Code<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-code"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-code" href="http://code.tutsplus.com/" sl-processed="1">Code</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/web-development" sl-processed="1">Web Development</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/wordpress" sl-processed="1">WordPress</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/mobile-development" sl-processed="1">Mobile Development</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/php" sl-processed="1">PHP</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/flash" sl-processed="1">Flash</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/javascript" sl-processed="1">JavaScript</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/news" sl-processed="1">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/ios-sdk" sl-processed="1">iOS SDK</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/android-sdk" sl-processed="1">Android SDK</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-code hello" href="http://code.tutsplus.com/categories/theme-development" sl-processed="1">Theme Development</a></li></ul><a class="topics-menu__more-categories-link topic-code" href="http://code.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-code"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-code" href="http://code.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-webdesign" data-slug="webdesign"><a class="topics-menu__topic-link topic-webdesign" href="http://webdesign.tutsplus.com/" sl-processed="1">Web Design<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-webdesign"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-webdesign" href="http://webdesign.tutsplus.com/" sl-processed="1">Web Design</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/css" sl-processed="1">CSS</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/html-css" sl-processed="1">HTML &amp; CSS</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/adobe-photoshop" sl-processed="1">Adobe Photoshop</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/complete-websites" sl-processed="1">Complete Websites</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/html" sl-processed="1">HTML</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/workflow" sl-processed="1">Workflow</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/design-theory" sl-processed="1">Design Theory</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/general" sl-processed="1">General</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/ui-design" sl-processed="1">UI Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-webdesign hello" href="http://webdesign.tutsplus.com/categories/site-elements" sl-processed="1">Site Elements</a></li></ul><a class="topics-menu__more-categories-link topic-webdesign" href="http://webdesign.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-webdesign"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-webdesign" href="http://webdesign.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-music" data-slug="music"><a class="topics-menu__topic-link topic-music" href="http://music.tutsplus.com/" sl-processed="1">Music &amp; Audio<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-music"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-music" href="http://music.tutsplus.com/" sl-processed="1">Music &amp; Audio</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/audio-production" sl-processed="1">Audio Production</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/general" sl-processed="1">General</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/logic-pro" sl-processed="1">Logic Pro</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/workshops" sl-processed="1">Workshops</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/mixing-mastering" sl-processed="1">Mixing &amp; Mastering</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/open-mic" sl-processed="1">Open Mic</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/sound-design" sl-processed="1">Sound Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/reason" sl-processed="1">Reason</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/ableton-live" sl-processed="1">Ableton Live</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-music hello" href="http://music.tutsplus.com/categories/recording" sl-processed="1">Recording</a></li></ul><a class="topics-menu__more-categories-link topic-music" href="http://music.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-music"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-music" href="http://music.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-photography" data-slug="photography"><a class="topics-menu__topic-link topic-photography" href="http://photography.tutsplus.com/" sl-processed="1">Photo &amp; Video<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-photography"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-photography" href="http://photography.tutsplus.com/" sl-processed="1">Photo &amp; Video</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/shooting" sl-processed="1">Shooting</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/post-processing" sl-processed="1">Post-Processing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/photo-critique" sl-processed="1">Photo Critique</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/adobe-photoshop" sl-processed="1">Adobe Photoshop</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/inspiration" sl-processed="1">Inspiration</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/lighting" sl-processed="1">Lighting</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/news" sl-processed="1">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/lectures" sl-processed="1">Lectures</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/speedlights" sl-processed="1">Speedlights</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-photography hello" href="http://photography.tutsplus.com/categories/adobe-lightroom" sl-processed="1">Adobe Lightroom</a></li></ul><a class="topics-menu__more-categories-link topic-photography" href="http://photography.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-photography"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-photography" href="http://photography.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-cgi" data-slug="cgi"><a class="topics-menu__topic-link topic-cgi" href="http://cgi.tutsplus.com/" sl-processed="1">3D &amp; Motion Graphics<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-cgi"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-cgi" href="http://cgi.tutsplus.com/" sl-processed="1">3D &amp; Motion Graphics</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/adobe-after-effects" sl-processed="1">Adobe After Effects</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/3d" sl-processed="1">3D</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/motion-graphics" sl-processed="1">Motion Graphics</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/3d-studio-max" sl-processed="1">3D Studio Max</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/cinema-4d" sl-processed="1">Cinema 4D</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/maya" sl-processed="1">Maya</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/workflow" sl-processed="1">Workflow</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/news" sl-processed="1">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/visual-effects" sl-processed="1">Visual Effects</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-cgi hello" href="http://cgi.tutsplus.com/categories/adobe-photoshop" sl-processed="1">Adobe Photoshop</a></li></ul><a class="topics-menu__more-categories-link topic-cgi" href="http://cgi.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-cgi"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-cgi" href="http://cgi.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-gamedevelopment" data-slug="gamedevelopment"><a class="topics-menu__topic-link topic-gamedevelopment" href="http://gamedevelopment.tutsplus.com/" sl-processed="1">Game Development<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-gamedevelopment"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-gamedevelopment" href="http://gamedevelopment.tutsplus.com/" sl-processed="1">Game Development</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/implementation" sl-processed="1">Implementation</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/game-design" sl-processed="1">Game Design</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/platform-agnostic" sl-processed="1">Platform Agnostic</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/business" sl-processed="1">Business</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/programming" sl-processed="1">Programming</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/flash" sl-processed="1">Flash</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/from-scratch" sl-processed="1">From Scratch</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/news" sl-processed="1">News</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/construct-2" sl-processed="1">Construct 2</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-gamedevelopment hello" href="http://gamedevelopment.tutsplus.com/categories/html5" sl-processed="1">HTML5</a></li></ul><a class="topics-menu__more-categories-link topic-gamedevelopment" href="http://gamedevelopment.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-gamedevelopment"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-gamedevelopment" href="http://gamedevelopment.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-computers" data-slug="computers"><a class="topics-menu__topic-link topic-computers" href="http://computers.tutsplus.com/" sl-processed="1">Computer Skills<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-computers"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-computers" href="http://computers.tutsplus.com/" sl-processed="1">Computer Skills</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/os-x" sl-processed="1">OS X</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/app-training" sl-processed="1">App Training</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/productivity" sl-processed="1">Productivity</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/tips-shortcuts" sl-processed="1">Tips &amp; Shortcuts</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/electronics" sl-processed="1">Electronics</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/security" sl-processed="1">Security</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/office" sl-processed="1">Office</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/automation" sl-processed="1">Automation</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/hardware" sl-processed="1">Hardware</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-computers hello" href="http://computers.tutsplus.com/categories/media" sl-processed="1">Media</a></li></ul><a class="topics-menu__more-categories-link topic-computers" href="http://computers.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-computers"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-computers" href="http://computers.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-crafts" data-slug="crafts"><a class="topics-menu__topic-link topic-crafts" href="http://crafts.tutsplus.com/" sl-processed="1">Crafts &amp; DIY<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-crafts"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-crafts" href="http://crafts.tutsplus.com/" sl-processed="1">Crafts &amp; DIY</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/decorations" sl-processed="1">Decorations</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/homewares" sl-processed="1">Homewares</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/scissors" sl-processed="1">Scissors</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/sewing" sl-processed="1">Sewing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/yarn" sl-processed="1">Yarn</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/paper-crafts" sl-processed="1">Paper Crafts</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/jewellery" sl-processed="1">Jewellery</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/crochet" sl-processed="1">Crochet</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/fashion" sl-processed="1">Fashion</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-crafts hello" href="http://crafts.tutsplus.com/categories/knitting" sl-processed="1">Knitting</a></li></ul><a class="topics-menu__more-categories-link topic-crafts" href="http://crafts.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-crafts"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-crafts" href="http://crafts.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li><li class="topics-menu__topic topic-business" data-slug="business"><a class="topics-menu__topic-link topic-business" href="http://business.tutsplus.com/" sl-processed="1">Business<i class="fa fa-chevron-right topics-menu__topic-link-chevron"></i></a><div class="topics-menu__topic-submenu topic-business"><span class="topics-menu__submenu-title"><a class="topics-menu__submenu-title-link topic-link topic-business" href="http://business.tutsplus.com/" sl-processed="1">Business</a></span><ul class="topics-menu__featured-categories"><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/freelance" sl-processed="1">Freelance</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/marketing" sl-processed="1">Marketing</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/communication" sl-processed="1">Communication</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/planning" sl-processed="1">Planning</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/finance" sl-processed="1">Finance</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/sales" sl-processed="1">Sales</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/business-finance" sl-processed="1">Business &amp; Finance</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/entrepreneurship" sl-processed="1">Entrepreneurship</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/productivity" sl-processed="1">Productivity</a></li><li class="topics-menu__featured-category"><a class="topics-menu__featured-category-link topic-business hello" href="http://business.tutsplus.com/categories/blogging" sl-processed="1">Blogging</a></li></ul><a class="topics-menu__more-categories-link topic-business" href="http://business.tutsplus.com/categories" sl-processed="1">More Categories...</a><ul class="topics-menu__submenu-footer-links topic-business"><li class="topics-menu__submenu-footer-item"><a class="topics-menu__submenu-footer-link topic-business" href="http://business.tutsplus.com/series" sl-processed="1">Learning Guides</a></li></ul></div></li></ul></nav></li><li class="global-nav__header-item"><nav class="courses-menu view" data-toggle=".courses-menu__dropdown-toggle"><a class="courses-menu__dropdown-toggle global-nav__header-link global-nav__header-link--primary " href="http://tutsplus.com/courses" sl-processed="1">Courses<i class="fa fa-chevron-down"></i></a><ul class="courses-menu__topics"><li class="courses-menu__topic topic-design" data-slug="design"><a class="courses-menu__topic-link topic-design" href="http://design.tutsplus.com/courses" sl-processed="1">Design &amp; Illustration</a></li><li class="courses-menu__topic topic-code" data-slug="code"><a class="courses-menu__topic-link topic-code" href="http://code.tutsplus.com/courses" sl-processed="1">Code</a></li><li class="courses-menu__topic topic-webdesign" data-slug="webdesign"><a class="courses-menu__topic-link topic-webdesign" href="http://webdesign.tutsplus.com/courses" sl-processed="1">Web Design</a></li><li class="courses-menu__topic topic-music" data-slug="music"><a class="courses-menu__topic-link topic-music" href="http://music.tutsplus.com/courses" sl-processed="1">Music &amp; Audio</a></li><li class="courses-menu__topic topic-photography" data-slug="photography"><a class="courses-menu__topic-link topic-photography" href="http://photography.tutsplus.com/courses" sl-processed="1">Photo &amp; Video</a></li><li class="courses-menu__topic topic-cgi" data-slug="cgi"><a class="courses-menu__topic-link topic-cgi" href="http://cgi.tutsplus.com/courses" sl-processed="1">3D &amp; Motion Graphics</a></li><li class="courses-menu__topic topic-business" data-slug="business"><a class="courses-menu__topic-link topic-business" href="http://business.tutsplus.com/courses" sl-processed="1">Business</a></li><a class="courses-menu__topic-link courses-menu__bundles-link" href="http://tutsplus.com/bundles" sl-processed="1"><span class="translation_missing" title="translation missing: en.views.courses.courses_menu.bundles">Bundles</span></a></ul></nav></li><li class="global-nav__header-item"><nav class="ebooks-menu view" data-toggle=".ebooks-menu__dropdown-toggle"><a class="ebooks-menu__dropdown-toggle global-nav__header-link global-nav__header-link--primary " href="http://tutsplus.com/ebooks" sl-processed="1">eBooks<i class="fa fa-chevron-down"></i></a><ul class="ebooks-menu__topics"><li class="ebooks-menu__topic topic-design" data-slug="design"><a class="ebooks-menu__topic-link topic-design" href="http://design.tutsplus.com/ebooks" sl-processed="1">Design &amp; Illustration</a></li><li class="ebooks-menu__topic topic-code" data-slug="code"><a class="ebooks-menu__topic-link topic-code" href="http://code.tutsplus.com/ebooks" sl-processed="1">Code</a></li><li class="ebooks-menu__topic topic-webdesign" data-slug="webdesign"><a class="ebooks-menu__topic-link topic-webdesign" href="http://webdesign.tutsplus.com/ebooks" sl-processed="1">Web Design</a></li><li class="ebooks-menu__topic topic-music" data-slug="music"><a class="ebooks-menu__topic-link topic-music" href="http://music.tutsplus.com/ebooks" sl-processed="1">Music &amp; Audio</a></li><li class="ebooks-menu__topic topic-photography" data-slug="photography"><a class="ebooks-menu__topic-link topic-photography" href="http://photography.tutsplus.com/ebooks" sl-processed="1">Photo &amp; Video</a></li><li class="ebooks-menu__topic topic-cgi" data-slug="cgi"><a class="ebooks-menu__topic-link topic-cgi" href="http://cgi.tutsplus.com/ebooks" sl-processed="1">3D &amp; Motion Graphics</a></li><li class="ebooks-menu__topic topic-crafts" data-slug="crafts"><a class="ebooks-menu__topic-link topic-crafts" href="http://crafts.tutsplus.com/ebooks" sl-processed="1">Crafts &amp; DIY</a></li><li class="ebooks-menu__topic topic-business" data-slug="business"><a class="ebooks-menu__topic-link topic-business" href="http://business.tutsplus.com/ebooks" sl-processed="1">Business</a></li></ul></nav></li><li class="global-nav__header-item"><a class="global-nav__header-link global-nav__header-link--primary global-nav__header-link--blog" href="http://tutsplus.com/blog" sl-processed="1">Blog</a></li></ul></div><div class="global-nav__header-right"><ul class="global-nav__header-list"><li class="global-nav__header-item"><a class="global-nav__header-link" href="http://tutsplus.com/pricing" sl-processed="1">Pricing</a></li><li class="global-nav__header-item"><a class="global-nav__header-link" href="https://tutsplus.com/sign_in?redirect_to=https%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394" sl-processed="1">Sign In</a></li></ul><a class="global-nav__pricing-button" href="http://tutsplus.com/sign_up" sl-processed="1">Free Account</a></div></div></div><div class="global-nav__mobile-toggle"><a class="global-nav__mobile-toggle-link" href="javascript:" sl-processed="1"><i class="fa fa-reorder"></i></a></div></nav><div class="ad view ad--leaderboard"><div class="ad__wrapper"><div class="ad__content" id="div-gpt-1391730982123-0"><div id="google_ads_iframe_/11757429/hub_development_leader_0__container__" style="border: 0pt none; display: inline-block; width: 728px; height: 90px;"><iframe frameborder="0" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/container(4).html" id="google_ads_iframe_/11757429/hub_development_leader_0" name="1-0-2;91365;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;style type=&quot;text/css&quot;&gt;body{margin:0;padding:0;overflow:hidden;}&lt;/style&gt;&lt;script&gt;(function(){var g=this,l=function(a,b){var c=a.split(&quot;.&quot;),d=g;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?m:n;return p.apply(null,arguments)},q=Date.now||function(){return+new Date};var r=document,s=window;var t=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)},w=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var x=function(a){return{visible:1,hidden:2,prerender:3,preview:4}[a.webkitVisibilityState||a.mozVisibilityState||a.visibilityState||&quot;&quot;]||0},y=function(a){var b;a.mozVisibilityState?b=&quot;mozvisibilitychange&quot;:a.webkitVisibilityState?b=&quot;webkitvisibilitychange&quot;:a.visibilityState&amp;&amp;(b=&quot;visibilitychange&quot;);return b};var C=function(){this.g=r;this.k=s;this.j=!1;this.i=null;this.h=[];this.o={};if(z)this.i=q();else if(3==x(this.g)){this.i=q();var a=p(this.q,this);A&amp;&amp;(a=A(&quot;di::vch&quot;,a));this.p=a;var b=this.g,c=y(this.g);b.addEventListener?b.addEventListener(c,a,!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;on&quot;+c,a)}else B(this)},A;C.m=function(){return C.n?C.n:C.n=new C};var D=/^([^:]+:\/\/[^/]+)/m,G=/^\d*,(.+)$/m,z=!1,B=function(a){if(!a.j){a.j=!0;for(var b=0;b&lt;a.h.length;++b)a.l.apply(a,a.h[b]);a.h=[]}};C.prototype.s=function(a,b){var c=b.target.u();(c=G.exec(c))&amp;&amp;(this.o[a]=c[1])};C.prototype.l=function(a,b){this.k.rvdt=this.i?q()-this.i:0;var c;if(c=this.t)t:{try{var d=D.exec(this.k.location.href),e=D.exec(a);if(d&amp;&amp;e&amp;&amp;d[1]==e[1]&amp;&amp;b){var f=p(this.s,this,b);this.t(a,f);c=!0;break t}}catch(u){}c=!1}c||w(this.k,a)};C.prototype.q=function(){if(3!=x(this.g)){B(this);var a=this.g,b=y(this.g),c=this.p;a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+b,c)}};var H=/^true$/.test(&quot;&quot;)?!0:!1;var I={},J=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},M=function(a,b,c,d){var e=K,f,u=!0;try{f=b()}catch(h){try{var N=J(h);b=&quot;&quot;;h.fileName&amp;&amp;(b=h.fileName);var E=-1;h.lineNumber&amp;&amp;(E=h.lineNumber);var v;t:{try{v=c?c():&quot;&quot;;break t}catch(S){}v=&quot;&quot;}u=e(a,N,b,E,v)}catch(k){try{var O=J(k);a=&quot;&quot;;k.fileName&amp;&amp;(a=k.fileName);c=-1;k.lineNumber&amp;&amp;(c=k.lineNumber);K(&quot;pAR&quot;,O,a,c,void 0,void 0)}catch(F){L({context:&quot;mRE&quot;,msg:F.toString()+&quot;\n&quot;+(F.stack||&quot;&quot;)},void 0)}}if(!u)throw h;}finally{if(d)try{d()}catch(T){}}return f},K=function(a,b,c,d,e,f){a={context:a,msg:b.substring(0,512),eid:e&amp;&amp;e.substring(0,40),file:c,line:d.toString(),url:r.URL.substring(0,512),ref:r.referrer.substring(0,512)};P(a);L(a,f);return!0},L=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+Q(a),d=&quot;http&quot;+(&quot;https:&quot;==s.location.protocol?&quot;s&quot;:&quot;&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);w(s,d)}}catch(e){}},P=function(a){var b=a||{};t(I,function(a,d){b[d]=s[a]})},R=function(a,b,c,d,e){return function(){var f=arguments;return M(a,function(){return b.apply(c,f)},d,e)}},Q=function(a){var b=&quot;&quot;;t(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+(&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return b};A=function(a,b,c,d){return R(a,b,void 0,c,d)};z=H;l(&quot;vu&quot;,R(&quot;vu&quot;,function(a,b){var c=a.replace(&quot;&amp;amp;&quot;,&quot;&amp;&quot;),d=/(google|doubleclick).*\/pagead\/adview/.test(c),e=C.m();if(d){d=&quot;&amp;vis=&quot;+x(e.g);b&amp;&amp;(d+=&quot;&amp;ve=1&quot;);var f=c.indexOf(&quot;&amp;adurl&quot;),c=-1==f?c+d:c.substring(0,f)+d+c.substring(f)}e.j?e.l(c,b):e.h.push([c,b])}));l(&quot;vv&quot;,R(&quot;vv&quot;,function(){z&amp;&amp;B(C.m())}));})();&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;root_template_div&quot; style=&quot;position:absolute;overflow:hidden;&quot;&gt;&lt;iframe id=&quot;google_ad_49508504397&quot;sandbox=&quot;allow-scripts allow-top-navigation allow-popups&quot;src=&quot;about:blank&quot;width=&quot;728&quot;height=&quot;90&quot;scrolling=&quot;no&quot;frameborder=&quot;0&quot;style=&quot;border:0;overflow:hidden;&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;script&gt;var adData = {google_width: 728,google_height: 90,google_click_url: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dC-pMOFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAGIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2wB3ZWGgfvKSfR9hS597bg-AtJZA\x26client\x3dca-pub-3558870564527416\x26adurl\x3d&#39;,google_ait_url: &#39;http://googleads.g.doubleclick.net/pagead/conversion/?ai\x3dC-pMOFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAGIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26sigh\x3dBRby2wplzBg\x26label\x3d_AITNAME_\x26value\x3d_AITVALUE_&#39;,redirect_url: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dC-pMOFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAGIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2wB3ZWGgfvKSfR9hS597bg-AtJZA\x26client\x3dca-pub-3558870564527416\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com&#39;,destination_url: &#39;https://ad.doubleclick.net/ddm/clk/287584942;114589838;f?http://www.dice.com&#39;,link_target: &#39;_top&#39;,google_template_data: {&#39;adData&#39;: [{&#39;creationContext&#39;: &#39;WORKFLOW:BURDOCK,TEMPLATE_SOURCE:AD_GALLERY,SP_ID:use_case_jobs_416&#39;,&#39;Design_0_fontUrl&#39;: &#39;AGBookRoundedProMedium_basic.swf&#39;,&#39;Design_0_txtPadding&#39;: &#39;5&#39;,&#39;Design_0_alignHoriz&#39;: &#39;center&#39;,&#39;Design_0_txtColorDisc&#39;: &#39;0x555555&#39;,&#39;Design_0_discSize&#39;: &#39;10&#39;,&#39;Design_0_cornerStyle&#39;: &#39;square&#39;,&#39;Design_0_txtColorDescription&#39;: &#39;0x4d4d4d&#39;,&#39;Design_0_descriptionSize&#39;: &#39;14&#39;,&#39;Design_0_txtColorSubTitle&#39;: &#39;0x4d4d4d&#39;,&#39;Design_0_subTitleSize&#39;: &#39;18&#39;,&#39;Design_0_showSubTitle&#39;: &#39;TRUE&#39;,&#39;Design_0_priceSize&#39;: &#39;24&#39;,&#39;Design_0_txtColorPrice&#39;: &#39;0x0073ed&#39;,&#39;Headline_0_showPrice&#39;: &#39;TRUE&#39;,&#39;Design_0_glowColor&#39;: &#39;0x666666&#39;,&#39;Design_0_nameSize&#39;: &#39;24&#39;,&#39;Design_0_txtColorProduct&#39;: &#39;0x4d4d4d&#39;,&#39;Design_0_bgAlpha&#39;: &#39;.3&#39;,&#39;Design_0_bgGradient&#39;: &#39;FALSE&#39;,&#39;Design_0_borderColor&#39;: &#39;0xcbcbcb&#39;,&#39;Design_0_bgColorAlt&#39;: &#39;0xe6e6e6&#39;,&#39;Design_0_bgColor&#39;: &#39;0xffffff&#39;,&#39;Headline_0_productClickOnly&#39;: &#39;TRUE&#39;,&#39;Design_0_btnShad&#39;: &#39;FALSE&#39;,&#39;Design_0_btnBevel&#39;: &#39;FALSE&#39;,&#39;Design_0_btnStyle&#39;: &#39;square&#39;,&#39;Design_0_btnRollColor&#39;: &#39;0x004479&#39;,&#39;Design_0_btnColor&#39;: &#39;0x0073ed&#39;,&#39;Design_0_txtColorCta&#39;: &#39;0xffffff&#39;,&#39;Headline_0_cta&#39;: &#39;Find More Jobs&#39;,&#39;Design_0_priceSuffixSize&#39;: &#39;18&#39;,&#39;Design_0_txtColorPriceSuffix&#39;: &#39;0xb00000&#39;,&#39;Design_0_pricePrefixSize&#39;: &#39;12&#39;,&#39;Design_0_txtColorPricePrefix&#39;: &#39;0x0073ed&#39;,&#39;Design_0_subHeadlineShadow&#39;: &#39;TRUE&#39;,&#39;Design_0_subHeadlineSize&#39;: &#39;17&#39;,&#39;Design_0_bgColorSubHeadline&#39;: &#39;0xb00000&#39;,&#39;Design_0_txtColorSubHeadline&#39;: &#39;0x4d4d4d&#39;,&#39;Design_0_txtShadow&#39;: &#39;FALSE&#39;,&#39;Design_0_headlineSize&#39;: &#39;24&#39;,&#39;Design_0_bgColorTitle&#39;: &#39;0xffffff&#39;,&#39;Design_0_txtColorTitle&#39;: &#39;0x4d4d4d&#39;,&#39;Design_0_logoPadding&#39;: &#39;2&#39;,&#39;Design_0_enforceLogo&#39;: &#39;true&#39;,&#39;layout&#39;: &#39;Custom&#39;,&#39;Product_0_name&#39;: &#39;Java Developer&#39;,&#39;Product_0_subTitle&#39;: &#39;Protege LLC&#39;,&#39;Product_0_description&#39;: &#39;Jobs in Merrimack|Merrimack, NH&#39;,&#39;Product_0_url&#39;: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dCRyknFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAH6BQYIJRABGACIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2iUcRn7PwjxT2a99tR2p8aDErh1A\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com/job/result/10448332/1112015\x26client\x3dca-pub-3558870564527416&#39;,&#39;Product_1_name&#39;: &#39;iOS Software Engineer&#39;,&#39;Product_1_subTitle&#39;: &#39;WillowTree Apps, Inc&#39;,&#39;Product_1_description&#39;: &#39;Jobs in Boulder|Boulder, CO&#39;,&#39;Product_1_url&#39;: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dCRyknFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAH6BQYIJRABGACIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2iUcRn7PwjxT2a99tR2p8aDErh1A\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com/job/result/RTX16a3c7/024024\x26client\x3dca-pub-3558870564527416&#39;,&#39;Product_2_name&#39;: &#39;iOS Software Engineer&#39;,&#39;Product_2_subTitle&#39;: &#39;WillowTree Apps, Inc&#39;,&#39;Product_2_description&#39;: &#39;Jobs in Raleigh|Raleigh, NC&#39;,&#39;Product_2_url&#39;: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dCRyknFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAH6BQYIJRABGACIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2iUcRn7PwjxT2a99tR2p8aDErh1A\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com/job/result/RTX16a3c7/023974\x26client\x3dca-pub-3558870564527416&#39;,&#39;Product_3_name&#39;: &#39;iOS Developer&#39;,&#39;Product_3_subTitle&#39;: &#39;AET SOLUTIONS INC&#39;,&#39;Product_3_description&#39;: &#39;Jobs in Boston|Boston, MA&#39;,&#39;Product_3_url&#39;: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dCRyknFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAH6BQYIJRABGACIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2iUcRn7PwjxT2a99tR2p8aDErh1A\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com/job/result/10109678/995068\x26client\x3dca-pub-3558870564527416&#39;,&#39;Product_4_name&#39;: &#39;Mobile Application Developer w/ 8-10+ yrs exp.(Android \x26 iOS)&#39;,&#39;Product_4_subTitle&#39;: &#39;Digipulse Technologies, Inc&#39;,&#39;Product_4_description&#39;: &#39;Jobs in Parsippany|Parsippany, NJ&#39;,&#39;Product_4_url&#39;: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dCRyknFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAH6BQYIJRABGACIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2iUcRn7PwjxT2a99tR2p8aDErh1A\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com/job/result/10227485/034317\x26client\x3dca-pub-3558870564527416&#39;,&#39;Product_5_name&#39;: &#39;iOS Developer&#39;,&#39;Product_5_subTitle&#39;: &#39;Access Data Consulting Corp&#39;,&#39;Product_5_description&#39;: &#39;Jobs in Denver|Denver, CO&#39;,&#39;Product_5_url&#39;: &#39;http://www.googleadservices.com/pagead/aclk?sa\x3dL\x26ai\x3dCRyknFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAH6BQYIJRABGACIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26num\x3d1\x26cid\x3d5GiSHpDM9nI3RC_XB827awsf\x26sig\x3dAOD64_2iUcRn7PwjxT2a99tR2p8aDErh1A\x26adurl\x3dhttps://ad.doubleclick.net/ddm/clk/287584942%3B114589838%3Bf%3Fhttp://www.dice.com/job/result/adcc/036073\x26client\x3dca-pub-3558870564527416&#39;,&#39;displayUrl&#39;: &#39;www.dice.com&#39;,&#39;destinationUrl&#39;: &#39;https://ad.doubleclick.net/ddm/clk/287584942;114589838;f?http://www.dice.com&#39;,&#39;Custom_layout&#39;: &#39;http://pagead2.googlesyndication.com/sadbundle/311432750582278384/_min_Dice_1a_728x90.html&#39;}]}};(function(){var g=this,h=function(a,c,b){a=a.split(&quot;.&quot;);b=b||g;a[0]in b||!b.execScript||b.execScript(&quot;var &quot;+a[0]);for(var d;a.length&amp;&amp;(d=a.shift());)a.length||void 0===c?b=b[d]?b[d]:b[d]={}:b[d]=c},m=function(){var a=l,c=typeof a;if(&quot;object&quot;==c)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==b)return&quot;object&quot;;if(&quot;[object Array]&quot;==b||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==b||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==c&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return c},n=function(a,c,b){return a.call.apply(a.bind,arguments)},p=function(a,c,b){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}return function(){return a.apply(c,arguments)}},q=function(a,c,b){q=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?n:p;return q.apply(null,arguments)},v=function(){var a=t,c=u;function b(){}b.prototype=c.prototype;a.I=c.prototype;a.prototype=new b;a.F=function(a,b,f){for(var r=Array(arguments.length-2),k=2;k&lt;arguments.length;k++)r[k-2]=arguments[k];return c.prototype[b].apply(a,r)}};var u=function(a,c){this.u=a;this.l=c;var b=document.documentMode;this.r=b&amp;&amp;10&gt;b;this.b={};this.f=!1},y=function(a,c){var b=c.n;switch(c.t){case 1:var d=c.d,b=w(a,b);b.h(d);break;case 2:var d=a,e=w(d,b);e.j=!0;x(d,b)}},w=function(a,c){a.b[c]||(a.b[c]={j:!1,g:[],h:null});return a.b[c]},x=function(a,c){var b=w(a,c);if(b.j){for(var d=b.g.length,e=0;e&lt;d;e++)a.sendMessage(c,b.g[e]);b.g=[]}},z=function(a,c){if(a.f){var b={t:2};b.s=a.l;b.n=c;a.send(b)}};u.prototype.registerApplicationHandler=function(a,c){var b=w(this,a);b.h=c;z(this,a)};u.prototype.sendMessage=function(a,c){var b=w(this,a);this.f&amp;&amp;b.j?(b={t:1},b.s=this.l,b.n=a,b.d=c,this.send(b)):b.g.push(c)};var A=function(a){var c,b;h(c||&quot;secureChannel&quot;,a,b);a.registerApplicationHandler=a.registerApplicationHandler;a.sendMessage=a.sendMessage;a.isInitialized=a.q};u.prototype.q=function(){return this.f};var t=function(a,c){u.call(this,a,c);this.o=!!window.MessageChannel;this.k=this.a=null;window.addEventListener&amp;&amp;(this.v=q(this.A,this),window.addEventListener(&quot;message&quot;,this.v,!1))};v();t.prototype.send=function(a){this.o?this.a&amp;&amp;this.a.postMessage(a):(a=this.r?JSON.stringify(a):a,this.k.source.parent.postMessage(a,&quot;*&quot;))};t.prototype.A=function(a){var c;c=a.data;c=this.r?JSON.parse(c):c;if(c.s===this.l&amp;&amp;(this.o?a.source===this.u:a.source.parent===this.u))if(0===c.t){if(B(this,a)){this.f=!0;for(var b in this.b)this.b[b].h&amp;&amp;z(this,b),x(this,b)}}else this.k=a,y(this,c)};var B=function(a,c){if(a.o){a.a=c.ports&amp;&amp;c.ports[0];if(!a.a)return!1;a.a.addEventListener(&quot;message&quot;,q(function(a){y(this,a.data)},a),!1);a.a.start()}else a.k=c;return!0};var C=window;var D=function(a,c,b){var d;a.addEventListener?a.addEventListener(c,b,d||!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+c,b)},E=function(a,c,b){var d;a.removeEventListener?a.removeEventListener(c,b,d||!1):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+c,b)};var F=function(a,c,b){a.google_image_requests||(a.google_image_requests=[]);var d=a.document.createElement(&quot;img&quot;);if(b){var e=function(a){b(a);E(d,&quot;load&quot;,e);E(d,&quot;error&quot;,e)};D(d,&quot;load&quot;,e);D(d,&quot;error&quot;,e)}d.src=c;a.google_image_requests.push(d)};var G=function(a,c){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&amp;&amp;c.call(null,a[b],b,a)};var H=.01,I=function(a){var c=&quot;&quot;;G(a,function(a,d){if(0===a||a)c+=&quot;&amp;&quot;+d+&quot;=&quot;+(&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return c};var J;n:{var K=g.navigator;if(K){var L=K.userAgent;if(L){J=L;break n}}J=&quot;&quot;}var M=function(a){var c=J;return-1!=c.indexOf(a)};var N=function(){return M(&quot;Opera&quot;)||M(&quot;OPR&quot;)},O=function(){return M(&quot;Edge&quot;)||M(&quot;Trident&quot;)||M(&quot;MSIE&quot;)},P=N,Q=O;var R=P();Q();if(R&amp;&amp;g.opera){var l=g.opera.version;&quot;function&quot;==m()&amp;&amp;l()};var S=function(a){var c,b=&quot;html5-mon&quot;,d=1;try{if(d=d||H,Math.random()&lt;d){var e=&quot;/pagead/gen_204?id=&quot;+b+I(a),f,r;a=r||C;f=&quot;http:&quot;==a.location.protocol;e=&quot;http&quot;+(f?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+e;e=e.substring(0,2E3);&quot;undefined&quot;===typeof c?(c=C,F(c,e,void 0)):(f=C,F(f,e,c))}}catch(k){}};var T=function(a,c,b,d){if(b=document.getElementById(b)){var e=new t(b.contentWindow,a);window.setTimeout(function(){if(!e.q()){var a=c.monitoring;if(a){var b=S,a={w:a.creativeId||-1,D:a.templateId||-1,p:a.experimentId,G:a.reportErrors||!1,H:a.reportPerf||!1,C:b,B:a.layoutPath},d,b=&quot;sc&quot;,f=&quot;1&quot;;d=d||{};d.i=a.w;d.t=a.D;d.c=b;d.m=f;d.lp=a.B;a.p&amp;&amp;(d.e=a.p);a.C(d)}}},2E4);e.sendMessage(&quot;adData&quot;,c);A(e);var f=C.location.origin||C.location.protocol+&quot;//&quot;+C.location.host;b.src=d+&quot;#t=&quot;+encodeURIComponent(a)+&quot;&amp;p=&quot;+encodeURIComponent(f)}},U;h(&quot;send&quot;,T,U);})();send(&#39;1380823428572121477&#39;, adData,&#39;google_ad_49508504397&#39;, &#39;http://pagead2.googlesyndication.com/sadbundle/311432750582278384/_min_Dice_1a_728x90.html&#39;);(function(){var k,m=this,aa=function(a,b){var c=a.split(&quot;.&quot;),d=m;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},ba=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},n=function(a){return&quot;array&quot;==ba(a)},r=function(a){return&quot;string&quot;==typeof a},t=function(a){return&quot;number&quot;==typeof a},ca=&quot;closure_uid_&quot;+(1E9*Math.random()&gt;&gt;&gt;0),da=0,ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){u=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ea:fa;return u.apply(null,arguments)},v=Date.now||function(){return+new Date},ga=function(a,b){function c(){}c.prototype=b.prototype;a.$a=b.prototype;a.prototype=new c;a.Xa=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h&lt;arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var ha=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},ia=function(a){return Array.prototype.join.call(arguments,&quot;&quot;)},ja=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var w=window;var ka=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};var x=function(){this.D=new XMLHttpRequest};x.prototype.get=function(a,b){if(this.D&amp;&amp;(0==this.D.readyState||4==this.D.readyState))try{this.D.onreadystatechange=u(this.Ea,this,b),this.D.open(&quot;GET&quot;,a,!0),this.D.send(null)}catch(c){b()}};x.prototype.Ea=function(a){4==this.D.readyState&amp;&amp;a()};var la=function(a,b,c){var d=function(){window.top.location=b},e=new x;c?e.get(a,c):e.get(a,d)},y=function(a,b,c,d){this.la=a;this.Ia=b;this.ma=null;this.fa=c;this.qa=d;this.F=this.ba=this.J=this.G=this.I=!1;this.ca=void 0;this.v=this.N=this.S=null;this.na=this.ea=this.ya=this.Ka=this.Ba=this.W=this.U=this.ha=this.ta=this.ka=this.Ca=0};y.prototype.Ga=function(){this.U=v();this.I=!1;ma(this)};y.prototype.sa=function(){try{this.v&amp;&amp;4==this.v.readyState&amp;&amp;this.G&amp;&amp;(this.W=v(),this.G=!1,this.v.responseText&amp;&amp;0&lt;this.v.responseText.length&amp;&amp;(this.S=&quot;tel:&quot;+this.v.responseText))}finally{ma(this)}};y.prototype.Wa=function(){this.ha=v();this.F=!1;ma(this)};var ma=function(a){a.J||(a.I||a.G?a.F||na(a):(a.F&amp;&amp;(a.F=!1,window.clearTimeout(a.ca),a.ca=void 0),na(a)))},na=function(a){if(!a.J){a.J=!0;a.ba=!0;var b=0==a.U?0:a.U-a.ka,c=0==a.W?0:a.W-a.ta,d=0==a.ha?0:a.ha-a.Ca,e=a.N&amp;&amp;a.N.D?a.N.D.status:&quot;noreq&quot;,f=a.v?a.v.status:&quot;noreq&quot;,g=/&amp;ctype=\d+/.exec(a.la),g=g?g[0]:&quot;&quot;;a.Ba++;var h=0;0!=a.ya&amp;&amp;0!=a.ea&amp;&amp;(h=a.ea-a.ya);a.ma=[&quot;//googleads.g.doubleclick.net/pagead/gen_204?id=ctc_metrics&quot;,g,&quot;&amp;dc=&quot;+a.na,&quot;&amp;ec=&quot;+a.Ka,&quot;&amp;rc=&quot;+a.Ba,&quot;&amp;ct=&quot;+h,&quot;&amp;ctc_num=&quot;+a.fa,&quot;&amp;ctc_gvn=&quot;+a.S,&quot;&amp;ctc_cs_time=&quot;+b,&quot;&amp;ctc_gv_time=&quot;+c,&quot;&amp;ctc_to_time=&quot;+d,&quot;&amp;ctc_cs_status=&quot;+e,&quot;&amp;ctc_gv_status=&quot;+f].join(&quot;&quot;);(new x).get(a.ma,u(a.Aa,a));window.setTimeout(u(a.Aa,a),2E3)}};y.prototype.Aa=function(){this.ba&amp;&amp;(this.F=this.G=this.I=this.ba=!1,null!=this.qa?this.qa(this.S||this.fa):window.top.location=this.S||this.fa)};var oa=function(a,b,c,d){a=new y(a,b,c,d);b=v();a.I||a.G||a.F?a.na++:a.ea=b;var e=d=c=!1;a.I||(a.I=!0,a.J=!1,a.ka=b,a.U=b,d=!0);a.G||null!=a.S||(a.G=!0,a.J=!1,a.ta=b,a.W=b,e=!0);a.F||(a.F=!0,a.J=!1,a.Ca=b,c=!0);c&amp;&amp;(a.ca=window.setTimeout(u(a.Wa,a),2E3));d&amp;&amp;(a.N=new x,a.N.get(a.la,u(a.Ga,a)));if(e)try{a.v=new XMLHttpRequest,a.v.onreadystatechange=u(a.sa,a),a.v.open(&quot;GET&quot;,a.Ia,!0),a.v.send(null)}catch(f){a.sa()}};aa(&quot;ctc_bd&quot;,la);aa(&quot;ctc_bd_gv&quot;,oa);var A=Array.prototype,pa=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=r(a)?a.split(&quot;&quot;):a,h=0;h&lt;d;h++)if(h in g){var p=g[h];b.call(c,p,h,a)&amp;&amp;(e[f++]=p)}return e},qa=A.map?function(a,b,c){return A.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=r(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e},ra=function(a){return A.concat.apply(A,arguments)},sa=function(a){var b=a.length;if(0&lt;b){for(var c=Array(b),d=0;d&lt;b;d++)c[d]=a[d];return c}return[]};var ta=function(){this.oa=this.oa;this.Ra=this.Ra};ta.prototype.oa=!1;var ua=function(a){var b=arguments.length;if(1==b&amp;&amp;n(arguments[0]))return ua.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var B;a:{var va=m.navigator;if(va){var wa=va.userAgent;if(wa){B=wa;break a}}B=&quot;&quot;}var C=function(a){return-1!=B.indexOf(a)};var xa=function(){return C(&quot;Edge&quot;)||C(&quot;Trident&quot;)||C(&quot;MSIE&quot;)};var ya=C(&quot;Opera&quot;)||C(&quot;OPR&quot;),D=xa(),za=C(&quot;Gecko&quot;)&amp;&amp;!(-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!C(&quot;Edge&quot;))&amp;&amp;!(C(&quot;Trident&quot;)||C(&quot;MSIE&quot;))&amp;&amp;!C(&quot;Edge&quot;),Aa=-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!C(&quot;Edge&quot;),Ba=function(){var a=B;if(za)return/rv\:([^\);]+)(\)|;)/.exec(a);if(D&amp;&amp;C(&quot;Edge&quot;))return/Edge\/([\d\.]+)/.exec(a);if(D)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Aa)return/WebKit\/(\S+)/.exec(a)},Ca=function(){if(ya&amp;&amp;m.opera){var a=m.opera.version;return&quot;function&quot;==ba(a)?a():a}var a=&quot;&quot;,b=Ba();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return D&amp;&amp;!C(&quot;Edge&quot;)&amp;&amp;(b=(b=m.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a}(),Da={},E=function(a){var b;if(!(b=Da[a])){b=0;for(var c=ha(String(Ca)).split(&quot;.&quot;),d=ha(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,h=d[f]||&quot;&quot;,p=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),l=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var q=p.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],z=l.exec(h)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==q[0].length&amp;&amp;0==z[0].length)break;b=ja(0==q[1].length?0:parseInt(q[1],10),0==z[1].length?0:parseInt(z[1],10))||ja(0==q[2].length,0==z[2].length)||ja(q[2],z[2])}while(0==b)}b=Da[a]=0&lt;=b}return b};D&amp;&amp;E(&quot;9&quot;);!Aa||E(&quot;528&quot;);za&amp;&amp;E(&quot;1.9b&quot;)||D&amp;&amp;E(&quot;8&quot;)||ya&amp;&amp;E(&quot;9.5&quot;)||Aa&amp;&amp;E(&quot;528&quot;);za&amp;&amp;!E(&quot;8&quot;)||D&amp;&amp;E(&quot;9&quot;);var F=function(a,b,c){ta.call(this);this.za=a;this.Na=b||0;this.La=c;this.Fa=u(this.pa,this)};ga(F,ta);F.prototype.L=0;F.prototype.start=function(a){this.stop();var b=this.Fa;a=void 0!==a?a:this.Na;if(&quot;function&quot;!=ba(b))if(b&amp;&amp;&quot;function&quot;==typeof b.handleEvent)b=u(b.handleEvent,b);else throw Error(&quot;Invalid listener argument&quot;);this.L=2147483647&lt;a?-1:m.setTimeout(b,a||0)};F.prototype.stop=function(){0!=this.L&amp;&amp;m.clearTimeout(this.L);this.L=0};F.prototype.pa=function(){this.L=0;this.za&amp;&amp;this.za.call(this.La)};ua(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var Ea=&quot;StopIteration&quot;in m?m.StopIteration:{message:&quot;StopIteration&quot;,stack:&quot;&quot;},Fa=function(){};Fa.prototype.next=function(){throw Ea;};Fa.prototype.Da=function(){return this};var G=function(a,b){this.B={};this.j=[];this.$=this.h=0;var c=arguments.length;if(1&lt;c){if(c%2)throw Error(&quot;Uneven number of arguments&quot;);for(var d=0;d&lt;c;d+=2)this.set(arguments[d],arguments[d+1])}else a&amp;&amp;this.addAll(a)};k=G.prototype;k.ra=function(){return this.h};k.K=function(){H(this);for(var a=[],b=0;b&lt;this.j.length;b++)a.push(this.B[this.j[b]]);return a};k.R=function(){H(this);return this.j.concat()};k.O=function(a){return I(this.B,a)};k.s=function(a,b){if(this===a)return!0;if(this.h!=a.ra())return!1;var c=b||Ga;H(this);for(var d,e=0;d=this.j[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};var Ga=function(a,b){return a===b};G.prototype.remove=function(a){return I(this.B,a)?(delete this.B[a],this.h--,this.$++,this.j.length&gt;2*this.h&amp;&amp;H(this),!0):!1};var H=function(a){if(a.h!=a.j.length){for(var b=0,c=0;b&lt;a.j.length;){var d=a.j[b];I(a.B,d)&amp;&amp;(a.j[c++]=d);b++}a.j.length=c}if(a.h!=a.j.length){for(var e={},c=b=0;b&lt;a.j.length;)d=a.j[b],I(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}};k=G.prototype;k.get=function(a,b){return I(this.B,a)?this.B[a]:b};k.set=function(a,b){I(this.B,a)||(this.h++,this.j.push(a),this.$++);this.B[a]=b};k.addAll=function(a){var b;if(a instanceof G)b=a.R(),a=a.K();else{b=[];var c=0,d;for(d in a)b[c++]=d;c=[];d=0;for(var e in a)c[d++]=a[e];a=c}for(e=0;e&lt;b.length;e++)this.set(b[e],a[e])};k.forEach=function(a,b){for(var c=this.R(),d=0;d&lt;c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new G(this)};k.Da=function(a){H(this);var b=0,c=this.$,d=this,e=new Fa;e.next=function(){if(c!=d.$)throw Error(&quot;The map has changed since the iterator was created&quot;);if(b&gt;=d.j.length)throw Ea;var e=d.j[b++];return a?e:d.B[e]};return e};var I=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var J=function(a,b){this.g=a|0;this.a=b|0},Ha,Ia,Ja,Ka,La,Ma,Na={},K=function(a){if(-128&lt;=a&amp;&amp;128&gt;a){var b=Na[a];if(b)return b}b=new J(a|0,0&gt;a?-1:0);-128&lt;=a&amp;&amp;128&gt;a&amp;&amp;(Na[a]=b);return b},O=function(a){isNaN(a)||!isFinite(a)?a=L():a&lt;=-Oa?a=M():a+1&gt;=Oa?(Ka||(Ka=new J(-1,2147483647)),a=Ka):a=0&gt;a?N(O(-a)):new J(a%4294967296|0,a/4294967296|0);return a},Pa=function(a,b){if(0==a.length)throw Error(&quot;number format error: empty string&quot;);var c=b||10;if(2&gt;c||36&lt;c)throw Error(&quot;radix out of range: &quot;+c);if(&quot;-&quot;==a.charAt(0))return N(Pa(a.substring(1),c));if(0&lt;=a.indexOf(&quot;-&quot;))throw Error(&#39;number format error: interior &quot;-&quot; character: &#39;+a);for(var d=O(Math.pow(c,8)),e=L(),f=0;f&lt;a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),c);8&gt;g?(g=O(Math.pow(c,g)),e=e.multiply(g).add(O(h))):(e=e.multiply(d),e=e.add(O(h)))}return e},Oa=4294967296*4294967296/2,L=function(){Ha||(Ha=K(0));return Ha},P=function(){Ia||(Ia=K(1));return Ia},Qa=function(){Ja||(Ja=K(-1));return Ja},M=function(){La||(La=new J(0,-2147483648));return La};J.prototype.toString=function(a){a=a||10;if(2&gt;a||36&lt;a)throw Error(&quot;radix out of range: &quot;+a);if(Q(this))return&quot;0&quot;;if(0&gt;this.a){if(this.s(M())){var b=O(a),c=R(this,b),b=Ra(c.multiply(b),this);return c.toString(a)+b.g.toString(a)}return&quot;-&quot;+N(this).toString(a)}for(var c=O(Math.pow(a,6)),b=this,d=&quot;&quot;;;){var e=R(b,c),f=Ra(b,e.multiply(c)).g.toString(a),b=e;if(Q(b))return f+d;for(;6&gt;f.length;)f=&quot;0&quot;+f;d=&quot;&quot;+f+d}};var Sa=function(a){return 0&lt;=a.g?a.g:4294967296+a.g},Q=function(a){return 0==a.a&amp;&amp;0==a.g};J.prototype.s=function(a){return this.a==a.a&amp;&amp;this.g==a.g};var Ta=function(a){Ma||(Ma=K(16777216));return 0&gt;a.compare(Ma)};J.prototype.compare=function(a){if(this.s(a))return 0;var b=0&gt;this.a,c=0&gt;a.a;return b&amp;&amp;!c?-1:!b&amp;&amp;c?1:0&gt;Ra(this,a).a?-1:1};var N=function(a){return a.s(M())?M():(new J(~a.g,~a.a)).add(P())};J.prototype.add=function(a){var b=this.a&gt;&gt;&gt;16,c=this.a&amp;65535,d=this.g&gt;&gt;&gt;16,e=a.a&gt;&gt;&gt;16,f=a.a&amp;65535,g=a.g&gt;&gt;&gt;16,h;h=0+((this.g&amp;65535)+(a.g&amp;65535));a=0+(h&gt;&gt;&gt;16);a+=d+g;d=0+(a&gt;&gt;&gt;16);d+=c+f;c=0+(d&gt;&gt;&gt;16);c=c+(b+e)&amp;65535;return new J((a&amp;65535)&lt;&lt;16|h&amp;65535,c&lt;&lt;16|d&amp;65535)};var Ra=function(a,b){return a.add(N(b))};J.prototype.multiply=function(a){if(Q(this)||Q(a))return L();if(this.s(M()))return 1==(a.g&amp;1)?M():L();if(a.s(M()))return 1==(this.g&amp;1)?M():L();if(0&gt;this.a)return 0&gt;a.a?N(this).multiply(N(a)):N(N(this).multiply(a));if(0&gt;a.a)return N(this.multiply(N(a)));if(Ta(this)&amp;&amp;Ta(a))return O((4294967296*this.a+Sa(this))*(4294967296*a.a+Sa(a)));var b=this.a&gt;&gt;&gt;16,c=this.a&amp;65535,d=this.g&gt;&gt;&gt;16,e=this.g&amp;65535,f=a.a&gt;&gt;&gt;16,g=a.a&amp;65535,h=a.g&gt;&gt;&gt;16;a=a.g&amp;65535;var p,l,q,z;z=0+e*a;q=0+(z&gt;&gt;&gt;16);q+=d*a;l=0+(q&gt;&gt;&gt;16);q=(q&amp;65535)+e*h;l+=q&gt;&gt;&gt;16;q&amp;=65535;l+=c*a;p=0+(l&gt;&gt;&gt;16);l=(l&amp;65535)+d*h;p+=l&gt;&gt;&gt;16;l&amp;=65535;l+=e*g;p+=l&gt;&gt;&gt;16;l&amp;=65535;p=p+(b*a+c*h+d*g+e*f)&amp;65535;return new J(q&lt;&lt;16|z&amp;65535,p&lt;&lt;16|l)};var R=function(a,b){if(Q(b))throw Error(&quot;division by zero&quot;);if(Q(a))return L();if(a.s(M())){if(b.s(P())||b.s(Qa()))return M();if(b.s(M()))return P();var c;c=1;if(0==c)c=a;else{var d=a.a;c=32&gt;c?new J(a.g&gt;&gt;&gt;c|d&lt;&lt;32-c,d&gt;&gt;c):new J(d&gt;&gt;c-32,0&lt;=d?0:-1)}c=R(c,b).shiftLeft(1);if(c.s(L()))return 0&gt;b.a?P():Qa();d=Ra(a,b.multiply(c));return c.add(R(d,b))}if(b.s(M()))return L();if(0&gt;a.a)return 0&gt;b.a?R(N(a),N(b)):N(R(N(a),b));if(0&gt;b.a)return N(R(a,N(b)));for(var e=L(),d=a;0&lt;=d.compare(b);){c=Math.max(1,Math.floor((4294967296*d.a+Sa(d))/(4294967296*b.a+Sa(b))));for(var f=Math.ceil(Math.log(c)/Math.LN2),f=48&gt;=f?1:Math.pow(2,f-48),g=O(c),h=g.multiply(b);0&gt;h.a||0&lt;h.compare(d);)c-=f,g=O(c),h=g.multiply(b);Q(g)&amp;&amp;(g=P());e=e.add(g);d=Ra(d,h)}return e};J.prototype.shiftLeft=function(a){a&amp;=63;if(0==a)return this;var b=this.g;return 32&gt;a?new J(b&lt;&lt;a,this.a&lt;&lt;a|b&gt;&gt;&gt;32-a):new J(0,b&lt;&lt;a-32)};K(0);K(1);K(-1);var Ua=function(a,b){this.width=a;this.height=b};Ua.prototype.clone=function(){return new Ua(this.width,this.height)};Ua.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};Ua.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};var Va=function(a,b){for(var c=[a],d=b.length-1;0&lt;=d;--d)c.push(typeof b[d],b[d]);return c.join(&quot;\x0B&quot;)};var Wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Ya=function(a){if(Xa){Xa=!1;var b=m.location;if(b){var c=b.href;if(c&amp;&amp;(c=(c=Ya(c)[3]||null)?decodeURI(c):c)&amp;&amp;c!=b.hostname)throw Xa=!0,Error();}}return a.match(Wa)},Xa=Aa,Za=function(a,b){for(var c=a.split(&quot;&amp;&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;),f=null,g=null;0&lt;=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g,&quot; &quot;)):&quot;&quot;)}},$a=function(a){if(a[1]){var b=a[0],c=b.indexOf(&quot;#&quot;);0&lt;=c&amp;&amp;(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf(&quot;?&quot;);0&gt;c?a[1]=&quot;?&quot;:c==b.length-1&amp;&amp;(a[1]=void 0)}return a.join(&quot;&quot;)},ab=function(a,b,c){if(n(b))for(var d=0;d&lt;b.length;d++)ab(a,String(b[d]),c);else null!=b&amp;&amp;c.push(&quot;&amp;&quot;,a,&quot;&quot;===b?&quot;&quot;:&quot;=&quot;,encodeURIComponent(String(b)))},bb=function(a,b,c){for(c=c||0;c&lt;b.length;c+=2)ab(b[c],b[c+1],a);return a},cb=function(a,b){return $a(2==arguments.length?bb([a],arguments[1],0):bb([a],arguments,1))},db=function(a,b){var c=[a,&quot;&amp;&quot;,&quot;bg&quot;];null!=b&amp;&amp;c.push(&quot;=&quot;,encodeURIComponent(String(b)));return $a(c)};var S=function(a,b){this.P=this.Z=this.M=&quot;&quot;;this.Y=null;this.V=this.X=&quot;&quot;;this.u=this.Oa=!1;var c;if(a instanceof S)this.u=void 0!==b?b:a.u,eb(this,a.M),c=a.Z,T(this),this.Z=c,c=a.P,T(this),this.P=c,fb(this,a.Y),c=a.X,T(this),this.X=c,gb(this,a.w.clone()),c=a.V,T(this),this.V=c;else if(a&amp;&amp;(c=Ya(String(a)))){this.u=!!b;eb(this,c[1]||&quot;&quot;,!0);var d=c[2]||&quot;&quot;;T(this);this.Z=hb(d);d=c[3]||&quot;&quot;;T(this);this.P=hb(d,!0);fb(this,c[4]);d=c[5]||&quot;&quot;;T(this);this.X=hb(d,!0);gb(this,c[6]||&quot;&quot;,!0);c=c[7]||&quot;&quot;;T(this);this.V=hb(c)}else this.u=!!b,this.w=new U(null,0,this.u)};S.prototype.toString=function(){var a=[],b=this.M;b&amp;&amp;a.push(ib(b,jb,!0),&quot;:&quot;);if(b=this.P){a.push(&quot;//&quot;);var c=this.Z;c&amp;&amp;a.push(ib(c,jb,!0),&quot;@&quot;);a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;));b=this.Y;null!=b&amp;&amp;a.push(&quot;:&quot;,String(b))}if(b=this.X)this.P&amp;&amp;&quot;/&quot;!=b.charAt(0)&amp;&amp;a.push(&quot;/&quot;),a.push(ib(b,&quot;/&quot;==b.charAt(0)?kb:lb,!0));(b=this.w.toString())&amp;&amp;a.push(&quot;?&quot;,b);(b=this.V)&amp;&amp;a.push(&quot;#&quot;,ib(b,mb));return a.join(&quot;&quot;)};S.prototype.clone=function(){return new S(this)};var eb=function(a,b,c){T(a);a.M=c?hb(b,!0):b;a.M&amp;&amp;(a.M=a.M.replace(/:$/,&quot;&quot;))},fb=function(a,b){T(a);if(b){b=Number(b);if(isNaN(b)||0&gt;b)throw Error(&quot;Bad port number &quot;+b);a.Y=b}else a.Y=null},gb=function(a,b,c){T(a);b instanceof U?(a.w=b,a.w.ga(a.u)):(c||(b=ib(b,nb)),a.w=new U(b,0,a.u))},V=function(a,b,c){T(a);a.w.set(b,c);return a},T=function(a){if(a.Oa)throw Error(&quot;Tried to modify a read-only Uri&quot;);};S.prototype.ga=function(a){this.u=a;this.w&amp;&amp;this.w.ga(a);return this};var ob=function(a){return a instanceof S?a.clone():new S(a,void 0)},hb=function(a,b){return a?b?decodeURI(a.replace(/%25/g,&quot;%2525&quot;)):decodeURIComponent(a):&quot;&quot;},ib=function(a,b,c){return r(a)?(a=encodeURI(a).replace(b,pb),c&amp;&amp;(a=a.replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;)),a):null},pb=function(a){a=a.charCodeAt(0);return&quot;%&quot;+(a&gt;&gt;4&amp;15).toString(16)+(a&amp;15).toString(16)},jb=/[#\/\?@]/g,lb=/[\#\?:]/g,kb=/[\#\?]/g,nb=/[\#\?@]/g,mb=/#/g,U=function(a,b,c){this.h=this.b=null;this.l=a||null;this.u=!!c},W=function(a){a.b||(a.b=new G,a.h=0,a.l&amp;&amp;Za(a.l,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,&quot; &quot;)),c)}))};k=U.prototype;k.ra=function(){W(this);return this.h};k.add=function(a,b){W(this);this.l=null;a=X(this,a);var c=this.b.get(a);c||this.b.set(a,c=[]);c.push(b);this.h++;return this};k.remove=function(a){W(this);a=X(this,a);return this.b.O(a)?(this.l=null,this.h-=this.b.get(a).length,this.b.remove(a)):!1};k.O=function(a){W(this);a=X(this,a);return this.b.O(a)};k.R=function(){W(this);for(var a=this.b.K(),b=this.b.R(),c=[],d=0;d&lt;b.length;d++)for(var e=a[d],f=0;f&lt;e.length;f++)c.push(b[d]);return c};k.K=function(a){W(this);var b=[];if(r(a))this.O(a)&amp;&amp;(b=ra(b,this.b.get(X(this,a))));else{a=this.b.K();for(var c=0;c&lt;a.length;c++)b=ra(b,a[c])}return b};k.set=function(a,b){W(this);this.l=null;a=X(this,a);this.O(a)&amp;&amp;(this.h-=this.b.get(a).length);this.b.set(a,[b]);this.h++;return this};k.get=function(a,b){var c=a?this.K(a):[];return 0&lt;c.length?String(c[0]):b};k.toString=function(){if(this.l)return this.l;if(!this.b)return&quot;&quot;;for(var a=[],b=this.b.R(),c=0;c&lt;b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.K(d),f=0;f&lt;d.length;f++){var g=e;&quot;&quot;!==d[f]&amp;&amp;(g+=&quot;=&quot;+encodeURIComponent(String(d[f])));a.push(g)}return this.l=a.join(&quot;&amp;&quot;)};k.clone=function(){var a=new U;a.l=this.l;this.b&amp;&amp;(a.b=this.b.clone(),a.h=this.h);return a};var X=function(a,b){var c=String(b);a.u&amp;&amp;(c=c.toLowerCase());return c};U.prototype.ga=function(a){a&amp;&amp;!this.u&amp;&amp;(W(this),this.l=null,this.b.forEach(function(a,c){var d=c.toLowerCase();c!=d&amp;&amp;(this.remove(c),this.remove(d),0&lt;a.length&amp;&amp;(this.l=null,this.b.set(X(this,d),sa(a)),this.h+=a.length))},this));this.u=a};var rb=function(a,b){try{if(1&gt;Math.random()){var c=&quot;/pagead/gen_204?id=&quot;+a+qb(b),d=&quot;http&quot;+(&quot;http:&quot;==w.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);w.google_image_requests||(w.google_image_requests=[]);var e=w.document.createElement(&quot;img&quot;);e.src=d;w.google_image_requests.push(e)}}catch(f){}},qb=function(a){var b=&quot;&quot;;ka(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+(&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return b};var sb=function(a,b,c,d){d=d||{};d.i=a.Ha;d.t=a.Va;d.c=b;d.m=c;d.lp=a.Pa;a.experimentId&amp;&amp;(d.e=a.experimentId);a.Ta(d)},tb=function(a){return function(b,c,d){var e={};d&amp;&amp;(e.jsl=d);c&amp;&amp;(e.jsf=c);sb(a,&quot;j&quot;,b,e)}},ub=function(a){rb(&quot;html5-mon&quot;,a)};var Z=function(a,b,c,d,e,f,g){this.ja=a;this.A=b;(a=this.A.monitoring)&amp;&amp;c&amp;&amp;(this.C={Ha:a.creativeId||-1,Va:a.templateId||-1,experimentId:a.experimentId,Ya:a.reportErrors||!1,Za:a.reportPerf||!1,Ta:c,Pa:a.layoutPath});this.va=t(d)?d:0;this.wa=t(e)?e:0;this.Ma=t(f)?f:0;this.da=r(g)?document.getElementById(g):null;this.ia=new F(this.Sa,1E4,this);this.H=[];this.T=&quot;&quot;;this.aa=null;this.ja.registerApplicationHandler(&quot;exit&quot;,u(this.ua,this));!Y(this,&quot;FLAG_EXIT_OVER_POST_MESSAGE&quot;)||!C(&quot;Chrome&quot;)&amp;&amp;!C(&quot;CriOS&quot;)||C(&quot;Opera&quot;)||C(&quot;OPR&quot;)||xa()||vb(this)};Z.prototype.ua=function(a,b){var c=a.d;n(c)&amp;&amp;(this.H.push(c[c.length-1]),wb(this,c)?(c=this.ia,c.stop(),c.pa()):0!=this.ia.L||this.ia.start());if(a.o)this.Qa();else if(wb(this,a.d))if(this.T=a.br||&quot;&quot;,this.aa=a.be||null,c=u(this.Ja,this,a.f,a.c,a.r,b),this.C){var d=this.C;try{c()}catch(e){c=tb(d);d=e.toString();e.name&amp;&amp;-1==d.indexOf(e.name)&amp;&amp;(d+=&quot;: &quot;+e.name);e.message&amp;&amp;-1==d.indexOf(e.message)&amp;&amp;(d+=&quot;: &quot;+e.message);if(e.stack){var f=e.stack,g=d;try{-1==f.indexOf(g)&amp;&amp;(f=g+&quot;\n&quot;+f);for(var h;f!=h;)h=f,f=f.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);d=f.replace(/\n */g,&quot;\n&quot;)}catch(p){d=g}}c(d,e.lineNumber,e.fileName)}}else c()};var vb=function(a){var b=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^v()).toString(36);w.addEventListener(&quot;message&quot;,u(function(a){var d=a.data,e=typeof d;(&quot;object&quot;==e&amp;&amp;null!=d||&quot;function&quot;==e)&amp;&amp;a.data.n==b&amp;&amp;a.data.er&amp;&amp;this.ua(a.data.er,!0)},a),!1);a.ja.sendMessage(&quot;exit-over-postMessage&quot;,b)};Z.prototype.Qa=function(){};var xb=function(a,b){var c;if(c=a.C)c=(new S(b)).w.get(&quot;adurl&quot;),c=void 0==c||&quot;&quot;==c||&quot;undefined&quot;==c;c&amp;&amp;sb(a.C,&quot;be&quot;,&quot;1&quot;)},yb=function(a,b){var c=a.A.redirect_url;return c?b?cb(c,&quot;ctype&quot;,b):c:(a.C&amp;&amp;sb(a.C,&quot;be&quot;,&quot;3&quot;),&quot;&quot;)},Y=function(a,b){var c=a.A.google_template_data;return c&amp;&amp;c.adData&amp;&amp;c.adData[0]&amp;&amp;c.adData[0][b]},wb=function(a,b){var c;if(!(c=!n(b))){c=b[b.length-1];var d=zb(a);c=!(a.xa(c)&amp;&amp;c.x&lt;d.width&amp;&amp;c.y&lt;d.height&amp;&amp;0&lt;=c.x&amp;&amp;0&lt;=c.y)}if(!c){var e=b[b.length-1],f=zb(a);c=e.t;var d=e.x,e=e.y,g=a.va,h=a.wa,p=f.width-a.va-1,f=f.height-a.wa-1;c=(0&gt;c||c&gt;=a.Ma)&amp;&amp;d&gt;=g&amp;&amp;d&lt;=p&amp;&amp;e&gt;=h&amp;&amp;e&lt;=f}return c},zb=function(a){var b=a.A.google_width,c=a.A.google_height;a.da&amp;&amp;(b=a.da.clientWidth,c=a.da.clientHeight);return new Ua(b,c)};Z.prototype.xa=function(a){return null!=a&amp;&amp;t(a.x)&amp;&amp;t(a.y)&amp;&amp;t(a.t)&amp;&amp;t(a.e)};Z.prototype.Sa=function(){if(n(this.H)&amp;&amp;this.C){var a=qa(pa(this.H,this.xa),function(a){return[a.x.toFixed(),a.y.toFixed(),a.t,a.e].join(&quot;_&quot;)}),a=ia(wb(this,this.H)?&quot;1!&quot;:&quot;0!&quot;,a.length,&quot;!&quot;,this.H.length-a.length,&quot;!&quot;,a.join(&quot;~&quot;));sb(this.C,&quot;cd&quot;,a);this.H=[]}};var Ab=function(a,b){if(!a.T&amp;&amp;!a.aa)return b;var c=a.aa;if(!c){c=db(b,a.T);if(2E3&gt;=c.length)return c;c=&quot;9&quot;}&quot;8&quot;!=c&amp;&amp;&quot;9&quot;!=c||a.Ua(a.T);return db(b,c)};Z.prototype.Ua=function(a,b){var c=b||Va;return function(){var b=this||m,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),e=c(a[ca]||(a[ca]=++da),arguments);return b.hasOwnProperty(e)?b[e]:b[e]=a.apply(this,arguments)}}(function(a){var b={};b.bg=a;rb(&quot;bg&quot;,b)});var Bb=function(a,b,c,d,e,f){Z.call(this,a,b,ub,c,d,e,f)};ga(Bb,Z);Bb.prototype.Ja=function(a,b,c,d){if(&quot;t&quot;==c)a:{if(&quot;callUrl&quot;==a&amp;&amp;(d=Y(this,a))&amp;&amp;0==d.indexOf(&quot;tel:&quot;)){a=yb(this);&quot;http:&quot;==w.location.protocol||0!=a.indexOf(&quot;http:&quot;)||(a=&quot;https&quot;+a.slice(4));la(a,d,null);break a}d=this.A.ctc_formatted_phone_number;a=this.A.ctc_click_tracking_url;(b=this.A.ctc_google_voice_url)?oa(a,b,d,null):la(a,d,null)}else{if(&quot;l&quot;==c){b=Y(this,a+&quot;_destination&quot;);a=ob(&quot;https://maps.google.com/maps&quot;);if(&quot;directions&quot;==b)b=Y(this,&quot;Store_0_geoCode&quot;)||&quot;&quot;,V(V(V(a,&quot;daddr&quot;,Y(this,&quot;Store_0_address&quot;)||&quot;&quot;),&quot;geocode&quot;,&quot;;&quot;+b),&quot;myl&quot;,&quot;source&quot;);else{c=Y(this,&quot;Store_0_featureId&quot;)||&quot;&quot;;var e=c.split(&quot;:&quot;),e=(e=2==e.length?e[1]:&quot;&quot;)?Pa(e,16).toString():&quot;&quot;;V(V(a,&quot;cid&quot;,e),&quot;ftid&quot;,c);&quot;store_info&quot;==b&amp;&amp;V(a,&quot;gmm&quot;,&quot;CgQKAggB&quot;)}V(a,&quot;ait&quot;,this.A.google_ait_url||&quot;&quot;);a=decodeURIComponent(a.toString().replace(/\+/g,&quot; &quot;));b=ob(this.A.google_click_url);a?(T(b),b.w.remove(&quot;adurl&quot;),&quot;&quot;!==b.w.toString()?a=ia(b.toString(),&quot;&amp;&quot;,&quot;adurl&quot;,&quot;=&quot;,encodeURIComponent(String(a))):(V(b,&quot;adurl&quot;,a),a=b.toString())):a=b.toString()}else a=a&amp;&amp;Y(this,a)||yb(this,b);a=Ab(this,a);xb(this,a);if(d){if(w.open(a,&quot;_blank&quot;))return;this.C&amp;&amp;sb(this.C,&quot;be&quot;,&quot;4&quot;)}w.top.location.href=a}};var Cb=function(a){a=parseInt(a,10);return isNaN(a)?0:a};new Bb(window.secureChannel,window.adData,Cb(&quot;0&quot;),Cb(&quot;0&quot;),Cb(&quot;0&quot;),&quot;google_ad_49508504397&quot;);})();&lt;/script&gt;&lt;script&gt;vu(&quot;https://ad.doubleclick.net/ad/N6939.134426.GOOGLEDISPLAYNETWOR/B6280256.114589838;sz\x3d1x1;ord\x3d1975788376?&quot;)&lt;/script&gt;&lt;style&gt;div,ul,li{margin:0;padding:0;}.abgc{height:15px;position:absolute;right:16px;text-rendering:geometricPrecision;top:0;width:15px;z-index:9010;}.abgb{height:100%;}.abgc img{display:block;}.abgc svg{display:block;}.abgs{display:none;height:100%;}.abgl{text-decoration:none;}&lt;/style&gt;&lt;div id=abgc class=abgc&gt;&lt;div id=abgb class=&quot;abgb&quot;&gt;&lt;/div&gt;&lt;div id=abgs class=abgs&gt;&lt;a id=abgl class=abgl href=&quot;https://www.google.com/url?ct=abg&amp;amp;q=https://www.google.com/adsense/support/bin/request.py%3Fcontact%3Dabg_afc%26url%3Dhttp://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394%26gl%3DUS%26hl%3Den%26client%3Dca-pub-3558870564527416%26ai0%3DC-pMOFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAGIBgGgBi6AB43Q4TCoB6a-G9gHAA&amp;amp;usg=AFQjCNGxRhAa6OK7L3IKLddaaP4p1ViicA&quot; target=_blank&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;script src=&quot;http://pagead2.googlesyndication.com/pagead/js/r20150514/r20110914/abg.js&quot;&gt;&lt;/script&gt;&lt;script&gt;var abgp={el:document.getElementById(&#39;abgc&#39;),ael:document.getElementById(&#39;abgs&#39;),iel:document.getElementById(&#39;abgb&#39;),hw:15,sw:75,hh:15,sh:15,himg:&#39;http://pagead2.googlesyndication.com&#39;+&#39;/pagead/images/adchoices/icon.png&#39;,simg:&#39;http://pagead2.googlesyndication.com/pagead/images/adchoices/en.png&#39;,alt:&#39;AdChoices&#39;,t:&#39;AdChoices&#39;,tw:53,t2:&#39;&#39;,t2w:0,tbo:0,att:&#39;adchoices&#39;,ff:&#39;&#39;,halign:&#39;right&#39;,fe:false,fnb:false,iba:false,uic:false,icd:undefined};window.abg &amp;&amp; new window.abg(abgp[&#39;el&#39;],abgp[&#39;ael&#39;],abgp[&#39;iel&#39;],abgp[&#39;hw&#39;],abgp[&#39;sw&#39;],abgp[&#39;hh&#39;],abgp[&#39;sh&#39;],abgp[&#39;himg&#39;],abgp[&#39;simg&#39;],abgp[&#39;alt&#39;],abgp[&#39;t&#39;],abgp[&#39;tw&#39;],abgp[&#39;t2&#39;],abgp[&#39;t2w&#39;],abgp[&#39;tbo&#39;],abgp[&#39;att&#39;],abgp[&#39;halign&#39;],abgp[&#39;ff&#39;],abgp[&#39;fe&#39;],abgp[&#39;fnb&#39;],abgp[&#39;iba&#39;],abgp[&#39;uic&#39;],abgp[&#39;icd&#39;]);&lt;/script&gt;&lt;style&gt;.cbc{background-image: url(&#39;http://pagead2.googlesyndication.com/pagead/images/x_button_blue2.png&#39;);background-position: right top;background-repeat: no-repeat;cursor:pointer;height:15px;right:0;top:0;margin:0;overflow:hidden;padding:0;position:absolute;width:16px;z-index:9010;}.cbc.cbc-hover {background-image: url(&#39;http://pagead2.googlesyndication.com/pagead/images/x_button_dark.png&#39;);}.cbc &gt; .cb-x{height: 15px;position:absolute;width: 16px;right:0;top:0;}.cb-x &gt; .cb-x-svg{background-color: lightgray;position:absolute;}.cbc.cbc-hover &gt; .cb-x &gt; .cb-x-svg{background-color: #58585a;}.cb-x &gt; .cb-x-svg &gt; .cb-x-svg-path{fill : #00aecd;}.cbc.cbc-hover &gt; .cb-x &gt; .cb-x-svg &gt; .cb-x-svg-path{fill : white;}.cb-x &gt; .cb-x-svg &gt; .cb-x-svg-s-path{fill : white;}&lt;/style&gt;&lt;div id=&quot;cbc&quot; class=cbc &gt;&lt;div id=&quot;cb-x&quot; class=cb-x&gt;&lt;/div&gt; &lt;/div&gt; &lt;style&gt;.ddmc{background:#ccc;color:#000;padding:0;position:absolute;z-index:9020;max-width:100%;box-shadow:2px 2px 3px #aaaaaa;}.ddmc.left{margin-right:0;left:0px;}.ddmc.right{margin-left:0;right:0px;}.ddmc.top{bottom:20px;}.ddmc.bottom{top:20px;}.ddmc .tip{border-left:4px solid transparent;border-right:4px solid transparent;height:0;position:absolute;width:0;font-size:0;line-height:0;}.ddmc.bottom .tip{border-bottom:4px solid #ccc;top:-4px;}.ddmc.top .tip{border-top:4px solid #ccc;bottom:-4px;}.ddmc.right .tip{right:3px;}.ddmc.left .tip{left:3px;}.ddmc .dropdown-content{display:block;}.dropdown-content{display:none;border-collapse:collapse;}.dropdown-item{font:12px Arial,sans-serif;cursor:pointer;padding:3px 7px;vertical-align:middle;}.dropdown-item-hover{background:#58585a;color:#fff;}.dropdown-content &gt; table{border-collapse:collapse;border-spacing:0;}.dropdown-content &gt; table &gt; tbody &gt; tr &gt; td{padding:0;}&lt;/style&gt;&lt;div id=&quot;ddmc&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;tip&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dropdown-content&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=&quot;pubmute&quot; style=&quot;border-bottom:1px solid #999;&quot; class=&quot;dropdown-item&quot;&gt;&lt;span&gt;Ad covers the page&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=&quot;admute&quot; class=&quot;dropdown-item&quot;&gt;&lt;span&gt;Stop seeing this ad&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;(function(){var k=this,l=function(a,b){var c=a.split(&quot;.&quot;),d=k;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var f;c.length&amp;&amp;(f=c.shift());)c.length||void 0===b?d=d[f]?d[f]:d[f]={}:d[f]=b},r=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},aa=function(a,b,c){return a.call.apply(a.bind,arguments)},ba=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){t=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?aa:ba;return t.apply(null,arguments)};var u=&quot;undefined&quot;!=typeof DOMTokenList,v=function(a,b){if(u){var c=a.classList;0==c.contains(b)&amp;&amp;c.toggle(b)}else if(c=a.className){for(var c=c.split(/\s+/),d=!1,f=0;f&lt;c.length&amp;&amp;!d;++f)d=c[f]==b;d||(c.push(b),a.className=c.join(&quot; &quot;))}else a.className=b},w=function(a,b){if(u){var c=a.classList;1==c.contains(b)&amp;&amp;c.toggle(b)}else if((c=a.className)&amp;&amp;!(0&gt;c.indexOf(b))){for(var c=c.split(/\s+/),d=0;d&lt;c.length;++d)c[d]==b&amp;&amp;c.splice(d--,1);a.className=c.join(&quot; &quot;)}};var x=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},y=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var ca=function(a){var b=window;b.addEventListener?b.addEventListener(&quot;load&quot;,a,!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;onload&quot;,a)},z=function(a,b,c,d){c=t(d,c);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};var A=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==r(arguments[0]))return A.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};A(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var B;a:{var C=k.navigator;if(C){var D=C.userAgent;if(D){B=D;break a}}B=&quot;&quot;};var E=function(){return-1!=B.indexOf(&quot;Edge&quot;)};var da=-1!=B.indexOf(&quot;Opera&quot;)||-1!=B.indexOf(&quot;OPR&quot;),F=-1!=B.indexOf(&quot;Edge&quot;)||-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;),G=-1!=B.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!E())&amp;&amp;!(-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;))&amp;&amp;!E(),ga=-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!E(),ha=function(){var a=B;if(G)return/rv\:([^\);]+)(\)|;)/.exec(a);if(F&amp;&amp;E())return/Edge\/([\d\.]+)/.exec(a);if(F)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ga)return/WebKit\/(\S+)/.exec(a)},H=function(){var a=k.document;return a?a.documentMode:void 0},I=function(){if(da&amp;&amp;k.opera){var a=k.opera.version;return&quot;function&quot;==r(a)?a():a}var a=&quot;&quot;,b=ha();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return F&amp;&amp;!E()&amp;&amp;(b=H(),b&gt;parseFloat(a))?String(b):a}(),J={},K=function(a){if(!J[a]){for(var b=0,c=x(String(I)).split(&quot;.&quot;),d=x(String(a)).split(&quot;.&quot;),f=Math.max(c.length,d.length),e=0;0==b&amp;&amp;e&lt;f;e++){var m=c[e]||&quot;&quot;,n=d[e]||&quot;&quot;,h=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),g=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var p=h.exec(m)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],q=g.exec(n)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==p[0].length&amp;&amp;0==q[0].length)break;b=y(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||y(0==p[2].length,0==q[2].length)||y(p[2],q[2])}while(0==b)}J[a]=0&lt;=b}},L=k.document,M=H(),ia=!L||!F||!M&amp;&amp;E()?void 0:M||(&quot;CSS1Compat&quot;==L.compatMode?parseInt(I,10):5);var N;if(!(N=!G&amp;&amp;!F)){var O;if(O=F)O=F&amp;&amp;(E()||9&lt;=ia);N=O}N||G&amp;&amp;K(&quot;1.9.1&quot;);F&amp;&amp;K(&quot;9&quot;);var la=function(a,b,c){var d=&quot;mouseenter_custom&quot;==b,f=ka(b);return function(e){e||(e=window.event);if(e.type==f){if(&quot;mouseenter_custom&quot;==b||&quot;mouseleave_custom&quot;==b){var m;if(m=d?e.relatedTarget||e.fromElement:e.relatedTarget||e.toElement)for(var n=0;n&lt;a.length;n++){var h;h=a[n];var g=m;if(h.contains&amp;&amp;1==g.nodeType)h=h==g||h.contains(g);else if(&quot;undefined&quot;!=typeof h.compareDocumentPosition)h=h==g||Boolean(h.compareDocumentPosition(g)&amp;16);else{for(;g&amp;&amp;h!=g;)g=g.parentNode;h=g==h}if(h)return}}c(e)}}},ka=function(a){return&quot;mouseenter_custom&quot;==a?&quot;mouseover&quot;:&quot;mouseleave_custom&quot;==a?&quot;mouseout&quot;:a};var ma=function(){this.u=void 0},P=function(a,b,c){if(null==b)c.push(&quot;null&quot;);else{if(&quot;object&quot;==typeof b){if(&quot;array&quot;==r(b)){var d=b;b=d.length;c.push(&quot;[&quot;);for(var f=&quot;&quot;,e=0;e&lt;b;e++)c.push(f),f=d[e],P(a,a.u?a.u.call(d,String(e),f):f,c),f=&quot;,&quot;;c.push(&quot;]&quot;);return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(&quot;{&quot;);e=&quot;&quot;;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&amp;&amp;(f=b[d],&quot;function&quot;!=typeof f&amp;&amp;(c.push(e),na(d,c),c.push(&quot;:&quot;),P(a,a.u?a.u.call(b,d,f):f,c),e=&quot;,&quot;));c.push(&quot;}&quot;);return}}switch(typeof b){case &quot;string&quot;:na(b,c);break;case &quot;number&quot;:c.push(isFinite(b)&amp;&amp;!isNaN(b)?b:&quot;null&quot;);break;case &quot;boolean&quot;:c.push(b);break;case &quot;function&quot;:break;default:throw Error(&quot;Unknown type: &quot;+typeof b);}}},oa={&#39;&quot;&#39;:&#39;\\&quot;&#39;,&quot;\\&quot;:&quot;\\\\&quot;,&quot;/&quot;:&quot;\\/&quot;,&quot;\b&quot;:&quot;\\b&quot;,&quot;\f&quot;:&quot;\\f&quot;,&quot;\n&quot;:&quot;\\n&quot;,&quot;\r&quot;:&quot;\\r&quot;,&quot;\t&quot;:&quot;\\t&quot;,&quot;\x0B&quot;:&quot;\\u000b&quot;},pa=/\uffff/.test(&quot;\uffff&quot;)?/[\\\&quot;\x00-\x1f\x7f-\uffff]/g:/[\\\&quot;\x00-\x1f\x7f-\xff]/g,na=function(a,b){b.push(&#39;&quot;&#39;,a.replace(pa,function(a){var b=oa[a];b||(b=&quot;\\u&quot;+(a.charCodeAt(0)|65536).toString(16).substr(1),oa[a]=b);return b}),&#39;&quot;&#39;)};var Q=function(a,b,c,d,f,e,m,n,h,g,p,q){this.m=a;this.da=b;this.L=c;this.ba=d;this.B=f;this.A=e;this.ia=m;this.ga=n;this.o=null;this.J=!1;this.I=q;this.U=p;this.i=document.getElementById(&quot;pubmute&quot;+g);this.l=document.getElementById(&quot;admute&quot;+g);this.j=document.getElementById(&quot;wta&quot;+g);this.V=parseInt(g,10)||0;this.F();this.m.className=[&quot;ddmc&quot;,h&amp;1?&quot;left&quot;:&quot;right&quot;,h&amp;2?&quot;top&quot;:&quot;bottom&quot;].join(&quot; &quot;)};Q.prototype.F=function(){R(this.m,&quot;mouseenter_custom&quot;,this,this.w);R(this.m,&quot;mouseleave_custom&quot;,this,this.M);this.i&amp;&amp;(R(this.i,&quot;mouseenter_custom&quot;,this,this.$),R(this.i,&quot;mouseleave_custom&quot;,this,this.D),z(this.i,&quot;click&quot;,this,this.ca));R(this.l,&quot;mouseenter_custom&quot;,this,this.R);R(this.l,&quot;mouseleave_custom&quot;,this,this.v);z(this.l,&quot;click&quot;,this,this.aa);this.j&amp;&amp;(R(this.j,&quot;mouseenter_custom&quot;,this,this.ea),R(this.j,&quot;mouseleave_custom&quot;,this,this.G),z(this.j,&quot;click&quot;,this,this.Z))};Q.prototype.ca=function(){S(this);qa(this,0);var a=this.L;null!=a&amp;&amp;a();T(this,&quot;user_feedback_menu_option&quot;,&quot;3&quot;,!0)};Q.prototype.aa=function(){S(this);qa(this,1);var a=this.L;null!=a&amp;&amp;a();T(this,&quot;user_feedback_menu_option&quot;,&quot;1&quot;,!0)};var qa=function(a,b){var c={type:b,close_button_token:a.A,creative_conversion_url:a.B,ablation_config:a.U,undo_callback:a.ba,creative_index:a.V};if(a.I)a.I.fireOnObject(&quot;mute_option_selected&quot;,c);else{var d;a:{d=[&quot;muteSurvey&quot;];for(var f=k,e;e=d.shift();)if(null!=f[e])f=f[e];else{d=null;break a}d=f}d&amp;&amp;d.setupSurveyPage(c)}};Q.prototype.Z=function(){S(this);var a=window.open(this.ia,&quot;_blank&quot;);if(a){var b={};b.whyThisAdToken=this.ga;b.closeButtonToken=this.A;b.creativeConversionUrl=this.B;var c=[];P(new ma,b,c);a.name=c.join(&quot;&quot;)}T(this,&quot;closebutton_whythisad_click&quot;,a?&quot;1&quot;:&quot;2&quot;,!1)};var U=function(a,b){a.m.style.display=b?&quot;&quot;:&quot;none&quot;};Q.prototype.M=function(){this.o=k.setTimeout(t(function(){S(this);this.o=null},this),500)};Q.prototype.w=function(){null!=this.o&amp;&amp;(k.clearTimeout(this.o),this.o=null)};var S=function(a){var b=a.da;null!=b&amp;&amp;b();V(a)&amp;&amp;U(a,!1)};Q.prototype.$=function(){this.i&amp;&amp;v(this.i,&quot;dropdown-item-hover&quot;);this.v();this.G()};Q.prototype.D=function(){this.i&amp;&amp;w(this.i,&quot;dropdown-item-hover&quot;)};Q.prototype.R=function(){this.l&amp;&amp;v(this.l,&quot;dropdown-item-hover&quot;);this.D();this.G()};Q.prototype.v=function(){this.l&amp;&amp;w(this.l,&quot;dropdown-item-hover&quot;)};Q.prototype.ea=function(){this.j&amp;&amp;v(this.j,&quot;dropdown-item-hover&quot;);this.v();this.D()};Q.prototype.G=function(){this.j&amp;&amp;w(this.j,&quot;dropdown-item-hover&quot;)};var V=function(a){return&quot;none&quot;!==a.m.style.display};Q.prototype.toggle=function(){V(this)?V(this)&amp;&amp;U(this,!1):(U(this,!0),this.J||(this.J=!0,T(this,&quot;user_feedback_menu_interaction&quot;)))};var T=function(a,b,c,d){a=a.B+&quot;&amp;label=&quot;+b+(c?&quot;&amp;label_instance=&quot;+c:&quot;&quot;)+(d?&quot;&amp;cbt=&quot;+a.A:&quot;&quot;);b=window;b.google_image_requests||(b.google_image_requests=[]);c=b.document.createElement(&quot;img&quot;);c.src=a;b.google_image_requests.push(c)},R=function(a,b,c,d){d=la([a],b,t(d,c));z(a,ka(b),c,d)};var W=function(a,b,c,d,f,e,m,n,h,g,p,q,ea,ra,fa){this.creativeConversionUrl=f;this.T=e;this.ha=m;this.fa=n;this.S=document.getElementById(&quot;cb-x&quot;+ea);f=t(this.C,this);e=t(this.K,this);m=t(this.N,this);d?(g=g?1:0,p&amp;&amp;(g|=2),d=new Q(d,f,e,m,this.creativeConversionUrl,this.T,this.ha,this.fa,g,ea,ra,fa)):d=null;this.h=d;this.O=document.getElementById(&quot;pbc&quot;);this.g=a;this.P=b;this.H=c;this.s=fa;&quot;undefined&quot;!=typeof SVGElement&amp;&amp;&quot;undefined&quot;!=typeof document.createElementNS&amp;&amp;q&amp;&amp;(this.g.style.backgroundImage=&quot;none&quot;,this.S.appendChild(sa(h)));this.F()},X;W.prototype.F=function(){z(this.g,&quot;click&quot;,this,this.W);z(this.g,&quot;mouseover&quot;,this,this.Y);z(this.g,&quot;mouseout&quot;,this,this.X)};W.prototype.W=function(){this.h&amp;&amp;(this.h.w(),this.h.toggle())};W.prototype.Y=function(){this.h&amp;&amp;this.h.w();null!==this.g&amp;&amp;v(this.g,&quot;cbc-hover&quot;)};W.prototype.X=function(){this.h&amp;&amp;V(this.h)?this.h.M():this.C()};var sa=function(a){var b=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;svg&quot;),c=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;path&quot;),d=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;path&quot;),f=1.15/Math.sqrt(2),e=.2*a,f=&quot;M&quot;+(e+f+1)+&quot;,&quot;+e+&quot;L&quot;+(a/2+1)+&quot;,&quot;+(a/2-f)+&quot;L&quot;+(a-e-f+1)+&quot;,&quot;+e+&quot;L&quot;+(a-e+1)+&quot;,&quot;+(e+f)+&quot;L&quot;+(a/2+f+1)+&quot;,&quot;+a/2+&quot;L&quot;+(a-e+1)+&quot;,&quot;+(a-e-f)+&quot;L&quot;+(a-e-f+1)+&quot;,&quot;+(a-e)+&quot;L&quot;+(a/2+1)+&quot;,&quot;+(a/2+f)+&quot;L&quot;+(e+f+1)+&quot;,&quot;+(a-e)+&quot;L&quot;+(e+1)+&quot;,&quot;+(a-e-f)+&quot;L&quot;+(a/2-f+1)+&quot;,&quot;+a/2+&quot;L&quot;+(e+1)+&quot;,&quot;+(e+f)+&quot;Z&quot;,e=&quot;M0,0L1,0L1,&quot;+a+&quot;L0,&quot;+a+&quot;Z&quot;;b.setAttribute(&quot;class&quot;,&quot;cb-x-svg&quot;);b.setAttribute(&quot;width&quot;,a+1);b.setAttribute(&quot;height&quot;,a);b.appendChild(c);b.appendChild(d);c.setAttribute(&quot;d&quot;,f);c.setAttribute(&quot;class&quot;,&quot;cb-x-svg-path&quot;);d.setAttribute(&quot;d&quot;,e);d.setAttribute(&quot;class&quot;,&quot;cb-x-svg-s-path&quot;);return b},Y=function(a){a&amp;&amp;(a.style.display=&quot;block&quot;)},Z=function(a){a&amp;&amp;(a.style.display=&quot;none&quot;)};W.prototype.C=function(){null!==this.g&amp;&amp;w(this.g,&quot;cbc-hover&quot;)};W.prototype.K=function(){this.C();this.s?this.s.showOnly(0):(Z(this.g),Z(this.H),Z(this.O),Y(this.P))};W.prototype.N=function(){this.s?this.s.resetAll():(Y(this.g),Y(this.H),Y(this.O),Z(this.P))};l(&quot;cbb&quot;,function(a,b,c,d,f,e,m,n,h,g,p,q){ca(function(){X=new W(a,document.getElementById(&quot;cbtf&quot;),b,c,d,f,e,m,15,h,g,p,q,n,window.adSlot)})});l(&quot;cbbha&quot;,function(){X.K()});l(&quot;cbbsa&quot;,function(){X.N()});})();cbb(document.getElementById(&#39;cbc&#39;),document.getElementById(&#39;root_template_div&#39;),document.getElementById(&#39;ddmc&#39;),&#39;http://googleads.g.doubleclick.net/pagead/conversion/?ai\x3dC-pMOFY9cVc75MI6fhASZ0YDoD5XemdsHvY2S57gBhbOLi8gCEAEgxd-mImDJjvCIhKTsD6AB26-ezwPIAQngAgCoAwGqBNoBT9AVBe8zANBQFXg3FDWakRhlLA9uayk1lobCcWFqvwkSyxGE4HYY9TESzJ_Hv-QB63RfCPX7P9jSW5VRRpoIOnGjea-HfzXGi-lHkN5fGO7Q7o9wwpSQIZqvXqXfRgsgqaYLCsZn__OS3knq8SxhLyelacuOD8vEUmoc-nqDIKCOJ2QSQvmndevUT8b70S22HzBokl6kyOSwG4BXfv1TWmJAHDCV_HT03kmBbtHYffiQdc9PjXffehTY4pQ3f1p8JuaYoMIZ_Ht4V9ri0Jpp7BdwZsXc17bIiqvgBAGIBgGgBi6AB43Q4TCoB6a-G9gHAA\x26sigh\x3dBRby2wplzBg&#39;,&#39;nkF9g7nTr28IvY2S57gBEL2Pt1MY_c7CLyIMd3d3LmRpY2UuY29tMggIBRMYv9gJFEIXY2EtcHViLTM1NTg4NzA1NjQ1Mjc0MTZIBVguYKAD&#39;,&#39;https://www.google.com/ads/preferences/whythisad&#39;,&#39;&#39;,&#39;{\x22key_value\x22:[]}&#39;,false,false,false,&#39;&#39;);&lt;/script&gt;&lt;style&gt;.feedback_container {width: 100%;height: 100%;position: absolute;top:0;left:0;display: none;z-index: 9020;background-color: white;}.feedback_page {font-family: &quot;Arial&quot;;font-size: 13px;margin: 9px 12px 9px 12px;}.feedback_title {font-weight: bold;color: #000000;}.feedback_page a {font-weight: normal;color: #3366cc;}.feedback_description {color: #666666;line-height: 16px;margin: 2px 0 2px 0;}.feedback_closing {color: #0367ff;line-height: 16px;margin: 2px 0 2px 0;}.feedback_logo {position: absolute;right: 0;bottom: 0;margin: 0 12px 9px 0;}.feedback_logo img {height: 15px;}.survey_description {color: #666666;line-height: 17px;margin: 10px 0 2px 0;}.survey {color: #666666;line-height: 20px;}.survey_option {float: left;margin: 0 15px 0 0;}.survey_option input {margin: 0;vertical-align: middle;}.survey_option_text {margin: 0 0 0 5px;line-height: 17px;vertical-align: bottom;}.survey_option:hover {background-color: lightblue;cursor: default;}&lt;/style&gt;&lt;div id=&quot;cbtf&quot; class=&quot;feedback_container&quot;&gt;&lt;div class=&quot;feedback_page&quot;&gt;&lt;div id=&quot;mtadmas&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;It&amp;#39;s gone. &lt;a id=&quot;mtadmaundo&quot; href=&quot;javascript:void(0)&quot;&gt;Undo&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;survey_description&quot;&gt;What was wrong with this ad?&lt;/div&gt;&lt;div class=&quot;survey&quot;&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;7&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;Irrelevant&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;2&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;Repetitive&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;8&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;Inappropriate&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;mtadmac&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;Thanks for the feedback! &lt;a id=&quot;mtadmback&quot; href=&quot;javascript:void(0)&quot;&gt;Back&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;We’ll review this ad to improve your experience in the future.&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;Help us show you better ads by updating your &lt;a href=&quot;http://www.google.com/settings/ads?hl=en&quot; target=&quot;_blank&quot;&gt;ads settings&lt;/a&gt;.&lt;/div&gt;&lt;div id=&quot;ad-feedback-closing&quot; style=&quot;display:none&quot; class=&quot;feedback_closing&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;mtadmpc&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;Thanks for the feedback! &lt;a id=&quot;mtadmpundo&quot; href=&quot;javascript:void(0)&quot;&gt;Undo&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;We’ll use your feedback to review ads on this site.&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;Help us show you better ads by updating your &lt;a href=&quot;http://www.google.com/settings/ads?hl=en&quot; target=&quot;_blank&quot;&gt;ads settings&lt;/a&gt;.&lt;/div&gt;&lt;div id=&quot;pub-feedback-closing&quot; style=&quot;display:none&quot; class=&quot;feedback_closing&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;span id=&quot;feedback-closing-template&quot; style=&quot;display:none&quot;&gt;Closing ad: %1$d&lt;/span&gt;&lt;div class=&quot;feedback_logo&quot;&gt;&lt;img src=&quot;http://pagead2.googlesyndication.com/pagead/images/google-logo.png&quot;/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;(function(){var k=this,aa=function(a,b){var c=a.split(&quot;.&quot;),d=k;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},l=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},m=function(a){return&quot;string&quot;==typeof a},ba=function(a,b,c){return a.call.apply(a.bind,arguments)},ca=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ba:ca;return n.apply(null,arguments)},p=Date.now||function(){return+new Date},q=function(a,b){function c(){}c.prototype=b.prototype;a.ka=b.prototype;a.prototype=new c;a.qa=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h&lt;arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},r=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var t=function(a){t[&quot; &quot;](a);return a};t[&quot; &quot;]=function(){};var ea=function(a,b){try{return t(a[b]),!0}catch(c){}return!1};var v=function(a){try{return!!a&amp;&amp;null!=a.location.href&amp;&amp;ea(a,&quot;foo&quot;)}catch(b){return!1}};var fa=function(a){var b=window;b.google_image_requests||(b.google_image_requests=[]);var c=b.document.createElement(&quot;img&quot;);c.src=a;b.google_image_requests.push(c)};var ga=document;var w=function(a,b,c){b=n(c,b);a.addEventListener?a.addEventListener(&quot;click&quot;,b,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;onclick&quot;,b)};var ha=&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;.split(&quot; &quot;),ia=function(a,b){for(var c,d,e=1;e&lt;arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f&lt;ha.length;f++)c=ha[f],Object.prototype.hasOwnProperty.call(d,c)&amp;&amp;(a[c]=d[c])}},ka=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==l(arguments[0]))return ka.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var la=function(a){var b={};if(a&amp;&amp;a.key_value){a=a.key_value;for(var c=0;c&lt;a.length;c++){var d=a[c];if(&quot;key&quot;in d&amp;&amp;&quot;value&quot;in d){var e=d.value;b[d.key]=null==e?null:String(e)}}}return b};var x=function(a,b){var c=parseInt(a,10);return isNaN(c)?b:c};var ma=!!window.google_async_iframe_id,z=ma&amp;&amp;window.parent||window;var A=Array.prototype,na=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(m(a))return m(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1};ka(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var B;a:{var oa=k.navigator;if(oa){var pa=oa.userAgent;if(pa){B=pa;break a}}B=&quot;&quot;};var C=function(){return-1!=B.indexOf(&quot;Edge&quot;)};var qa=-1!=B.indexOf(&quot;Opera&quot;)||-1!=B.indexOf(&quot;OPR&quot;),E=-1!=B.indexOf(&quot;Edge&quot;)||-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;),F=-1!=B.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!C())&amp;&amp;!(-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;))&amp;&amp;!C(),G=-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!C(),ra=function(){var a=B;if(F)return/rv\:([^\);]+)(\)|;)/.exec(a);if(E&amp;&amp;C())return/Edge\/([\d\.]+)/.exec(a);if(E)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(G)return/WebKit\/(\S+)/.exec(a)},sa=function(){var a=k.document;return a?a.documentMode:void 0},ta=function(){if(qa&amp;&amp;k.opera){var a=k.opera.version;return&quot;function&quot;==l(a)?a():a}var a=&quot;&quot;,b=ra();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return E&amp;&amp;!C()&amp;&amp;(b=sa(),b&gt;parseFloat(a))?String(b):a}(),ua={},H=function(a){var b;if(!(b=ua[a])){b=0;for(var c=da(String(ta)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,h=d[f]||&quot;&quot;,u=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),Pa=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var y=u.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],D=Pa.exec(h)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==y[0].length&amp;&amp;0==D[0].length)break;b=r(0==y[1].length?0:parseInt(y[1],10),0==D[1].length?0:parseInt(D[1],10))||r(0==y[2].length,0==D[2].length)||r(y[2],D[2])}while(0==b)}b=ua[a]=0&lt;=b}return b},va=k.document,wa=sa(),xa=!va||!E||!wa&amp;&amp;C()?void 0:wa||(&quot;CSS1Compat&quot;==va.compatMode?parseInt(ta,10):5);!F&amp;&amp;!E||E&amp;&amp;E&amp;&amp;(C()||9&lt;=xa)||F&amp;&amp;H(&quot;1.9.1&quot;);var ya=E&amp;&amp;!H(&quot;9&quot;);var za=function(a){var b=document;return m(a)?b.getElementById(a):a},Aa={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ba={IMG:&quot; &quot;,BR:&quot;\n&quot;},Da=function(){var a=document.getElementById(&quot;feedback-closing-template&quot;);if(ya&amp;&amp;&quot;innerText&quot;in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,&quot;\n&quot;);else{var b=[];Ca(a,b,!0);a=b.join(&quot;&quot;)}a=a.replace(/ \xAD /g,&quot; &quot;).replace(/\xAD/g,&quot;&quot;);a=a.replace(/\u200B/g,&quot;&quot;);ya||(a=a.replace(/ +/g,&quot; &quot;));&quot; &quot;!=a&amp;&amp;(a=a.replace(/^\s*/,&quot;&quot;));return a},Ca=function(a,b,c){if(!(a.nodeName in Aa))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,&quot;&quot;)):b.push(a.nodeValue);else if(a.nodeName in Ba)b.push(Ba[a.nodeName]);else for(a=a.firstChild;a;)Ca(a,b,c),a=a.nextSibling};E&amp;&amp;H(12);var Ea=function(){var a=document.body,b;if(ma&amp;&amp;!v(z)){for(var c=&quot;.&quot;+ga.domain;2&lt;c.split(&quot;.&quot;).length&amp;&amp;!v(z);)ga.domain=c=c.substr(c.indexOf(&quot;.&quot;)+1),z=window.parent;v(z)||(z=window)}b=z;var d;d=v(b.top)?b.top:null;this.aa=!!d&amp;&amp;!!a;this.ba=(c=a?a.getBoundingClientRect():null)?c.top:0;d=d||b;this.oa=(&quot;CSS1Compat&quot;==d.document.compatMode?d.document.documentElement:d.document.body).clientHeight;b=b.document;b={visible:1,hidden:2,prerender:3,preview:4}[b.webkitVisibilityState||b.mozVisibilityState||b.visibilityState||&quot;&quot;]||0;this.pa=!!a&amp;&amp;!(2==b||3==b)&amp;&amp;!(0==c.top&amp;&amp;0==c.bottom)},Fa=function(){var a=new Ea;return a.aa&amp;&amp;(!a.pa||a.ba&gt;=a.oa)};var Ga=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\[&quot;\\\/bfnrtu]/g,&quot;@&quot;).replace(/&quot;[^&quot;\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,&quot;]&quot;).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,&quot;&quot;)))try{return eval(&quot;(&quot;+a+&quot;)&quot;)}catch(b){}throw Error(&quot;Invalid JSON string: &quot;+a);};var I=function(){this.R=this.R;this.ha=this.ha};I.prototype.R=!1;var J=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.m=!1;this.V=!0};J.prototype.preventDefault=function(){this.defaultPrevented=!0;this.V=!1};var Ha=!E||E&amp;&amp;(C()||9&lt;=xa),Ia=E&amp;&amp;!H(&quot;9&quot;);!G||H(&quot;528&quot;);F&amp;&amp;H(&quot;1.9b&quot;)||E&amp;&amp;H(&quot;8&quot;)||qa&amp;&amp;H(&quot;9.5&quot;)||G&amp;&amp;H(&quot;528&quot;);F&amp;&amp;!H(&quot;8&quot;)||E&amp;&amp;H(&quot;9&quot;);var K=function(a,b){J.call(this,a?a.type:&quot;&quot;);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.S=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?F&amp;&amp;(ea(d,&quot;nodeName&quot;)||(d=null)):&quot;mouseover&quot;==c?d=a.fromElement:&quot;mouseout&quot;==c&amp;&amp;(d=a.toElement);this.relatedTarget=d;this.offsetX=G||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=G||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(&quot;keypress&quot;==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.S=a;a.defaultPrevented&amp;&amp;this.preventDefault()}};q(K,J);K.prototype.preventDefault=function(){K.ka.preventDefault.call(this);var a=this.S;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ia)try{if(a.ctrlKey||112&lt;=a.keyCode&amp;&amp;123&gt;=a.keyCode)a.keyCode=-1}catch(b){}};var L=&quot;closure_listenable_&quot;+(1E6*Math.random()|0),Ja=0;var Ka=function(a,b,c,d,e){this.listener=a;this.F=null;this.src=b;this.type=c;this.w=!!d;this.A=e;this.key=++Ja;this.o=this.v=!1},M=function(a){a.o=!0;a.listener=null;a.F=null;a.src=null;a.A=null};var N=function(a){this.src=a;this.g={};this.G=0};N.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.G++);var g=O(a,b,d,e);-1&lt;g?(b=a[g],c||(b.v=!1)):(b=new Ka(b,this.src,f,!!d,e),b.v=c,a.push(b));return b};N.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var e=this.g[a];b=O(e,b,c,d);return-1&lt;b?(M(e[b]),A.splice.call(e,b,1),0==e.length&amp;&amp;(delete this.g[a],this.G--),!0):!1};var P=function(a,b){var c=b.type;if(c in a.g){var d=a.g[c],e=na(d,b),f;(f=0&lt;=e)&amp;&amp;A.splice.call(d,e,1);f&amp;&amp;(M(b),0==a.g[c].length&amp;&amp;(delete a.g[c],a.G--))}};N.prototype.K=function(a,b,c,d){a=this.g[a.toString()];var e=-1;a&amp;&amp;(e=O(a,b,c,d));return-1&lt;e?a[e]:null};var O=function(a,b,c,d){for(var e=0;e&lt;a.length;++e){var f=a[e];if(!f.o&amp;&amp;f.listener==b&amp;&amp;f.w==!!c&amp;&amp;f.A==d)return e}return-1};var Q=&quot;closure_lm_&quot;+(1E6*Math.random()|0),R={},La=0,S=function(a,b,c,d,e){if(&quot;array&quot;==l(b))for(var f=0;f&lt;b.length;f++)S(a,b[f],c,d,e);else if(c=Ma(c),a&amp;&amp;a[L])a.listen(b,c,d,e);else{if(!b)throw Error(&quot;Invalid event type&quot;);var f=!!d,g=T(a);g||(a[Q]=g=new N(a));c=g.add(b,c,!1,d,e);c.F||(d=Na(),c.F=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Oa(b.toString()),d),La++)}},Na=function(){var a=Qa,b=Ha?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Ra=function(a,b,c,d,e){if(&quot;array&quot;==l(b))for(var f=0;f&lt;b.length;f++)Ra(a,b[f],c,d,e);else c=Ma(c),a&amp;&amp;a[L]?a.unlisten(b,c,d,e):a&amp;&amp;(a=T(a))&amp;&amp;(b=a.K(b,c,!!d,e))&amp;&amp;Sa(b)},Sa=function(a){if(&quot;number&quot;!=typeof a&amp;&amp;a&amp;&amp;!a.o){var b=a.src;if(b&amp;&amp;b[L])P(b.l,a);else{var c=a.type,d=a.F;b.removeEventListener?b.removeEventListener(c,d,a.w):b.detachEvent&amp;&amp;b.detachEvent(Oa(c),d);La--;(c=T(b))?(P(c,a),0==c.G&amp;&amp;(c.src=null,b[Q]=null)):M(a)}}},Oa=function(a){return a in R?R[a]:R[a]=&quot;on&quot;+a},Ua=function(a,b,c,d){var e=!0;if(a=T(a))if(b=a.g[b.toString()])for(b=b.concat(),a=0;a&lt;b.length;a++){var f=b[a];f&amp;&amp;f.w==c&amp;&amp;!f.o&amp;&amp;(f=Ta(f,d),e=e&amp;&amp;!1!==f)}return e},Ta=function(a,b){var c=a.listener,d=a.A||a.src;a.v&amp;&amp;Sa(a);return c.call(d,b)},Qa=function(a,b){if(a.o)return!0;if(!Ha){var c;if(!(c=b))a:{c=[&quot;window&quot;,&quot;event&quot;];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new K(e,this);d=!0;if(!(0&gt;e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.m&amp;&amp;0&lt;=h;h--){c.currentTarget=e[h];var u=Ua(e[h],f,!0,c),d=d&amp;&amp;u}for(h=0;!c.m&amp;&amp;h&lt;e.length;h++)c.currentTarget=e[h],u=Ua(e[h],f,!1,c),d=d&amp;&amp;u}return d}return Ta(a,new K(b,this))},T=function(a){a=a[Q];return a instanceof N?a:null},U=&quot;__closure_events_fn_&quot;+(1E9*Math.random()&gt;&gt;&gt;0),Ma=function(a){if(&quot;function&quot;==l(a))return a;a[U]||(a[U]=function(b){return a.handleEvent(b)});return a[U]};var V=function(){I.call(this);this.l=new N(this);this.Z=this;this.T=null};q(V,I);V.prototype[L]=!0;V.prototype.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};V.prototype.removeEventListener=function(a,b,c,d){Ra(this,a,b,c,d)};V.prototype.dispatchEvent=function(a){var b,c=this.T;if(c)for(b=[];c;c=c.T)b.push(c);var c=this.Z,d=a.type||a;if(m(a))a=new J(a,c);else if(a instanceof J)a.target=a.target||c;else{var e=a;a=new J(d,c);ia(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.m&amp;&amp;0&lt;=g;g--)f=a.currentTarget=b[g],e=W(f,d,!0,a)&amp;&amp;e;a.m||(f=a.currentTarget=c,e=W(f,d,!0,a)&amp;&amp;e,a.m||(e=W(f,d,!1,a)&amp;&amp;e));if(b)for(g=0;!a.m&amp;&amp;g&lt;b.length;g++)f=a.currentTarget=b[g],e=W(f,d,!1,a)&amp;&amp;e;return e};V.prototype.listen=function(a,b,c,d){return this.l.add(String(a),b,!1,c,d)};V.prototype.unlisten=function(a,b,c,d){return this.l.remove(String(a),b,c,d)};var W=function(a,b,c,d){b=a.l.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f&lt;b.length;++f){var g=b[f];if(g&amp;&amp;!g.o&amp;&amp;g.w==c){var h=g.listener,u=g.A||g.src;g.v&amp;&amp;P(a.l,g);e=!1!==h.call(u,d)&amp;&amp;e}}return e&amp;&amp;0!=d.V};V.prototype.K=function(a,b,c,d){return this.l.K(String(a),b,c,d)};var X=function(a,b){V.call(this);this.B=a||1;this.s=b||k;this.I=n(this.la,this);this.L=p()};q(X,V);X.prototype.enabled=!1;X.prototype.h=null;X.prototype.la=function(){if(this.enabled){var a=p()-this.L;0&lt;a&amp;&amp;a&lt;.8*this.B?this.h=this.s.setTimeout(this.I,this.B-a):(this.h&amp;&amp;(this.s.clearTimeout(this.h),this.h=null),this.dispatchEvent(&quot;tick&quot;),this.enabled&amp;&amp;(this.h=this.s.setTimeout(this.I,this.B),this.L=p()))}};X.prototype.start=function(){this.enabled=!0;this.h||(this.h=this.s.setTimeout(this.I,this.B),this.L=p())};X.prototype.stop=function(){this.enabled=!1;this.h&amp;&amp;(this.s.clearTimeout(this.h),this.h=null)};var Y=function(a,b,c,d){this.O=a;this.ca=b;this.da=c;this.D=0;this.u=document.getElementById(&quot;mtadmas&quot;);this.ma=document.getElementById(&quot;mtadmaundo&quot;);this.M=document.getElementById(&quot;mtadmac&quot;);this.$=document.getElementById(&quot;mtadmback&quot;);this.U=document.getElementById(&quot;mtadmpc&quot;);this.na=document.getElementById(&quot;mtadmpundo&quot;);this.j=this.Y=this.J=this.P=this.N=null;this.C=!1;this.H=null;this.ga=d?d.getAdsLength():1;(this.i=d)&amp;&amp;this.i.registerWidget(this,0)},Va=function(a){for(var b=document.getElementsByName(&quot;surveyOptions&quot;),c=0;c&lt;b.length;c++)w(b[c],a,n(a.ia,a,b[c].value));w(a.ma,a,n(a.X,a,&quot;1&quot;));w(a.na,a,n(a.X,a,&quot;3&quot;));w(a.$,a,a.back);a.i&amp;&amp;(a.i.listenOnObject(&quot;mute_option_selected&quot;,n(a.W,a)),a.i.forEachAd(n(function(a){a.listenOnObject(&quot;multislot_mute_collapse&quot;,n(this.fa,this));a.listenOnObject(&quot;multislot_mute_collapse_undo&quot;,n(this.ea,this))},a)))};Y.prototype.W=function(a){this.N=a.close_button_token;this.P=a.creative_conversion_url;this.J=a.ablation_config;this.Y=a.undo_callback;this.i&amp;&amp;(this.H=this.i.getAd(a.creative_index));if(1===a.type){a=document.getElementsByName(&quot;surveyOptions&quot;);for(var b=0;b&lt;a.length;b++)a[b].checked=!1;this.u.style.display=&quot;block&quot;;Z(this);Wa(this)}else 0===a.type&amp;&amp;(this.U.style.display=&quot;block&quot;,this.u.style.display=&quot;none&quot;,Z(this),Xa(this,document.getElementById(&quot;pub-feedback-closing&quot;),this.J))};var Ya=function(a){a.j&amp;&amp;(a.j.stop(),a.j=null,a.C=!1);za(&quot;pub-feedback-closing&quot;).style.display=&quot;none&quot;;za(&quot;ad-feedback-closing&quot;).style.display=&quot;none&quot;};Y.prototype.X=function(a){this.C||(Ya(this),fa(Za(this,&quot;user_feedback_undo&quot;,a)),this.Y())};Y.prototype.back=function(){this.C||(Ya(this),this.u.style.display=&quot;block&quot;,Z(this),Wa(this))};Y.prototype.ia=function(a){this.M.style.display=&quot;block&quot;;this.u.style.display=&quot;none&quot;;Wa(this);fa(Za(this,&quot;mute_survey_option&quot;,a));a=document.getElementById(&quot;ad-feedback-closing&quot;);this.D&lt;this.ga-1&amp;&amp;this.i&amp;&amp;this.ca?$a(this,a):Xa(this,a,this.J)};var Za=function(a,b,c){return a.P+&quot;&amp;label=&quot;+b+&quot;&amp;cbt=&quot;+a.N+&quot;&amp;label_instance=&quot;+c},Z=function(a){a.M.style.display=&quot;none&quot;},Wa=function(a){a.U.style.display=&quot;none&quot;},ab=function(a,b,c,d,e,f){var g=Da(),h=c+d;0&gt;e||e&gt;h||(a.j||(a.j=new X(1E3),S(a.j,&quot;tick&quot;,n(function(){var a=&quot;&quot;;h&lt;=d&amp;&amp;0&lt;h&amp;&amp;(a=g.replace(&quot;%1$d&quot;,String(h)));b.style.display=a?&quot;inline&quot;:&quot;none&quot;;if(&quot;textContent&quot;in b)b.textContent=a;else if(3==b.nodeType)b.data=a;else if(b.firstChild&amp;&amp;3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=a}else{for(var c;c=b.firstChild;)b.removeChild(c);b.appendChild((9==b.nodeType?b:b.ownerDocument||b.document).createTextNode(String(a)))}if(h==e)try{this.C=!0,f&amp;&amp;f()}catch(y){}0&gt;=h&amp;&amp;Ya(this);h--},a))),a.j.dispatchEvent(&quot;tick&quot;),0&lt;=h&amp;&amp;a.j.start())},Xa=function(a,b,c){if(c&amp;&amp;window.top&amp;&amp;window.top.postMessage){var d=Ga(c),e=la(d),f=&quot;resize-me&quot;==d.msg_type&amp;&amp;&quot;animate&quot;==e.r_str;(&quot;ablate-me&quot;==d.msg_type&amp;&amp;e[&quot;collapse-after-close&quot;]||f&amp;&amp;!Fa())&amp;&amp;ab(a,b,x(e[&quot;secs-to-countdown&quot;],1),x(e.countdown,0),x(e[&quot;message-tick&quot;],1),function(){window.top.postMessage(c,&quot;*&quot;)})}},$a=function(a,b){ab(a,b,1,a.da,0,n(function(){var a={creative_index:this.H.getIndex(),undo_pingback_url:Za(this,&quot;user_feedback_undo&quot;,&quot;1&quot;)};this.H.fireOnObject(&quot;multislot_mute_collapse&quot;,a)},a))};Y.prototype.fa=function(){this.D++;this.i.resetAll()};Y.prototype.ea=function(){0&lt;this.D&amp;&amp;this.D--};Y.prototype.show=function(){this.O.style.display=&quot;block&quot;};Y.prototype.hide=function(){this.O.style.display=&quot;none&quot;};Y.prototype.reset=function(){this.hide()};Y.prototype.show=Y.prototype.show;Y.prototype.hide=Y.prototype.hide;Y.prototype.reset=Y.prototype.reset;Y.prototype.setupSurveyPage=Y.prototype.W;aa(&quot;cmtads&quot;,function(a,b){var c=null,d=document.getElementById(&quot;cbtf&quot;);d&amp;&amp;(c=new Y(d,!!a,b||0,window.adSlot),Va(c));c&amp;&amp;aa(&quot;muteSurvey&quot;,c);return c});})();cmtads(false,0);&lt;/script&gt;&lt;iframe scrolling=&quot;no&quot; frameborder=0 height=0 width=0 src=&quot;http://cm.g.doubleclick.net/push?client=ca-pub-3558870564527416&quot; style=&quot;position:absolute&quot;&gt;&lt;/iframe&gt;&lt;script type=&quot;text/javascript&quot;&gt;(function(){var h=this,m=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},n=function(a){return&quot;string&quot;==typeof a},aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},p=function(a,b){var c=a.split(&quot;.&quot;),d=h;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};var r=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?r(a,b,d,void 0,e):a:c};var ba=function(){var a=/[&amp;\?]exk=([^&amp; ]+)/.exec(t.location.href);return a&amp;&amp;2==a.length?a[1]:null};var ca=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},u=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var v=document,t=window;var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},w=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var y=null,ea=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};function z(a){return&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}var fa=function(){if(!v.body)return!1;if(!y){var a=v.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.id=&quot;anonIframe&quot;;y=a;v.body.appendChild(a)}return!0},A={};var ga=!0,ha={},ka=function(a,b,c,d){var e=ia,f,g=ga;try{f=b()}catch(k){try{var q=ca(k);b=&quot;&quot;;k.fileName&amp;&amp;(b=k.fileName);var D=-1;k.lineNumber&amp;&amp;(D=k.lineNumber);g=e(a,q,b,D,c)}catch(l){try{var x=ca(l);a=&quot;&quot;;l.fileName&amp;&amp;(a=l.fileName);c=-1;l.lineNumber&amp;&amp;(c=l.lineNumber);ia(&quot;pAR&quot;,x,a,c,void 0,void 0)}catch(xa){ja({context:&quot;mRE&quot;,msg:xa.toString()+&quot;\n&quot;+(xa.stack||&quot;&quot;)},void 0)}}if(!g)throw k;}finally{if(d)try{d()}catch(sb){}}return f},ia=function(a,b,c,d,e,f){var g={};if(e)try{e(g)}catch(k){}g.context=a;g.msg=b.substring(0,512);c&amp;&amp;(g.file=c);0&lt;d&amp;&amp;(g.line=d.toString());g.url=v.URL.substring(0,512);g.ref=v.referrer.substring(0,512);la(g);ja(g,f);return ga},ja=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+ma(a),d=&quot;http&quot;+(&quot;http:&quot;==t.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);u(t,d)}}catch(e){}},la=function(a){var b=a||{};ea(ha,function(a,d){b[d]=t[a]})},B=function(a,b,c,d,e){return function(){var f=arguments;return ka(a,function(){return b.apply(c,f)},d,e)}},ma=function(a){var b=&quot;&quot;;ea(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+z(a)});return b};var C=Array.prototype,na=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(n(a))return n(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},oa=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e};var pa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},qa=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==m(arguments[0]))return qa.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var E;a:{var ra=h.navigator;if(ra){var sa=ra.userAgent;if(sa){E=sa;break a}}E=&quot;&quot;};var F=function(){return-1!=E.indexOf(&quot;Edge&quot;)};var ta=-1!=E.indexOf(&quot;Opera&quot;)||-1!=E.indexOf(&quot;OPR&quot;),G=-1!=E.indexOf(&quot;Edge&quot;)||-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;),ua=-1!=E.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F())&amp;&amp;!(-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;))&amp;&amp;!F(),va=-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F(),wa=function(){var a=E;if(ua)return/rv\:([^\);]+)(\)|;)/.exec(a);if(G&amp;&amp;F())return/Edge\/([\d\.]+)/.exec(a);if(G)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(va)return/WebKit\/(\S+)/.exec(a)},ya=function(){var a=h.document;return a?a.documentMode:void 0},za=function(){if(ta&amp;&amp;h.opera){var a=h.opera.version;return&quot;function&quot;==m(a)?a():a}var a=&quot;&quot;,b=wa();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return G&amp;&amp;!F()&amp;&amp;(b=ya(),b&gt;parseFloat(a))?String(b):a}(),Aa={},Ba=function(a){if(!Aa[a]){for(var b=0,c=da(String(za)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;,q=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),D=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var l=q.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],x=D.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==l[0].length&amp;&amp;0==x[0].length)break;b=w(0==l[1].length?0:parseInt(l[1],10),0==x[1].length?0:parseInt(x[1],10))||w(0==l[2].length,0==x[2].length)||w(l[2],x[2])}while(0==b)}Aa[a]=0&lt;=b}},Ca=h.document,Da=ya(),Ea=!Ca||!G||!Da&amp;&amp;F()?void 0:Da||(&quot;CSS1Compat&quot;==Ca.compatMode?parseInt(za,10):5);var Fa={i:947190538,j:947190541,l:947190542,g:79463068,h:79463069},Ga={f:&quot;ud=1&quot;,m:&quot;ts=1&quot;,c:&quot;sc=1&quot;};if(v&amp;&amp;v.URL)var H=v.URL,ga=!(H&amp;&amp;(0&lt;H.indexOf(&quot;?google_debug&quot;)||0&lt;H.indexOf(&quot;&amp;google_debug&quot;)||0&lt;H.indexOf(&quot;#google_debug&quot;)));var I=function(a,b,c,d){c=B(d||&quot;osd_or_lidar::&quot;+b,c,void 0,void 0,void 0);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)},Ha=function(a,b,c){if(!(0&gt;=b)){var d=0,e=function(){a();d++;d&lt;b&amp;&amp;t.setTimeout(B(c,e,void 0,void 0,void 0),100)};e()}};var J=function(a,b){this.b=a||0;this.a=b||&quot;&quot;},K=function(a,b){a.b&amp;&amp;(b[4]=a.b);a.a&amp;&amp;(b[12]=a.a)};J.prototype.match=function(a){return(this.b||this.a)&amp;&amp;(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};J.prototype.toString=function(){var a=&quot;&quot;+this.b;this.a&amp;&amp;(a+=&quot;-&quot;+this.a);return a};var Ia=function(){var a=L,b=[];a.b&amp;&amp;b.push(&quot;adk=&quot;+a.b);a.a&amp;&amp;b.push(&quot;exk=&quot;+a.a);return b},M=function(a){var b=[];pa(a,function(a,d){var e=z(d),f=a;n(f)&amp;&amp;(f=z(f));b.push(e+&quot;=&quot;+f)});return b.join(&quot;\n&quot;)},N=0,Ja=0,Ka=function(a){var b=0,c=t;try{if(c&amp;&amp;c.Goog_AdSense_getAdAdapterInstance)return c}catch(d){}try{for(;c&amp;&amp;5&gt;b;){if(c.google_osd_static_frame)return c;if(c.aswift_0&amp;&amp;(!a||c.aswift_0.google_osd_static_frame))return c.aswift_0;b++;c=c!=c.parent?c.parent:null}}catch(e){}return null},La=function(a,b,c,d,e){if(10&lt;Ja)t.clearInterval(N);else if(++Ja,t.postMessage&amp;&amp;(b.b||b.a)){var f=Ka(!0);if(f){var g={};K(b,g);g[0]=&quot;goog_request_monitoring&quot;;g[6]=a;g[16]=c;d&amp;&amp;d.length&amp;&amp;(g[17]=d.join(&quot;,&quot;));e&amp;&amp;(g[19]=e);try{var k=M(g);f.postMessage(k,&quot;*&quot;)}catch(q){}}}},Ma=function(a){var b=Ka(!1),c=!b;!b&amp;&amp;t&amp;&amp;(b=t.parent);if(b&amp;&amp;b.postMessage)try{b.postMessage(a,&quot;*&quot;),c&amp;&amp;t.postMessage(a,&quot;*&quot;)}catch(d){}};qa(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var O=function(a,b){this.width=a;this.height=b};var Na;if(!(Na=!ua&amp;&amp;!G)){var Oa;if(Oa=G)Oa=G&amp;&amp;(F()||9&lt;=Ea);Na=Oa}Na||ua&amp;&amp;Ba(&quot;1.9.1&quot;);G&amp;&amp;Ba(&quot;9&quot;);G&amp;&amp;Ba(12);var Qa=function(){var a=t.parent&amp;&amp;t.parent!=t,b=a&amp;&amp;0&lt;=&quot;//tpc.googlesyndication.com&quot;.indexOf(t.location.host);if(a&amp;&amp;t.name&amp;&amp;0==t.name.indexOf(&quot;google_ads_iframe&quot;)||b){var c;a=t||t;try{var d;if(a.document&amp;&amp;!a.document.body)d=new O(-1,-1);else{var e=(a||window).document,f=&quot;CSS1Compat&quot;==e.compatMode?e.documentElement:e.body;d=new O(f.clientWidth,f.clientHeight)}c=d}catch(g){c=new O(-12245933,-12245933)}return Pa(c)}c=t.document.getElementsByTagName(&quot;SCRIPT&quot;);return 0&lt;c.length&amp;&amp;(c=c[c.length-1],c.parentElement&amp;&amp;c.parentElement.id&amp;&amp;0&lt;c.parentElement.id.indexOf(&quot;_ad_container&quot;))?Pa(void 0,c.parentElement):null},Pa=function(a,b){var c=Ra(&quot;IMG&quot;,a,b);return c||(c=Ra(&quot;IFRAME&quot;,a,b))?c:(c=Ra(&quot;OBJECT&quot;,a,b))?c:null},Ra=function(a,b,c){var d=document;c=c||d;d=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;c=c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;d?c.querySelectorAll(d+&quot;&quot;):c.getElementsByTagName(d||&quot;*&quot;);for(d=0;d&lt;c.length;d++){var e=c[d];if(&quot;OBJECT&quot;==a)a:{var f=e.getAttribute(&quot;height&quot;);if(null!=f&amp;&amp;0&lt;f&amp;&amp;0==e.clientHeight)for(var f=e.children,g=0;g&lt;f.length;g++){var k=f[g];if(&quot;OBJECT&quot;==k.nodeName||&quot;EMBED&quot;==k.nodeName){e=k;break a}}}f=e.clientHeight;g=e.clientWidth;if(k=b)k=new O(g,f),k=Math.abs(b.width-k.width)&lt;.1*b.width&amp;&amp;Math.abs(b.height-k.height)&lt;.1*b.height;if(k||!b&amp;&amp;10&lt;f&amp;&amp;10&lt;g)return e}return null};var Sa,P=0,Q=&quot;&quot;,R=!1,S=!1,T=!1,Ta=!0,Ua=!1,Va=!1,Wa=[],L=null,Xa=&quot;&quot;,Ya=[],Za=null,$a=[],ab=!1,U=&quot;&quot;,V=&quot;&quot;,bb=(new Date).getTime(),cb=!1,db=!1,eb=&quot;&quot;,fb=!1,gb=[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;],W=0,X=0,hb=0,ib=&quot;&quot;,jb=function(a,b,c){R&amp;&amp;(Ta||3!=(c||3)||Va)&amp;&amp;Y(a,b,!0);(T||S&amp;&amp;Ua)&amp;&amp;Y(a,b)},kb=function(){var a=Za;return a?2!=a():!0},Y=function(a,b,c){if((b=b||Xa)&amp;&amp;!ab&amp;&amp;(2==X||c)&amp;&amp;kb()){var d;d=c?&quot;osdim&quot;:T?&quot;osd2&quot;:&quot;osdtos&quot;;var e=[&quot;//pagead2.googlesyndication.com/activeview&quot;,&quot;?id=&quot;,d];&quot;osd2&quot;==d&amp;&amp;S&amp;&amp;Ua&amp;&amp;e.push(&quot;&amp;ts=1&quot;);Q&amp;&amp;e.push(&quot;&amp;avi=&quot;,Q);Sa&amp;&amp;e.push(&quot;&amp;cid=&quot;,Sa);e.push(&quot;&amp;ti=1&quot;);e.push(&quot;&amp;&quot;,b);e.push(&quot;&amp;uc=&quot;+hb);cb&amp;&amp;(db?e.push(&quot;&amp;tgt=&quot;+eb):e.push(&quot;&amp;tgt=nf&quot;),e.push(&quot;&amp;cl=&quot;+(fb?1:0)));b=e.join(&quot;&quot;);for(d=0;d&lt;Ya.length;d++){try{var f=Ya[d]()}catch(g){}e=&quot;max_length&quot;;2&lt;=f.length&amp;&amp;(3==f.length&amp;&amp;(e=f[2]),b=r(b,z(f[0]),z(f[1]),e))}2E3&lt;b.length&amp;&amp;(b=b.substring(0,2E3));u(a,b);c?R=!1:ab=!0}},Z=function(a,b){if(U){try{var c=r(U,&quot;vi&quot;,a);fa()&amp;&amp;u(y.contentWindow,c)}catch(d){}0&lt;=na(gb,a)&amp;&amp;(U=&quot;&quot;);var c=b||Xa,e;e=r(&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=sldb&quot;,&quot;avi&quot;,Q);e=r(e,&quot;vi&quot;,a);c&amp;&amp;(e+=&quot;&amp;&quot;+c);try{u(t,e)}catch(f){}}},lb=function(){Z(&quot;-1&quot;)},mb=function(a){if(a&amp;&amp;a.data&amp;&amp;n(a.data)){var b;var c=a.data;if(n(c)){b={};for(var c=c.split(&quot;\n&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;);if(!(0&gt;=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:case 18:e=&quot;true&quot;==e;break;case 4:case 7:case 6:case 14:e=Number(e);break;case 3:case 19:if(&quot;function&quot;==m(decodeURIComponent))try{e=decodeURIComponent(e)}catch(g){throw Error(&quot;Error: URI malformed: &quot;+e);}break;case 17:e=oa(decodeURIComponent(e).split(&quot;,&quot;),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&amp;&amp;(c=new J(b[4],b[12]),L&amp;&amp;L.match(c))){for(c=0;c&lt;$a.length;c++)$a[c](b);void 0!=b[18]&amp;&amp;(Va=b[18]);c=b[0];if(&quot;goog_acknowledge_monitoring&quot;==c)t.clearInterval(N),W=2;else if(&quot;goog_get_mode&quot;==c){W=1;d={};L&amp;&amp;K(L,d);d[0]=&quot;goog_provide_mode&quot;;d[6]=X;d[19]=ib;try{var k=M(d);a.source.postMessage(k,a.origin)}catch(q){}t.clearInterval(N);W=2}else&quot;goog_update_data&quot;==c?(Xa=b[3],++hb):&quot;goog_image_request&quot;==c&amp;&amp;(jb(t,b[3]),b[5]||b[11]||Z(&quot;0&quot;,b[3]));if(&quot;goog_update_data&quot;==c||&quot;goog_image_request&quot;==c)(1==X||2==X||R)&amp;&amp;b[5]&amp;&amp;(a=1==b[15]&amp;&amp;&quot;goog_update_data&quot;==c,Ua=!0,Z(&quot;1&quot;),V&amp;&amp;kb()&amp;&amp;(k=V,fa()&amp;&amp;u(y.contentWindow,k),V=&quot;&quot;),R&amp;&amp;!a&amp;&amp;Y(t,void 0,!0),R||1!=X||(ab=!0)),(1==X||2==X||R)&amp;&amp;b[11]&amp;&amp;(S=!1,Z(&quot;3&quot;),R&amp;&amp;Y(t,void 0,!0))}}},nb=function(){jb(t);Z(&quot;0&quot;);if(2&gt;W&amp;&amp;!S&amp;&amp;2==X){var a=t,b=&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=osd2&amp;&quot;,c=[];c.push(&quot;ovr_value=&quot;+P);c.push(&quot;avi=&quot;+Q);L&amp;&amp;(c=c.concat(Ia()));c.push(&quot;tt=&quot;+((new Date).getTime()-bb));a.document&amp;&amp;a.document.referrer&amp;&amp;c.push(&quot;ref=&quot;+z(a.document.referrer));c.push(&quot;hs=&quot;+W);b+=c.join(&quot;&amp;&quot;);try{u(a,b)}catch(d){}}},ob=function(){var a={};K(L,a);a[0]=&quot;goog_dom_content_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::ldcl_int&quot;)},pb=function(){var a={};K(L,a);a[0]=&quot;goog_creative_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::lcel_int&quot;);fb=!0},qb=function(a){if(n(a)){a=a.split(&quot;&amp;&quot;);for(var b=a.length-1;0&lt;=b;b--){var c=a[b],d=Ga;c==d.f?(Ta=!1,a.splice(b,1)):c==d.c&amp;&amp;(cb=!0,a.splice(b,1))}ib=a.join(&quot;&amp;&quot;)}},rb=function(){if(!db){var a=Qa();a&amp;&amp;(db=!0,eb=a.tagName,a.complete||a.naturalWidth?pb():I(a,&quot;load&quot;,pb,&quot;osd_listener::creative_load&quot;))}};p(&quot;osdlfm&quot;,B(&quot;osd_listener::init&quot;,function(a,b,c,d,e,f,g,k,q,D){P=a;U=b;V=d;R=f;Sa=D;k&amp;&amp;qb(k);S=g&amp;&amp;f;1!=q&amp;&amp;2!=q&amp;&amp;3!=q||Wa.push(Fa[&quot;MRC_TEST_&quot;+q]);L=new J(e,ba());I(t,&quot;load&quot;,lb,&quot;osd_listener::load&quot;);I(t,&quot;message&quot;,mb,&quot;osd_listener::message&quot;);Q=c||&quot;&quot;;I(t,&quot;unload&quot;,nb,&quot;osd_listener::unload&quot;);var l=t.document;!l.readyState||&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState?(&quot;msie&quot;in A?A.msie:A.msie=-1!=navigator.userAgent.toLowerCase().indexOf(&quot;msie&quot;))&amp;&amp;!window.opera?I(l,&quot;readystatechange&quot;,function(){&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState||ob()},&quot;osd_listener::rsc&quot;):I(l,&quot;DOMContentLoaded&quot;,ob,&quot;osd_listener::dcl&quot;):ob();-1==P?X=f?3:1:-2==P?X=3:0&lt;P&amp;&amp;(X=2,T=!0);S&amp;&amp;!T&amp;&amp;(X=2);L&amp;&amp;(L.b||L.a)&amp;&amp;(W=1,N=t.setInterval(B(&quot;osd_proto::reqm_int&quot;,aa(La,X,L,S,Wa,ib),void 0,void 0,void 0),500));cb&amp;&amp;Ha(rb,5,&quot;osd_listener:sfc&quot;)}));p(&quot;osdlac&quot;,B(&quot;osd_listener::lac_ex&quot;,function(a){Ya.push(a)}));p(&quot;osdlamrc&quot;,B(&quot;osd_listener::lamrc_ex&quot;,function(a){$a.push(a)}));p(&quot;osdsir&quot;,B(&quot;osd_listener::sir_ex&quot;,jb));p(&quot;osdacrc&quot;,B(&quot;osd_listener::acrc_ex&quot;,function(a){Za=a}));})();osdlfm(-1,&#39;&#39;,&#39;BDCz7FY9cVc75MI6fhASZ0YDoDwC9jZLnuAEAABABOAHIAQngAgDgBAGgBi7CEwMQgAE&#39;,&#39;&#39;,1033378902,true,true,&#39;ud\x3d1\x26sc\x3d1\x26&#39;,3,&#39;5GiSHpDM9nI3RC_XB827awsfxAM&#39;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;{&quot;uid&quot;:4,&quot;hostPeerName&quot;:&quot;http://code.tutsplus.com&quot;,&quot;initialGeometry&quot;:&quot;{\&quot;windowCoords_t\&quot;:23,\&quot;windowCoords_r\&quot;:1142,\&quot;windowCoords_b\&quot;:754,\&quot;windowCoords_l\&quot;:67,\&quot;frameCoords_t\&quot;:102,\&quot;frameCoords_r\&quot;:961,\&quot;frameCoords_b\&quot;:192,\&quot;frameCoords_l\&quot;:233,\&quot;styleZIndex\&quot;:\&quot;auto\&quot;,\&quot;allowedExpansion_t\&quot;:0,\&quot;allowedExpansion_r\&quot;:0,\&quot;allowedExpansion_b\&quot;:0,\&quot;allowedExpansion_l\&quot;:0,\&quot;xInView\&quot;:0,\&quot;yInView\&quot;:0}&quot;,&quot;permissions&quot;:&quot;{\&quot;expandByOverlay\&quot;:true,\&quot;expandByPush\&quot;:false,\&quot;readCookie\&quot;:false,\&quot;writeCookie\&quot;:false}&quot;,&quot;metadata&quot;:&quot;{\&quot;shared\&quot;:{\&quot;sf_ver\&quot;:\&quot;1-0-2\&quot;,\&quot;ck_on\&quot;:1,\&quot;flash_ver\&quot;:\&quot;17.0.0\&quot;}}&quot;,&quot;reportCreativeGeometry&quot;:false}" scrolling="no" marginwidth="0" marginheight="0" width="728" height="90" data-is-safeframe="true" style="border: 0px; vertical-align: bottom;"></iframe></div></div><div class="ad__label">Advertisement</div></div></div><div class="page-content" style="height: auto;"><main class="content"><div class="section-header view view--loaded"><div class="section-header__navigation"><div class="section-header__topic"><a class="section-header__topic-link topic-link topic-code" href="http://code.tutsplus.com/" sl-processed="1"><div class="section-header__section-icon section-header__section-icon--tutorials"></div>Code</a></div><ul class="section-header__nav-links"><li class="section-header__nav-link section-header__nav-link--dropdown"><div class="section-header__categories-menu"><a class="section-header__categories-menu-toggle" href="javascript:" sl-processed="1"><span class="section-header__categories-menu-title">Categories</span> <i class="fa fa-chevron-down"></i></a><ul class="section-header__categories-menu-items"><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/web-development" sl-processed="1">Web Development</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/wordpress" sl-processed="1">WordPress</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/mobile-development" sl-processed="1">Mobile Development</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/php" sl-processed="1">PHP</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/flash" sl-processed="1">Flash</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/javascript" sl-processed="1">JavaScript</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/news" sl-processed="1">News</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/ios-sdk" sl-processed="1">iOS SDK</a></li><li class="section-header__categories-menu-item"><a class="section-header__categories-menu-link" href="http://code.tutsplus.com/categories/android-sdk" sl-processed="1">Android SDK</a></li><li class="section-header__categories-menu-more"><a class="section-header__categories-menu-link section-header__categories-menu-more-link" href="http://code.tutsplus.com/categories" sl-processed="1">More...</a></li></ul></div></li><li class="section-header__nav-link section-header__nav-link--direct"><a href="http://code.tutsplus.com/categories" sl-processed="1">Categories</a></li><li class="section-header__nav-link section-header__nav-link--dropdown"><div class="section-header__learning-guides-menu"><a class="section-header__learning-guides-menu-toggle" href="javascript:" sl-processed="1"><span class="section-header__learning-guides-menu-title">Learning Guides</span> <i class="fa fa-chevron-down"></i></a><ul class="section-header__learning-guides-menu-items"><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/learn-android-sdk-from-scratch--mobile-21677" sl-processed="1">Learn Android SDK From Scratch</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/making-the-perfect-wordpress-theme--wp-33987" sl-processed="1">Making the Perfect WordPress Theme</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/refactoring-legacy-code--cms-633" sl-processed="1">Refactoring Legacy Code</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/the-solid-principles--cms-634" sl-processed="1">The SOLID Principles</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/learn-ios-sdk-development-from-scratch--mobile-14536" sl-processed="1">Learn iOS SDK Development From Scratch</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/an-introduction-to-xamarin--cms-642" sl-processed="1">An Introduction to Xamarin</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/css3-mastery--net-18126" sl-processed="1">CSS3 Mastery</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/strange-and-unusual-html--cms-616" sl-processed="1">Strange and Unusual HTML</a></li><li class="section-header__learning-guides-menu-item"><a class="section-header__learning-guides-menu-link" href="http://code.tutsplus.com/series/working-with-symfony-2--cms-636" sl-processed="1">Working with Symfony 2</a></li><li class="section-header__learning-guides-menu-more"><a class="section-header__learning-guides-menu-link section-header__learning-guides-menu-more-link" href="http://code.tutsplus.com/series" sl-processed="1">More...</a></li></ul></div></li><li class="section-header__nav-link section-header__nav-link--direct"><a href="http://code.tutsplus.com/series" sl-processed="1">Learning Guides</a></li><li class="section-header__nav-link"><a href="http://experts.tutsplus.com/collections/code/?ec_promo=tutsnav" sl-processed="1">Expert Help</a><sup class="section-header__new">New!</sup></li></ul></div></div><article class="post tutorial"><div class="layout__offset-content-with-sidebar layout__offset-content-with-sidebar--post"><div class="post__header"><div class="content-header view content-header--post view--loaded"><div class="content-header__category"><a class="content-header__category-link" href="http://code.tutsplus.com/categories/ios-sdk" sl-processed="1">iOS SDK</a></div><h1 class="content-header__title nolinks">Accessing Google Services Using the OAuth 2.0 Protocol</h1><div class="content-header__publication-meta"><span class="content-header__author-by"></span>by <span class="content-header__author"><a class="content-header__author-link" rel="author" href="http://tutsplus.com/authors/gabriel-theodoropoulos" sl-processed="1">Gabriel Theodoropoulos</a></span><time class="content-header__publication-date" datetime="2013-09-12T22:19:08Z" title="12 Sep 2013">12 Sep 2013</time><span class="content-header__comment-count"><i class="icon tutsicon-comment content-header__comment-icon"></i><a data-disqus-identifier="18394 http://mobile.tutsplus.com/?p=18394" class="content-header__comment-count-link" href="http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394#disqus_thread" sl-processed="1">27 Comments</a></span></div><div class="content-header__social-share-links sticky-block--floating"><ul class="social-share-links"><li class="social-share-links__item"><a title="Share on Facebook" class="social-share-links__link social-share-links__link--facebook" href="https://www.facebook.com/dialog/feed?app_id=1494084460809023&link=http%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394&display=page&name=Accessing%20Google%20Services%20Using%20the%20OAuth%202.0%20Protocol&redirect_uri=http%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394" sl-processed="1"><i class="fa fa-facebook-square social-share-links__icon"></i><div class="social-share-links__count">2</div></a></li><li class="social-share-links__item"><a target="_blank" title="Share on Twitter" class="social-share-links__link social-share-links__link--twitter" href="https://twitter.com/intent/tweet?text=Accessing%20Google%20Services%20Using%20the%20OAuth%202.0%20Protocol&url=http%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394&via=tutsplus" sl-processed="1"><i class="fa fa-twitter social-share-links__icon"></i><div class="social-share-links__count">2</div></a></li><li class="social-share-links__item"><a target="_blank" title="Share on Google+" class="social-share-links__link social-share-links__link--google-plus" href="https://plus.google.com/share?url=http%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394" sl-processed="1"><i class="fa fa-google-plus social-share-links__icon"></i><div class="social-share-links__count">9</div></a></li><li class="social-share-links__item"><a target="_blank" title="Pin on Pinterest" class="social-share-links__link social-share-links__link--pinterest" href="https://www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fcode.tutsplus.com%2Ftutorials%2Faccessing-google-services-using-the-oauth-20-protocol--mobile-18394&description=Accessing%20Google%20Services%20Using%20the%20OAuth%202.0%20Protocol&media=https%3A%2F%2Fcdn.tutsplus.com%2Fmobile%2Fuploads%2F2013%2F09%2FGoogle-OAuth%402x.png" sl-processed="1"><i class="fa fa-pinterest social-share-links__icon"></i><div class="social-share-links__count--blank">Share</div></a></li></ul></div></div></div><div class="post-body view view--loaded"><div class="post-body__body"><script async="" charset="utf-8" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/widgets.js"></script><div class="post-body__content"><p>This tutorial will dive into implementing Google Services using the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="96:Thistutorialwilldive_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol. Read on!<br>
<!--more--></p>
<hr>
<h2 class="nolinks">OAuth 2.0 Overview</h2>
<p>The <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="861:TheOAuth2.0protocolp_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol provides a simple and secure standard that allows third-party applications to access major service providers like Facebook, G+, and Twitter without compromising user passwords. The whole idea revolves around the existence of an access token, something like a unique key that can identify a user in place of a password. Access tokens are obtained by third-party applications after the user successfully authenticates with a web service. The whole process, known as authorization flow, begins when a user enters his credentials into a login window and finishes when the access token is acquired. The access token is usually refreshed from time to time. With this token, there is no need for any of the user’s personal data or password to be transmitted over the web each time that a client application asks for access on behalf of the user.</p>
<p>If you are not familiar with the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="168:Ifyouarenotfamiliarw_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol you should do some background reading now before continuing this tutorial. Specifically, review the following links:</p>
<ul>
<li><a href="http://oauth.net/documentation/" target="_blank" sl-processed="1">OAuth 2.0 Documentation and Specification</a></li>
<li><a href="http://en.wikipedia.org/wiki/OAuth" target="_blank" sl-processed="1">About OAuth in Wikipedia</a></li>
</ul>
<p>In general, the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="78:Ingeneral,theOAuth2._1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> authorization flow adheres to the following pattern:</p>
<ol>
<li>Let users connect to their online account.</li>
<li>Get an authorization code (i.e. authorization token).</li>
<li>Exchange the authorization code for an access token and a refresh token.</li>
<li>Use the access token to interact with a web service or an API.</li>
<li>Use the refresh token to update the access token when needed.</li>
</ol>
<hr>
<h2 class="nolinks">Google and OAuth 2.0</h2>
<p>Google is one of the many third-party web service providers that have adopted the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="593:Googleisoneofthemany_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol. It provides many APIs for accessing almost all of its services (like Calendar, Blogger, etc.) through client applications and provides guidance on how to implement the authorization flow with various programming languages and platforms. Every application that needs to use any of the Google web services must first register with the Google Developer Console, an administration panel where all the client applications developed by a user are managed. When registering an app in the Console, a <em>client id</em> and a <em>client secret</em> are created specifically for this app. These values, along with some others, are used by OAuth to authorize an app and to obtain the access token. After having registered an application, there are a number of available services that can be integrated into projects. These services are accessed through APIs that are provided for each one. Some of them are free of charge while others require a fee before Google will let you use them beyond a courtesy/trial usage limit.</p>
<p>From this point forward, I'll assume that you are familiar with <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="111:Fromthispointforward_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> principles, so it’s time to visit the <a href="https://developers.google.com/accounts/docs/OAuth2InstalledApp" sl-processed="1">Using OAuth 2.0 for Installed Applications</a> documentation from Google. This documentation presents the authorization flow supported by Google for client applications implemented for mobile or desktop platforms and is going to be our guide on the project of this tutorial. Also, I would recommend that you surf around a little using the menu options at the top-left side of the window and the links inside the text in order to gain a deeper understanding on Google services and the way the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="470:documentationfromGoo_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol works.</p>
<hr>
<h2 class="nolinks">Project Overview</h2>
<p>This project will teach you how to create a class that will contain the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="749:Thisprojectwillteach_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> client-side implementation for accessing Google's API and services. This class will be part of a simple demo application. The GUI will be really simple, as we only need to test the class, so we are going to spend a great deal of time actually coding. In order to test the OAuth protocol implementation, we will ask for the user profile information from Google, which will be displayed in our app. Also, in order for our work to be as complete as possible, we will add extra checks and error handling messages. After this class is ready, it can be used in real projects for accessing Google services. Of course, it can be improved or be modified by anyone at any time.</p>
<p>Before we begin writing one line of code, we need to register the demo application in the Google Developers Console. To do this, we'll need the app’s name. For the sake of our project, I'm using the name <strong>GoogleOAuthDemo</strong>. If you prefer some other name, make sure to use it instead of mine in the steps that follow.</p>
<p>For now, here is a screenshot of the final product:</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_final.png" data-original-url="https://cdn.tutsplus.com/mobile/uploads/2013/07/gt5_final.png" alt="gt5_final" width="600" height="272" class="alignnone size-full wp-image-18396"><br>
</figure>
<hr>
<h2 class="nolinks">1. Register the iOS Application</h2>
<h3 class="nolinks">Step 1</h3>
<p>Our first step is to register the iOS application in the Google Developer Console because we need to acquire a Client ID and a Client Secret value pair. So, inside a new browser tab/window, visit the <a href="http://developers.google.com/" target="_blank" sl-processed="1">Google Developers</a> website. At the top-right side of the window, a Sign In button exists. Click it and the next window will show up.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_2_signin_window.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_2_signin_window.png" alt="gt5_2_signin_window" width="478" height="400" class="alignnone size-full wp-image-18399"><br>
</figure>
<p>If you have an account in any Google service (like gmail, Google+, Drive, etc.) then you can login using the credentials from this account. If you don’t have one already, or you just want to create a new one, now is the time to do it, simply by clicking on the Sign Up button.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_3_signup_button.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_3_signup_button.png" alt="gt5_3_signup_button" width="91" height="44" class="alignnone size-full wp-image-18400"><br>
</figure>
<p>In case you are making a new account, enter any required information, create it, and login to the Google Developers website.</p>
<h3 class="nolinks">Step 2</h3>
<p>Once you get connected with the Google Developers account, you might become quite curious about all the stuff this page contains, so go ahead and take a look if you wish. Surely you’ll find some pretty interesting topics. Scroll to the bottom side of the page, until you see the Developer Tools area. Click on the API Console link.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_4_api_console_icon.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_4_api_console_icon.png" alt="gt5_4_api_console_icon" width="600" height="205" class="alignnone size-full wp-image-18401"><br>
</figure>
<h3 class="nolinks">Step 3</h3>
<p>When you create an application in the Developers Console, the information regarding it is grouped all together and it’s called a <em>project</em>. Through it, you can manage all the APIs, users, authorization, and more stuff that you use in your applications. I would advise to look at the Help section (at the top-right side of the webpage) if you want to find detailed information about the console.</p>
<p>Let’s get back on track. When you first look at this webpage, you notice a drop-down menu at the top-left side of the webpage, named API Project. If you expand it, you’ll find some extra options, where by using them you can create new projects, delete them, rename them, and more. We don’t need anything from it, so if you have expanded it, click on it to collapse it. Beneath the drop-down menu, there are four options:</p>
<ol>
<li>Overview</li>
<li>Services</li>
<li>Team</li>
<li>API Access</li>
</ol>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_5_dashboard.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_5_dashboard.png" alt="gt5_5_dashboard" width="600" height="310" class="alignnone size-full wp-image-18402"><br>
</figure>
<p>If you click on the Services option, you’ll see all the services that Google offers with APIs. Next to each service there are some notes indicating which of them require a fee. To use any of them in an application, first you must register your application, then implement the OAuth protocol and finally ask for the appropriate APIs.</p>
<p>Click on the API Access option now. This is the place where we’ll register our new application. Click on the big blue button with the title <strong>"Create an <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="34:" createanoauth2.0cli_1"="">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> client ID..."</strong>.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_6_create_oauth_button.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_6_create_oauth_button.png" alt="gt5_6_create_oauth_button" width="501" height="169" class="alignnone size-full wp-image-18403"><br>
</figure>
<p>In the popup window, add as the <strong>Product Name</strong> the <em>Google <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="40:GoogleOAuth2.0iOSImp_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> iOS Implementation Demo</em> value and click on Next.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_7_create_client_id_1.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_7_create_client_id_1.png" alt="gt5_7_create_client_id_1" width="600" height="435" class="alignnone size-full wp-image-18404"><br>
</figure>
<p>In the next step, set the following:</p>
<ul>
<li>
<strong>Application Type</strong>: Installed application</li>
<li>
<strong>Installed Application Type</strong>: iOS</li>
<li>
<strong>Bundle ID</strong>: com.yourdomain.googleoauthdemo (for example, com.gabrieltheodoropoulos.googleoauthdemo)</li>
</ul>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_8_create_client_id_2.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_8_create_client_id_2.png" alt="gt5_8_create_client_id_2" width="600" height="613" class="alignnone size-full wp-image-18405"><br>
</figure>
<p>Click on the Create client ID button now and you are ready. As you can see at the next screenshot, you can easily find the client ID and the client secret values.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_9_client_id_secret.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_9_client_id_secret.png" alt="gt5_9_client_id_secret" width="600" height="289" class="alignnone size-full wp-image-18406"><br>
</figure>
<p>You can find out for yourself that you can edit all the information we just entered using the provided links and buttons in the webpage. The data we are going to use in our demo application is:</p>
<ul>
<li>client ID</li>
<li>client secret</li>
<li>Redirect URI</li>
</ul>
<p>At this point, the first part of our mission is over. Our app has been registered in the Google Developers Console and we have all the necessary information we want. The hard part though is coming next, where we are going to actually implement the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="275:Atthispoint,thefirst_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol in code.</p>
<hr>
<h2 class="nolinks">2. Create the Demo Project</h2>
<p>Time to begin building our app. Launch Xcode and create a new project. At the first step, select the <strong>Single View Application</strong> option from the provided templates.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_10_project_template.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_10_project_template.png" alt="gt5_10_project_template" width="600" height="405" class="alignnone size-full wp-image-18407"><br>
</figure>
<p>Next, specify the <em>GoogleOAuthDemo</em> in the <strong>Product Name</strong> field of the project's options window.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_11_project_options.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_11_project_options.png" alt="gt5_11_project_options" width="600" height="405" class="alignnone size-full wp-image-18408"><br>
</figure>
<p>Lastly, select a place to save your project and click on the Create button.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_12_project_create.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_12_project_create.png" alt="gt5_12_project_create" width="600" height="457" class="alignnone size-full wp-image-18409"><br>
</figure>
<hr>
<h2 class="nolinks">3. Create the Interface</h2>
<h3 class="nolinks">Step 1</h3>
<p>Click on the <code>ViewController.xib</code> file to launch Interface Builder. Drag-and-drop the next subviews on the default view:</p>
<ol>
<li>A <strong>Table View</strong>.</li>
<li>A <strong>Toolbar</strong>.</li>
</ol>
<p>Also, apart from the default Bar Button Item that the toolbar contains, add:</p>
<ol>
<li>A <strong>Flexible Space Bar Button Item</strong> and</li>
<li>A <strong>Bar Button Item</strong>
</li>
</ol>
<p>Make sure that the one button is at the left side of toolbar, while the second is at the right side of it. The flexible space should be between them.</p>
<h3 class="nolinks">Step 2</h3>
<p>Let's now do a couple of settings.</p>
<ul>
<li>Select the <strong>View</strong> and set its <strong>Size</strong> to <em>None</em> so it works on 3.5" <a href="http://www.amazon.com/s/field-keywords=iphone" class="skimwords-link" target="_blank" data-skimwords-id="1964102" data-skimlinks-editor="0" data-skimwords-word="iphone" data-group-id="0" data-skim-creative="300003" data-skim-product="1964102" title="Shopping Link Added by SkimWords" occurrence="1" data-skim-node-id="43:soitworkson3.5" iphon_1"="">iPhone</a><span style="position: absolute;"></span><span style="position: absolute;"></span> screens as well.
<ol>
<li>Open the <strong>Utilities</strong> pane.</li>
<li>Show the <strong>Attributes Inspector</strong> tab.</li>
<li>In the <strong>Simulated Metrics</strong> section set the <strong>Size</strong> to <em>None</em>.</li>
</ol>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_13_size_none.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_13_size_none.png" alt="gt5_13_size_none" width="246" height="156" class="alignnone size-full wp-image-18410"><br>
</figure>
</li>
<li>Set the frame of the Table View to: <em>X: 0, Y: 0, Width: 320, Height: 416</em>.
</li>
<li>Set the <strong>Title</strong> of the left Bar Button Item to <em>My Profile</em>.</li>
<li>Set the <strong>Title</strong> of the right Bar Button Item to <em>Revoke access</em>.</li>
</ul>
<p>That's all we want from our interface and this is how it should look now:</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_14_interface_sample.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_14_interface_sample.png" alt="gt5_14_interface_sample" width="309" height="450" class="alignnone size-full wp-image-18411"><br>
</figure>
<hr>
<h2 class="nolinks">4. Setup IBOutlets &amp; IBActions</h2>
<h3 class="nolinks">Step 1</h3>
<p>Our interface is prepared, but we need an IBOutlet property to connect the Table View. We also need two IBAction methods if we want our buttons to work. So, while we are in Interface Builder, <em>Click on the middle button of the Editor section on the Xcode toolbar to make the Assistant Editor appear</em>.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_15_assistant_editor.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_15_assistant_editor.png" alt="gt5_15_assistant_editor" width="115" height="60" class="alignnone size-full wp-image-18412"><br>
</figure>
<h3 class="nolinks">Step 2</h3>
<p>With the goal of creating the necessary IBOutlet connection, open the <strong>Document Outline</strong> and perform the following steps:</p>
<ol>
<li>Control + Click or Right + Click on the Table View.</li>
<li>On the popup menu, click on the New Referencing Outlet.</li>
<li>Drag-and-drop into the Assistant Editor window, just like you see in the next image.</li>
</ol>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_16_iboutlet_create.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_16_iboutlet_create.png" alt="gt5_16_iboutlet_create" width="600" height="148" class="alignnone size-full wp-image-18413"><br>
</figure>
<p>Give a name for the Table View and click on the <strong>Connect</strong> button. I simply named it <strong>table</strong>.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_17_iboutlet_name.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_17_iboutlet_name.png" alt="gt5_17_iboutlet_name" width="283" height="155" class="alignnone size-full wp-image-18414"><br>
</figure>
<h3 class="nolinks">Step 3</h3>
<p>Let's create the two IBAction methods now. Apply the following procedure in both the Bar Button Items.</p>
<ol>
<li>Control + Click or Right + Click on the left Bar Button item.</li>
<li>Click on the Selector option in the Sent Actions section of the popup menu.</li>
<li>Drag-and-drop into the Assistant Editor window.</li>
</ol>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_18_ibaction_create.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_18_ibaction_create.png" alt="gt5_18_ibaction_create" width="600" height="112" class="alignnone size-full wp-image-18415"><br>
</figure>
<p>Set the <strong>showProfile</strong> as the name for the method and create it.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_19_ibaction_name.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_19_ibaction_name.png" alt="gt5_19_ibaction_name" width="283" height="123" class="alignnone size-full wp-image-18416"><br>
</figure>
<p>Give the name <strong>revokeAccess</strong> to the next IBAction method when you create it. Your <code>ViewController.h</code> file after the IBOutlet property and the IBAction methods should look like this:</p>
<div><div id="highlighter_552134" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc preprocessor">#import &lt;UIKit/UIKit.h&gt;</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">ViewController</code> <code class="objc plain">: UIViewController</code></div><div class="line number4 index3 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">weak</code><code class="objc plain">, </code><code class="objc color2">nonatomic</code><code class="objc plain">) </code><code class="objc keyword">IBOutlet</code> <code class="objc keyword">UITableView</code> <code class="objc plain">*table;</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)showProfile:(</code><code class="objc color2">id</code><code class="objc plain">)sender;</code></div><div class="line number7 index6 alt2"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)revokeAccess:(</code><code class="objc color2">id</code><code class="objc plain">)sender;</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<hr>
<h2 class="nolinks">5. Create the OAuth 2.0 Protocol Implementation File</h2>
<h3 class="nolinks">Step 1</h3>
<p>Even though we added a Table View in the project, we won't implement its delegate methods for the time being. This is something that we are going to do when the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="295:EventhoughweaddedaTa_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> implementation is over. What we are going to do in this step is to create a new file where we will build the OAuth protocol.</p>
<p>On the <strong>Project Navigator</strong>, do the following:</p>
<ol>
<li>Control + Click or Right + Click on the <em>GoogleOAuthDemo</em> group.</li>
<li>Select the <strong>New File...</strong> option from the menu.</li>
</ol>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_20_new_file.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_20_new_file.png" alt="gt5_20_new_file" width="429" height="261" class="alignnone size-full wp-image-18417"><br>
</figure>
<h3 class="nolinks">Step 2</h3>
<p>In the window that appears, select the <strong>Objective-C class</strong> option as the template for the new file:</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_21_new_file_template.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_21_new_file_template.png" alt="gt5_21_new_file_template" width="600" height="405" class="alignnone size-full wp-image-18418"><br>
</figure>
<p>Next, at the <strong>Subclass of</strong> field, select the <em>UIWebView</em> option. Our new class is going to be a subclass of the <code>UIWebView</code> class, because we want to show a web view to the users for letting them sign in with their Google account and grant them access to our application. At the <strong>Class</strong> field, add the <em>GoogleOAuth</em> value:</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_22_new_file_options.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_22_new_file_options.png" alt="gt5_22_new_file_options" width="600" height="405" class="alignnone size-full wp-image-18419"><br>
</figure>
<p>On the next step, just click on the Create button to get the new files made.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_23_new_file_create.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_23_new_file_create.png" alt="gt5_23_new_file_create" width="600" height="457" class="alignnone size-full wp-image-18420"><br>
</figure>
<hr>
<h2 class="nolinks">6. The OAuth 2.0 Flow</h2>
<p>In this part, I will shortly describe how the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="680:Inthispart,Iwillshor_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> flow will be implemented and how all the necessary checking for the existence of the tokens and the validity of the access token is going to take place. First of all, after the access token has been obtained, it should be stored permanently along with any other info that comes with it. It's up to the developer to choose the way that all this information will be saved. You may store everything into a database, save it to the user defaults, write everything to files, or use more secure methods in order to keep things safe. In this tutorial, I prefer to save all in plain files, inside the Documents directory of the app.</p>
<p>We are going to create two different files. The access token and any other information that comes with it from Google is going to be stored into the first one, <strong>except</strong> for the refresh token. The refresh token is going to be saved in another file, because we need to keep it for a longer period than everything else and use it when the access token has expired. Every time that the access token is being refreshed, the contents of the first file are overwritten. Besides that, the refresh token itself is not refreshed that often.</p>
<p>So, having said all that, here is a preview of the protocol's flow and how it is going to be implemented.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_oauth_flow.png" data-original-url="http://cdn.tutsplus.com/mobile.tutsplus.com/uploads/2013/07/gt5_oauth_flow.png" alt="gt5_oauth_flow" width="600" height="432" class="alignnone size-full wp-image-18427"><br>
</figure>
<p>Even though an image equals a thousand words, I would better describe the whole procedure to make it more clear. To elaborate on the authorization process:</p>
<ul>
<li>In case the file that contains the access token information does not exist...</li>
</ul><ol>
<li>The URL that we will require an access token from is being formed. All the necessary parameters to authenticate the user are provided. The client ID and client secret values are needed here.</li>
<li>Next, we display a web view inside the app (we don't call Safari) to let the user sign in to Google. After a successful login, a message from Google with the permissions we ask for is displayed to the user, who should consent if he/she wants to go any further.</li>
<li>An authorization code comes back from Google, which will be exchanged with the access token right after.</li>
<li>A new URL is formed with new parameters. The aim is to exchange the authorization code with the access token.</li>
<li>If the access token is successfully obtained, the caller class is informed via a delegate method. Otherwise, using another delegate method we let the caller class know that the access token was not obtained, so further actions should be taken as needed.</li>
</ol>
<li>In case the file that contains the access token information already exists...</li>
<ol>
<li>The access token info is loaded from the file.</li>
<li>The access token is checked to see whether it has expired or not.</li>
<li>If the access token is valid, then the caller class simply gets notified through a delegate method that is valid and these steps end here. Otherwise, a refresh is required (next steps).</li>
<li>If the file that contains the refresh token is not found in the Documents directory, then the whole OAuth flow starts over. If it exists, then the refresh token is loaded.</li>
<li>A new access token is requested. If the refresh token is not valid, a kind of error message will be returned from Google and the user is guided to the beginning again. Otherwise the access token is obtained.</li>

<p>So, let's see everything step-by-step.</p>
<hr>
<h2 class="nolinks">7. Start building</h2>
<h3 class="nolinks">Step 1</h3>
<p>At first, open the <code>GoogleOAuth.h</code> file and adopt the next two protocols, simply by declaring them in the <code>@interface</code> header line:</p>
<div><div id="highlighter_800609" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2 highlighted">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2 highlighted"><code class="objc color2">@interface</code> <code class="objc keyword">OAuth</code> <code class="objc plain">: </code><code class="objc keyword">UIWebView</code> <code class="objc plain">&lt;</code><code class="objc keyword">UIWebViewDelegate</code><code class="objc plain">, NSURLConnectionDataDelegate&gt;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<p>I am pretty sure that it is quite obvious what these delegates are for.</p>
<h3 class="nolinks">Step 2</h3>
<p>Now let's create an <code>enum</code> type, with the acceptable HTTP method values required for various API calls. For the time being, we'll create the enum type, but we'll use it when we'll implement the API call method.</p>
<p>So, right above the <code>@interface</code> line at the <code>GoogleOAuth.h</code> file, add the following:</p>
<div><div id="highlighter_936435" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">typedef</code> <code class="objc color2">enum</code> <code class="objc plain">{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">httpMethod_GET,</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">httpMethod_POST,</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">httpMethod_DELETE,</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">httpMethod_PUT</code></div><div class="line number6 index5 alt1"><code class="objc plain">} </code><code class="objc keyword">HTTP_Method</code><code class="objc plain">;</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 3</h3>
<p>It's always useful to use constants for things that we don't want to make any mistakes about, and that is true for the URL endpoints we want to access during the OAuth flow. For that reason, open the <code>GoogleOAuth.m</code> file and declare the following two constants at the top of the file:</p>
<div><div id="highlighter_87141" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc preprocessor">#define authorizationTokenEndpoint&nbsp; @"<a href="https://accounts.google.com/o/oauth2/auth" sl-processed="1">https://accounts.google.com/o/oauth2/auth</a>"</code></div><div class="line number2 index1 alt1"><code class="objc preprocessor">#define accessTokenEndpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @"<a href="https://accounts.google.com/o/oauth2/token" sl-processed="1">https://accounts.google.com/o/oauth2/token</a>"</code></div></div></td></tr></tbody></table></div></div>
<p>The first URL will be used to access the endpoint for getting the authorization code, which we will exchange then with the access token using the second endpoint. Let's move on now and let's declare some private properties that are going to hold some essential data.</p>
<h3 class="nolinks">Step 4</h3>
<p>While working in the <code>GoogleOAuth.m</code> file, inside the private part of the interface, add the following properties. There are comments above each property that explain their purpose:</p>
<div><div id="highlighter_169801" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc comments">// The client ID from the Google Developers Console.</code></div><div class="line number2 index1 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*clientID;</code></div><div class="line number3 index2 alt2"><code class="objc comments">// The client secret value from the Google Developers Console.</code></div><div class="line number4 index3 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*clientSecret;</code></div><div class="line number5 index4 alt2"><code class="objc comments">// The redirect URI after the authorization code gets fetched. For mobile applications it is a standard value.</code></div><div class="line number6 index5 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*redirectUri;</code></div><div class="line number7 index6 alt2"><code class="objc comments">// The authorization code that will be exchanged with the access token.</code></div><div class="line number8 index7 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*authorizationCode;</code></div><div class="line number9 index8 alt2"><code class="objc comments">// The refresh token.</code></div><div class="line number10 index9 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*refreshToken;</code></div><div class="line number11 index10 alt2"><code class="objc comments">// An array for storing all the scopes we want authorization for.</code></div><div class="line number12 index11 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableArray</code> <code class="objc plain">*scopes;</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="objc comments">// A NSURLConnection object.</code></div><div class="line number15 index14 alt2"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*urlConnection;</code></div><div class="line number16 index15 alt1"><code class="objc comments">// The mutable data object that is used for storing incoming data in each connection.</code></div><div class="line number17 index16 alt2"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableData</code> <code class="objc plain">*receivedData;</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="objc comments">// The file name of the access token information.</code></div><div class="line number20 index19 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*accessTokenInfoFile;</code></div><div class="line number21 index20 alt2"><code class="objc comments">// The file name of the refresh token.</code></div><div class="line number22 index21 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSString</code> <code class="objc plain">*refreshTokenFile;</code></div><div class="line number23 index22 alt2"><code class="objc comments">// A dictionary for keeping all the access token information together.</code></div><div class="line number24 index23 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableDictionary</code> <code class="objc plain">*accessTokenInfoDictionary;</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="objc comments">// A flag indicating whether an access token refresh is on the way or not.</code></div><div class="line number27 index26 alt2"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">) </code><code class="objc keyword">BOOL</code> <code class="objc plain">isRefreshing;</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="objc comments">// The parent view where the webview will be shown on.</code></div><div class="line number30 index29 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">UIView</code> <code class="objc plain">*parentView;</code></div></div></td></tr></tbody></table></div></div>
<p>Note that for the access token there is not a specific NSString property, but we have the <code>accessTokenInfoDictionary</code> NSMutableDictionary for storing all the access token related data in it.</p>
<h3 class="nolinks">Step 5</h3>
<p>Time to do some initializations. Go inside the <code>- (id)initWithFrame:(CGRect)frame</code> and add the following code:</p>
<div><div id="highlighter_514457" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">- (</code><code class="objc color2">id</code><code class="objc plain">)initWithFrame:(CGRect)frame</code></div><div class="line number2 index1 alt1"><code class="objc plain">{</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">self</code> <code class="objc plain">= [</code><code class="objc color2">super</code> <code class="objc variable">initWithFrame</code><code class="objc plain">:frame];</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(</code><code class="objc color2">self</code><code class="objc plain">) {</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Set the access token and the refresh token file paths.</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSArray</code> <code class="objc plain">*paths = NSSearchPathForDirectoriesInDomains(</code><code class="objc keyword">NSDocumentDirectory</code><code class="objc plain">, </code><code class="objc keyword">NSUserDomainMask</code><code class="objc plain">, </code><code class="objc color2">YES</code><code class="objc plain">);</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*docDirectory = [paths</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:</code><code class="objc string">0</code><code class="objc plain">];</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_accessTokenInfoFile = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithFormat</code><code class="objc plain">:</code><code class="objc string">@"%@/acctok"</code><code class="objc plain">,</code> <code class="objc variable">docDirectory</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_refreshTokenFile = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithFormat</code><code class="objc plain">:</code><code class="objc string">@"%@/reftok"</code><code class="objc plain">,</code> <code class="objc variable">docDirectory</code><code class="objc plain">];</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Set the redirect URI.</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// This is taken from the Google Developers Console.</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_redirectUri = </code><code class="objc string">@"urn:ietf:wg:oauth:2.0:oob"</code><code class="objc plain">;</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Make any other required initializations.</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_receivedData = [[</code><code class="objc keyword">NSMutableData</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">init</code><code class="objc plain">];</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_urlConnection = [[</code><code class="objc keyword">NSURLConnection</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">init</code><code class="objc plain">];</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_refreshToken =</code> <code class="objc color2">nil</code><code class="objc plain">;</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_isRefreshing = </code><code class="objc keyword">NO</code><code class="objc plain">;</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc color2">self</code><code class="objc plain">;</code></div><div class="line number22 index21 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>The rest of the initializations will take place inside the methods that they will be used, so for now we are just fine.</p>
<hr>
<h2 class="nolinks">8. Define a protocol</h2>
<p>Defining a protocol inside a new class is a task that is done usually after most of the class' functionality has been completed, but in our case it would be nice if we have had the protocol definition prepared before we go any further. What we will actually do is to declare the protocol methods that will be implemented later by the classes that will adopt the protocol. So, inside the <code>GoogleOAuth.h</code> file and above the <code>@interface</code> line, add the next few lines:</p>
<div><div id="highlighter_581536" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@protocol</code> <code class="objc plain">GoogleOAuthDelegate</code></div><div class="line number2 index1 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)authorizationWasSuccessful;</code></div><div class="line number3 index2 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)accessTokenWasRevoked;</code></div><div class="line number4 index3 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)responseFromServiceWasReceived:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)responseJSONAsString</code> <code class="objc variable">andResponseJSONAsData</code><code class="objc plain">:(</code><code class="objc keyword">NSData</code> <code class="objc plain">*)responseJSONAsData;</code></div><div class="line number5 index4 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)errorOccuredWithShortDescription:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)errorShortDescription</code> <code class="objc variable">andErrorDetails</code><code class="objc plain">:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)errorDetails;</code></div><div class="line number6 index5 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)errorInResponseWithBody:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)errorMessage;</code></div><div class="line number7 index6 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<p>Here is a short description of the above methods:</p>
</ol><ul>
<li>
<code>authorizationWasSuccessful</code> : It will be used after a successful authorization, meaning after having obtained a valid access token.</li>
<li>
<code>accessTokenWasRevoked</code> : This delegate method will be used when the user revokes all the granted permissions.</li>
<li>
<code>responseFromServiceWasReceived:andResponseJSONAsData:</code> : This method will be called every time that a response to an API call is received.</li>
<li>
<code>errorOccuredWithShortDescription:andErrorDetails:</code> : Called when a general error occurs.</li>
<li>
<code>errorInResponseWithBody:</code> : This delegate method will be called when an error in the HTTP response exists.</li>
</ul>
<p>Next, inside the <code>@interface</code>, add the next line:</p>
<div><div id="highlighter_86142" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1 highlighted">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">OAuth</code> <code class="objc plain">: </code><code class="objc keyword">UIWebView</code> <code class="objc plain">&lt;</code><code class="objc keyword">UIWebViewDelegate</code><code class="objc plain">, NSURLConnectionDataDelegate&gt;</code></div><div class="line number2 index1 alt1 highlighted"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc color2">id</code><code class="objc plain">&lt;GoogleOAuthDelegate&gt; gOAuthDelegate;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<hr>
<h2 class="nolinks">9. Authorization Flow Setup</h2>
<h3 class="nolinks">Step 1</h3>
<p>Until now, we declared all the private member variables we are going to need and initialized some of them, we defined constants, delegates, and protocol, so it's now time to begin implementing the actual authorization flow. The best place to begin from is the "entry" point, a public method that the user will call every time that should be authorized or use an API.</p>
<p>Go to the <code>GoogleOAuth.h</code> file and add the next method declaration:</p>
<div><div id="highlighter_189630" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2 highlighted">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">GoogleOAuth</code> <code class="objc plain">: </code><code class="objc keyword">UIWebView</code> <code class="objc plain">&lt;</code><code class="objc keyword">UIWebViewDelegate</code><code class="objc plain">, NSURLConnectionDataDelegate&gt;</code></div><div class="line number2 index1 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc color2">id</code><code class="objc plain">&lt;GoogleOAuthDelegate&gt; gOAuthDelegate;</code></div><div class="line number3 index2 alt2 highlighted"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)authorizeUserWithClienID:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)client_ID</code> <code class="objc variable">andClientSecret</code><code class="objc plain">:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)client_Secret</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andParentView</code><code class="objc plain">:(</code><code class="objc keyword">UIView</code> <code class="objc plain">*)parent_View</code> <code class="objc variable">andScopes</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)scopes;</code></div><div class="line number5 index4 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 2</h3>
<p>Let's go to the implementation now. I think it would be better to have the method built first and then discuss it a little bit. Inside the <code>GoogleOAuth.m</code> file add the next snippet:</p>
<div><div id="highlighter_889821" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)authorizeUserWithClienID:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)client_ID</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andClientSecret</code><code class="objc plain">:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)client_Secret</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andParentView</code><code class="objc plain">:(</code><code class="objc keyword">UIView</code> <code class="objc plain">*)parent_View</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andScopes</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)scopes{</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Store into the local private properties all the parameter values.</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_clientID = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithString</code><code class="objc plain">:client_ID];</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_clientSecret = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithString</code><code class="objc plain">:client_Secret];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_scopes = [[</code><code class="objc keyword">NSMutableArray</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithArray</code><code class="objc plain">:scopes</code> <code class="objc variable">copyItems</code><code class="objc plain">:</code><code class="objc color2">YES</code><code class="objc plain">];</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_parentView = parent_View;</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if the access token info file exists or not.</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([</code><code class="objc color2">self</code> <code class="objc variable">checkIfAccessTokenInfoFileExists</code><code class="objc plain">]) {</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// In case it exists load the access token info and check if the access token is valid.</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">loadAccessTokenInfo</code><code class="objc plain">];</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([</code><code class="objc color2">self</code> <code class="objc variable">checkIfShouldRefreshAccessToken</code><code class="objc plain">]) {</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the access token is not valid then refresh it.</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">refreshAccessToken</code><code class="objc plain">];</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Otherwise tell the caller through the delegate class that the authorization is successful.</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">authorizationWasSuccessful</code><code class="objc plain">];</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// In case that the access token info file is not found then show the</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// webview to let user sign in and allow access to the app.</code></div><div class="line number29 index28 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">showWebviewForUserLogin</code><code class="objc plain">];</code></div><div class="line number30 index29 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number31 index30 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>
Let's talk a little about the way the method that we just wrote works. As you can see, the first thing we do is to store all the values being passed into the method as parameters to the local properties. These are the client ID, the client secret, the scopes array and the <code>UIView</code> that the login webview shall appear within.</p>
<div class="tip-shortcode">
<p>A scope indicates an API that the app requests access for.</p>
</div>
<p>Next, we check if the access token info file exists or not. In case it exists, we load it using the <code>loadAccessTokenInfo</code> method. We check if it's valid using the <code>checkIfShouldRefreshAccessToken</code> method and if it's not, we refresh it by using the <code>refreshAccessToken</code> method. In case the access token is valid and it has not yet expired, we just inform the caller class through the <code>authorizationWasSuccessful</code> delegate method. Finally, if the access token info file doesn't exist, we simply call the <code>showWebviewForUserLogin</code> method to force the webview to appear and let the user sign in.</p>
<p>All of the methods above will be implemented one by one.</p>
<hr>
<h2 class="nolinks">10. Method Preview &amp; Declaration</h2>
<p>As you can see for yourself in the snippet above, the method almost in its entirety works using other, private methods. Before going on to the next steps, it is a good idea to declare all the private methods that we are going to implement inside the private <code>@interface</code> section.</p>
<p>In order to make the whole idea easier to understand, I prefer to separate the private methods in two categories:</p>
<ol>
<li>The first one includes those methods which are part of the authorization flow itself. These are:
<div><div id="highlighter_439759" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc plain">OAuth()</code></div><div class="line number2 index1 alt1"><code class="objc plain">...</code></div><div class="line number3 index2 alt2"><code class="objc plain">...</code></div><div class="line number4 index3 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)showWebviewForUserLogin;</code></div><div class="line number5 index4 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)exchangeAuthorizationCodeForAccessToken;</code></div><div class="line number6 index5 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)refreshAccessToken;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
</li>
<li>The second category includes auxiliary methods whose role is to support the authorization flow by implementing other necessary operations in order the whole procedure properly works. These include:
<div><div id="highlighter_86971" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc plain">OAuth()</code></div><div class="line number2 index1 alt1"><code class="objc plain">...</code></div><div class="line number3 index2 alt2"><code class="objc plain">...</code></div><div class="line number4 index3 alt1"><code class="objc plain">-(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)urlEncodeString:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)stringToURLEncode;</code></div><div class="line number5 index4 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)storeAccessTokenInfo;</code></div><div class="line number6 index5 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)loadAccessTokenInfo;</code></div><div class="line number7 index6 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)loadRefreshToken;</code></div><div class="line number8 index7 alt1"><code class="objc plain">-(</code><code class="objc color2">BOOL</code><code class="objc plain">)checkIfAccessTokenInfoFileExists;</code></div><div class="line number9 index8 alt2"><code class="objc plain">-(</code><code class="objc color2">BOOL</code><code class="objc plain">)checkIfRefreshTokenFileExists;</code></div><div class="line number10 index9 alt1"><code class="objc plain">-(</code><code class="objc color2">BOOL</code><code class="objc plain">)checkIfShouldRefreshAccessToken;</code></div><div class="line number11 index10 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)makeRequest:(</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc plain">*)request;</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
</li>
</ol>
<p>Besides all the above, we will implement the following delegate method for the webview:</p>
<div><div id="highlighter_6883" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)webViewDidFinishLoad:(</code><code class="objc keyword">UIWebView</code> <code class="objc plain">*)webView;</code></div></div></td></tr></tbody></table></div></div>
<p>Using it we will "read" the authorization code.</p>
<p>Additionally, we will implement the next <code>NSURLConnection</code> delegate methods:</p>
<div><div id="highlighter_101231" class="syntaxhighlighter noskimlinks noskimwords objc  "><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connection:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection</code> <code class="objc variable">didReceiveData</code><code class="objc plain">:(</code><code class="objc keyword">NSData</code> <code class="objc plain">*)data;</code></div><div class="line number2 index1 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connectionDidFinishLoading:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection;</code></div><div class="line number3 index2 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connection:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection</code> <code class="objc variable">didFailWithError</code><code class="objc plain">:(</code><code class="objc keyword">NSError</code> <code class="objc plain">*)error;</code></div><div class="line number4 index3 alt1"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connection:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection</code> <code class="objc variable">didReceiveResponse</code><code class="objc plain">:(</code><code class="objc keyword">NSURLResponse</code> <code class="objc plain">*)response;</code></div></div></td></tr></tbody></table></div></div>
<p>Let's move on now and let's see how all these bind together.</p>
<hr>
<h2 class="nolinks">11. Implementing the Authorization Flow</h2>
<h3 class="nolinks">Step 1</h3>
<p>Let's continue by writing the <code>-(void)showWebviewForUserLogin</code> method. This method serves two purposes. The first one is to form the URL (with all the required parameters) that our app will use to get the authorization code. The second is to show a webview to the users, through which they will sign in their Google account and grant access permissions to the app. Let's see the method first.</p>
<div><div id="highlighter_121228" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)showWebviewForUserLogin{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create a string to concatenate all scopes existing in the _scopes array.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*scope = </code><code class="objc string">@""</code><code class="objc plain">;</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">for</code> <code class="objc plain">(</code><code class="objc color2">int</code> <code class="objc plain">i=</code><code class="objc string">0</code><code class="objc plain">; i&lt;[_scopes</code> <code class="objc variable">count</code><code class="objc plain">]; i++) {</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">scope = [scope</code> <code class="objc variable">stringByAppendingString</code><code class="objc plain">:[</code><code class="objc color2">self</code> <code class="objc variable">urlEncodeString</code><code class="objc plain">:[_scopes</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:i]]];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the current scope is other than the last one, then add the "+" sign to the string to separate the scopes.</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(i &lt; [_scopes</code> <code class="objc variable">count</code><code class="objc plain">] - </code><code class="objc string">1</code><code class="objc plain">) {</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">scope = [scope</code> <code class="objc variable">stringByAppendingString</code><code class="objc plain">:</code><code class="objc string">@"+"</code><code class="objc plain">];</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Form the URL string.</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*targetURLString = [</code><code class="objc keyword">NSString</code> <code class="objc variable">stringWithFormat</code><code class="objc plain">:</code><code class="objc string">@"%@?scope=%@&amp;amp;redirect_uri=%@&amp;amp;client_id=%@&amp;amp;response_type=code"</code><code class="objc plain">,</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">authorizationTokenEndpoint,</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">scope,</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_redirectUri,</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">_clientID</code><code class="objc plain">];</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Do some basic webview setup.</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">setDelegate</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc plain">];</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">setScalesPageToFit</code><code class="objc plain">:</code><code class="objc color2">YES</code><code class="objc plain">];</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">setAutoresizingMask</code><code class="objc plain">:_parentView</code><code class="objc constants">.autoresizingMask</code><code class="objc plain">];</code></div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Make the request and add self (webview) to the parent view.</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">loadRequest</code><code class="objc plain">:[</code><code class="objc keyword">NSURLRequest</code> <code class="objc variable">requestWithURL</code><code class="objc plain">:[</code><code class="objc keyword">NSURL</code> <code class="objc variable">URLWithString</code><code class="objc plain">:targetURLString]]];</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_parentView</code> <code class="objc variable">addSubview</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc plain">];</code></div><div class="line number29 index28 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>A couple of observations now. At first, all the scopes existing in the <code>_scopes</code> array are getting concatenated into one <code>NSString</code>, <em>after having been URL encoded</em>. This is a must, as every special character that might exist in a scope should be replaced with the equivalent URL encoded character (more on this later). A temporary string is being used for concatenation purposes. Inside the concatenated string the scopes are separated using the plus "+" sign.</p>
<p>Next, the URL string is formed. Pay special attention to the parameters it accepts.</p>
<p>We provide:</p>
<ul>
<li>The authorization code endpoint</li>
<li>The scopes</li>
<li>The redirect URI which is a constant value for installed applications</li>
<li>The client ID that we got from the Google Developers Console</li>
<li>The <code>response_type</code> value which is set to the standard value of <code>code</code>
</li>
</ul>
<p>In the second half of the method, we are simply setting up the webview that will appear to the user. There is nothing particular I should point out here, the code is easy enough. Just note that after setting everything up and calling the <code>loadRequest</code> method the webview is added as a subview to the parent view.</p>
<h3 class="nolinks">Step 2</h3>
<p>Once the user has signed in and has agreed to provide access to our app, the authorization code is returned from Google. Actually, there are two ways to get it. The first one involves the use of <em>cookies</em>, where the authorization code is stored in a cookie file. Google provides a sample on how to use this way. The second one, which is the way I prefer to use, is to get the authorization code from the web view's page title. Once we acquire it, we are ready to proceed in obtaining the access token.</p>
<p>This is what we are going to do in the only one webview delegate method that we are going to implement. Let's see this in action.</p>
<div><div id="highlighter_549098" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)webViewDidFinishLoad:(</code><code class="objc keyword">UIWebView</code> <code class="objc plain">*)webView{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Get the webpage title.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*webviewTitle = [webView</code> <code class="objc variable">stringByEvaluatingJavaScriptFromString</code><code class="objc plain">:</code><code class="objc string">@"document.title"</code><code class="objc plain">];</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">//NSLog(@"Webview Title = %@", webviewTitle);</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check for the "Success token" literal in title.</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([webviewTitle</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"Success code"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// The oauth code has been retrieved.</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Break the title based on the equal sign (=).</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSArray</code> <code class="objc plain">*titleParts = [webviewTitle</code> <code class="objc variable">componentsSeparatedByString</code><code class="objc plain">:</code><code class="objc string">@"="</code><code class="objc plain">];</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// The second part is the oauth token.</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_authorizationCode = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithString</code><code class="objc plain">:[titleParts</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:</code><code class="objc string">1</code><code class="objc plain">]];</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Show a "Please wait..." message to the webview.</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*html = </code><code class="objc string">@"&lt;html&gt;&lt;head&gt;&lt;title&gt;Please wait&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Please wait...&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;"</code><code class="objc plain">;</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">loadHTMLString</code><code class="objc plain">:html</code> <code class="objc variable">baseURL</code><code class="objc plain">:[</code><code class="objc keyword">NSURL</code> <code class="objc variable">fileURLWithPath</code><code class="objc plain">:[[</code><code class="objc keyword">NSBundle</code> <code class="objc variable">mainBundle</code><code class="objc plain">]</code> <code class="objc variable">bundlePath</code><code class="objc plain">]]];</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Exchange the authorization code for an access code.</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">exchangeAuthorizationCodeForAccessToken</code><code class="objc plain">];</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([webviewTitle</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"access_denied"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// In case that the user tapped on the Cancel button instead of the Accept, then just</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// remove the webview from the superview.</code></div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[webView</code> <code class="objc variable">removeFromSuperview</code><code class="objc plain">];</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number28 index27 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>The authorization code that is returned is in a form similar to <code>code=4/a5F4r45...</code>. That't why in the above snippet the title is being broken into parts based on the equal sign "=". After that, we are ready to exchange it for the access token.</p>
<h3 class="nolinks">Step 3</h3>
<p>Now that the authorization token has been obtained, the webview is no longer needed. We will remove it though at the end of the whole process (next step). The <code>NSURLConnection</code> and <code>NSURLRequest</code> classes will be in use from now on. What we have to do in the <code>exchangeAuthorizationCodeForAccessToken</code> method is just to setup all the required parameters that are needed to get the access token and to make a request to the access token endpoint. The most important thing I should point out here is that the <em>POST</em> HTTP method is being used. Here is the method.</p>
<div><div id="highlighter_81416" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)exchangeAuthorizationCodeForAccessToken{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create a string containing all the post parameters required to exchange the authorization code</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// with the access token.</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*postParams = [</code><code class="objc keyword">NSString</code> <code class="objc variable">stringWithFormat</code><code class="objc plain">:</code><code class="objc string">@"code=%@&amp;amp;client_id=%@&amp;amp;client_secret=%@&amp;amp;redirect_uri=%@&amp;amp;grant_type=authorization_code"</code><code class="objc plain">,</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_authorizationCode,</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_clientID,</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_clientSecret,</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">_redirectUri</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create a mutable request object and set its properties.</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc plain">*request = [</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc variable">requestWithURL</code><code class="objc plain">:[</code><code class="objc keyword">NSURL</code> <code class="objc variable">URLWithString</code><code class="objc plain">:accessTokenEndpoint]];</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPMethod</code><code class="objc plain">:</code><code class="objc string">@"POST"</code><code class="objc plain">];</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPBody</code><code class="objc plain">:[postParams</code> <code class="objc variable">dataUsingEncoding</code><code class="objc plain">:NSUTF</code><code class="objc string">8</code><code class="objc plain">StringEncoding]];</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setValue</code><code class="objc plain">:</code><code class="objc string">@"application/x-www-form-urlencoded"</code> <code class="objc variable">forHTTPHeaderField</code><code class="objc plain">:</code><code class="objc string">@"Content-Type"</code><code class="objc plain">];</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Make the request.</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">makeRequest</code><code class="objc plain">:request];</code></div><div class="line number18 index17 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Notice the use of the authorization code that we acquired in the previous step.</p>
<h3 class="nolinks">Step 4</h3>
<p>When making a request and using a NSURLConnection, two things may happen. Either the connection will successfully finish, or it will fail. In our case, when a request fails we only want to inform the caller class through the delegate and that's all. So, let's write the first <code>NSURLConnection</code> delegate method.</p>
<div><div id="highlighter_894757" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connection:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection</code> <code class="objc variable">didFailWithError</code><code class="objc plain">:(</code><code class="objc keyword">NSError</code> <code class="objc plain">*)error{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"Connection failed."</code> <code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number3 index2 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>You see how our delegate methods become handy. Let's go now to the case where the connection is successfully finished and the access token has been received.</p>
<div><div id="highlighter_272458" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connectionDidFinishLoading:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// This object will be used to store the converted received JSON data to string.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*responseJSON;</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// This flag indicates whether the response was received after an API call and out of the</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// following cases.</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">BOOL</code> <code class="objc plain">isAPIResponse = </code><code class="objc keyword">YES</code><code class="objc plain">;</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Convert the received data in NSString format.</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">responseJSON = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithData</code><code class="objc plain">:(</code><code class="objc keyword">NSData</code> <code class="objc plain">*)_receivedData</code> <code class="objc variable">encoding</code><code class="objc plain">:NSUTF</code><code class="objc string">8</code><code class="objc plain">StringEncoding];</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check for access token.</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([responseJSON</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"access_token"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// This is the case where the access token has been fetched.</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">storeAccessTokenInfo</code><code class="objc plain">];</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Remove the webview from the superview.</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">removeFromSuperview</code><code class="objc plain">];</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(_isRefreshing) {</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_isRefreshing = </code><code class="objc keyword">NO</code><code class="objc plain">;</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Notify the caller class that the authorization was successful.</code></div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">authorizationWasSuccessful</code><code class="objc plain">];</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">isAPIResponse = </code><code class="objc keyword">NO</code><code class="objc plain">;</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number29 index28 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Don't fool yourself by believing that this is going to be the only content of this delegate method. Actually, it's going to become somehow big, but you shouldn't mind about that right now.</p>
<p>Note: Do you see the <code>isAPIResponse</code> flag? Well, this is useful for knowing when the response regards an API or the authorization process itself. When it comes under any case that has to do with the authorization process, it becomes NO, as you can see in the access token's case. You'll completely understand its significance along the way.</p>
<p>Google returns a JSON object which contains the access token along with other data. The first thing we do is to convert the received data into a string value, so we can easily distinguish what kind of data has been received and properly handle it. By doing so at the beginning of the method, we check whether the access token was received indeed or not, simply by looking for it inside the response string. If it's there, then...wow, we just obtained the access token! Let's take care of it now. First, we save it into the file, and we remove the webview from the superview. In case that the access token was obtained during a refresh process, we set the respective flag to <code>NO</code>. Finally, we use our delegate to inform the caller class that the access token has been successfully acquired.</p>
<p>The JSON that is returned is something similar to this one:</p>
<div><div id="highlighter_441752" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;</code><code class="objc plain">"access_token" : "ya</code><code class="objc string">2</code><code class="objc string">9</code><code class="objc constants">.AHES6ZSpPmQZwz30EcyhWE9mvi_lgvh4DX8gSQ9GpIbkLL5qhP9sYQ</code><code class="objc plain">",</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;</code><code class="objc plain">"token_type" : "Bearer",</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;</code><code class="objc plain">"expires_in" : </code><code class="objc string">3</code><code class="objc string">6</code><code class="objc string">0</code><code class="objc string">0</code><code class="objc plain">,</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;</code><code class="objc plain">"id_token" : "eyJhbGciOiJSUzI</code><code class="objc string">1</code><code class="objc plain">NiIsImtpZCI</code><code class="objc string">6</code><code class="objc plain">ImUxYzdhM</code><code class="objc string">2</code><code class="objc plain">NkZGFmMzcxOWFlMGNlZGUzOTI</code><code class="objc string">4</code><code class="objc plain">ZmZlZDI</code><code class="objc string">1</code><code class="objc plain">MGFmMmQyODMifQ</code><code class="objc constants">.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwidG9rZW5faGFzaCI6ImNfWngxMzBaWGQySFlCT0lEWlhiVUEiLCJhdF9oYXNoIjoiY19aeDEzMFpYZDJIWUJPSURaWGJVQSIsImNpZCI6Ijg4ODk5MTE4OTQ4OS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsImF6cCI6Ijg4ODk5MTE4OTQ4OS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsImF1ZCI6Ijg4ODk5MTE4OTQ4OS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsImlkIjoiMTE0MzE1NTUzNzc0OTY1NTIwNTIzIiwic3ViIjoiMTE0MzE1NTUzNzc0OTY1NTIwNTIzIiwiaWF0IjoxMzczMjE5NDYwLCJleHAiOjEzNzMyMjMzNjB9</code><code class="objc constants">.jM8_m8aqwW56V2YHob5d</code><code class="objc plain">-Xlb</code><code class="objc string">6</code><code class="objc string">9</code><code class="objc plain">yTRBrd_FgagJlSSOxEgRcxpn</code><code class="objc string">3</code><code class="objc plain">D</code><code class="objc string">6</code><code class="objc plain">uDDBmbkiI</code><code class="objc string">7</code><code class="objc plain">S_UgvCc</code><code class="objc string">0</code><code class="objc string">7</code><code class="objc plain">CAis</code><code class="objc string">9</code><code class="objc plain">wmzTGrKvjpp</code><code class="objc string">8</code><code class="objc plain">JR</code><code class="objc string">0</code><code class="objc string">4</code><code class="objc plain">ka_LlzdvlaWlFlMvCZgs</code><code class="objc string">1</code><code class="objc string">3</code><code class="objc plain">GNP</code><code class="objc string">8</code><code class="objc plain">fpi_o</code><code class="objc string">4</code><code class="objc plain">jTgpMLeUM</code><code class="objc string">4</code><code class="objc string">7</code><code class="objc plain">ZZbBtF</code><code class="objc string">0</code><code class="objc plain">C</code><code class="objc string">2</code><code class="objc plain">uU</code><code class="objc string">8</code><code class="objc plain">XCaVAzTW-VOYZkNPT</code><code class="objc string">2</code><code class="objc plain">SjDY</code><code class="objc string">4</code><code class="objc plain">",</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;</code><code class="objc plain">"refresh_token" : "</code><code class="objc string">1</code><code class="objc plain">/xZWny-TMV</code><code class="objc string">0</code><code class="objc plain">jZvDRuHxwMl</code><code class="objc string">5</code><code class="objc plain">tTZSiN</code><code class="objc string">8</code><code class="objc plain">yCGP</code><code class="objc string">7</code><code class="objc plain">gaILbPPxk"</code></div><div class="line number7 index6 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>At this point, add the following code segment above the <code>if ([_responseJSON rangeOfString:@"access_token"].location != NSNotFound) {</code> line. It is required for dealing with any invalid request that may occur. If you wonder why could this happen, just try to play around with the whole authorization or refresh process and you will easily find out.</p>
<div><div id="highlighter_682203" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">if</code> <code class="objc plain">([responseJSON</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"invalid_request"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">NSLog(</code><code class="objc string">@"General error occured."</code><code class="objc plain">);</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If a refresh was on the way then set the respective flag to NO.</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(_isRefreshing) {</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_isRefreshing = </code><code class="objc keyword">NO</code><code class="objc plain">;</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Notify the caller class through the delegate.</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorInResponseWithBody</code><code class="objc plain">:responseJSON];</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">isAPIResponse = </code><code class="objc color2">NO</code><code class="objc plain">;</code></div><div class="line number14 index13 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Quite important is the next <code>NSURLConnection</code> delegate method too, if you want the above two to properly work.</p>
<div><div id="highlighter_6173" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connection:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection</code> <code class="objc variable">didReceiveData</code><code class="objc plain">:(</code><code class="objc keyword">NSData</code> <code class="objc plain">*)data{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Append any new data to the _receivedData object.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_receivedData</code> <code class="objc variable">appendData</code><code class="objc plain">:data];</code></div><div class="line number4 index3 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>The authorization flow is now over. However, there is still a lot of work to be done before we will be ready to say that we have a fully implemented class.</p>
<hr>
<h2 class="nolinks">12. Refreshing the Access Token</h2>
<p>One piece of information that is received along with the access token is the time in seconds that the access token is valid. While the access token is valid, it can be used without any problem when calling APIs. However, when the token expires, a refresh is necessary to take place in the background and a new access token needs to be obtained.</p>
<p>To check if an access token is still valid or not, we will use the <code>checkIfShouldRefreshAccessToken</code> method. We will implement it a little bit later, along with the rest of the auxiliary private methods. For now, let's focus on the refresh process.</p>
<p>The way we refresh an access token is quite similar to the way we exchange the authorization code for the access token. We set the <code>POST</code> parameters and we perform a <code>NSURLRequest</code> so as to get a new access token. Here is the method:</p>
<div><div id="highlighter_334547" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)refreshAccessToken{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Load the refrest token if it's not loaded alredy.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(_refreshToken ==</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">loadRefreshToken</code><code class="objc plain">];</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Set the HTTP POST parameters required for refreshing the access token.</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*refreshPostParams = [</code><code class="objc keyword">NSString</code> <code class="objc variable">stringWithFormat</code><code class="objc plain">:</code><code class="objc string">@"refresh_token=%@&amp;client_id=%@&amp;client_secret=%@&amp;grant_type=refresh_token"</code><code class="objc plain">,</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_refreshToken,</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_clientID,</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_clientSecret</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">];</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Indicate that an access token refresh process is on the way.</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_isRefreshing = </code><code class="objc keyword">YES</code><code class="objc plain">;</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create the request object and set its properties.</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc plain">*request = [</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc variable">requestWithURL</code><code class="objc plain">:[</code><code class="objc keyword">NSURL</code> <code class="objc variable">URLWithString</code><code class="objc plain">:accessTokenEndpoint]];</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPMethod</code><code class="objc plain">:</code><code class="objc string">@"POST"</code><code class="objc plain">];</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPBody</code><code class="objc plain">:[refreshPostParams</code> <code class="objc variable">dataUsingEncoding</code><code class="objc plain">:NSUTF</code><code class="objc string">8</code><code class="objc plain">StringEncoding]];</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setValue</code><code class="objc plain">:</code><code class="objc string">@"application/x-www-form-urlencoded"</code> <code class="objc variable">forHTTPHeaderField</code><code class="objc plain">:</code><code class="objc string">@"Content-Type"</code><code class="objc plain">];</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Make the request.</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">makeRequest</code><code class="objc plain">:request];</code></div><div class="line number25 index24 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>As you can see, we need only the refresh token that was obtained with the access token, the client ID, the client secret, and the standard value <code>grant_type</code> parameters. Nothing hard or new here.</p>
<p>There are a couple of things I should underline at this point. First of all, a refresh token lasts a lot longer than an access token. That means that a refresh token is not being received every time a refresh procedure is on the way. A refresh token can be used many times and that fact leads to the need for a more permanent way of storage, while the saving place/way of it should be different from the access token's. The last one may be re-written many times and if the refresh token resides with it, it will be deleted after the first refresh.</p>
<p>Secondly, a refresh token can become invalid as well. In that case, and if the access token needs to be updated, the user must be led to enter login information and provide access permissions once again. This is a case we should predict in our code.</p>
<p>Inside the <code>-(void)connectionDidFinishLoading:(NSURLConnection *)connection</code> delegate method, the case of obtaining an access token from the response already exists. What we also need to add  is a new code segment that will check if Google responded that we have an invalid refresh token. So, right before the <code>if ([_responseJSON rangeOfString:@"access_token"].location != NSNotFound)</code> line, add the following:</p>
<div><div id="highlighter_644160" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc comments">// Check for invalid refresh token.</code></div><div class="line number2 index1 alt1"><code class="objc comments">// In that case guide the user to enter the credentials again.</code></div><div class="line number3 index2 alt2"><code class="objc color2">if</code> <code class="objc plain">([responseJSON</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"invalid_grant"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(_isRefreshing) {</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_isRefreshing = </code><code class="objc color2">NO</code><code class="objc plain">;</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">showWebviewForUserLogin</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">isAPIResponse = </code><code class="objc color2">NO</code><code class="objc plain">;</code></div><div class="line number11 index10 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>By calling the <code>showWebviewForUserLogin</code> method, we start the whole procedure over again.</p>
<hr>
<h2 class="nolinks">13. Auxiliary Private Methods</h2>
<p>Time to implement the rest of the auxiliary, private methods that we have already declared.</p>
<h3 class="nolinks">Step 1</h3>
<p>Let's begin with the <code>-(NSString *)urlEncodeString:(NSString *)stringToURLEncode</code> method, which is simply used to transform URL related strings to a URL-encoded form. When sending data over the web, not every character can exist in the URL. It should be replaced by other, special characters that are URL-friendly, and that's exactly what the next method does:</p>
<div><div id="highlighter_112566" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)urlEncodeString:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)stringToURLEncode{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// URL-encode the parameter string and return it.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">CFStringRef</code> <code class="objc plain">encodedURL = CFURLCreateStringByAddingPercentEscapes(</code><code class="objc color2">NULL</code><code class="objc plain">,</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">(CFStringRef) stringToURLEncode,</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">NULL</code><code class="objc plain">,</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">(CFStringRef)</code><code class="objc string">@"!@#$%&amp;*'();:=+,/?[]"</code><code class="objc plain">,</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">kCFStringEncodingUTF</code><code class="objc string">8</code><code class="objc plain">);</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc plain">(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)CFBridgingRelease(encodedURL);</code></div><div class="line number9 index8 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>As you can see, the <code>CFURLCreateStringByAddingPercentEscapes</code> function, which I would advise to <a href="https://developer.apple.com/library/mac/#documentation/CoreFOundation/Reference/CFURLRef/Reference/reference.html" target="_blank" sl-processed="1">read more</a> about it, returns a <code>CFStringRef</code> type object, which is then converted to <code>NSString</code> when it's returned. It's not hard to understand the parameters this function accepts. Note that we provide a "list" of characters that should be replaced with percent characters. For example, the <strong>!</strong> is converted to <strong>%21</strong>, the <strong>*</strong> to <strong>%2A</strong>, and so on. The last parameter relates to the desired encoding.</p>
<h3 class="nolinks">Step 2</h3>
<p>We keep going with the next one:</p>
<div><div id="highlighter_707704" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)storeAccessTokenInfo{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSError</code> <code class="objc plain">*error;</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Keep the access token info into a dictionary.</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_accessTokenInfoDictionary = [</code><code class="objc keyword">NSJSONSerialization</code> <code class="objc variable">JSONObjectWithData</code><code class="objc plain">:_receivedData</code> <code class="objc variable">options</code><code class="objc plain">:</code><code class="objc keyword">NSJSONReadingMutableContainers</code> <code class="objc variable">error</code><code class="objc plain">:&amp;error];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if any error occured while converting NSData data to NSDictionary.</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error) {</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"An error occured while saving access token info into a NSDictionary."</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Save the dictionary to a file.</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_accessTokenInfoDictionary</code> <code class="objc variable">writeToFile</code><code class="objc plain">:_accessTokenInfoFile</code> <code class="objc variable">atomically</code><code class="objc plain">:</code><code class="objc color2">YES</code><code class="objc plain">];</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If a refresh token is found inside the access token info dictionary then save it separately.</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([_accessTokenInfoDictionary</code> <code class="objc variable">objectForKey</code><code class="objc plain">:</code><code class="objc string">@"refresh_token"</code><code class="objc plain">] !=</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Extract the refresh token.</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_refreshToken = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithString</code><code class="objc plain">:[_accessTokenInfoDictionary</code> <code class="objc variable">objectForKey</code><code class="objc plain">:</code><code class="objc string">@"refresh_token"</code><code class="objc plain">]];</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Save the refresh token as data.</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_refreshToken</code> <code class="objc variable">writeToFile</code><code class="objc plain">:_refreshTokenFile</code> <code class="objc variable">atomically</code><code class="objc plain">:</code><code class="objc color2">YES</code> <code class="objc variable">encoding</code><code class="objc plain">:</code><code class="objc keyword">NSUTF8StringEncoding</code> <code class="objc variable">error</code><code class="objc plain">:&amp;error];</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If an error occurs while saving the refresh token notify the caller class.</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error) {</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"An error occured while saving the refresh token."</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number29 index28 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number30 index29 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number31 index30 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Things are simple here. At first, the received data containing the access token information is stored in the <code>accessTokenInfoDictionary</code> mutable dictionary, which, in turn, is written to a file. Then, whether a refresh token exists is checked in the returned information. If found, it is extracted and   saved to another file. Remember that we need to keep the refresh token separated from the access token file.</p>
<h3 class="nolinks">Step 3</h3>
<p>Let's see the <code>loadAccessTokenInfo</code> method now and then talk about it:</p>
<div><div id="highlighter_909509" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)loadAccessTokenInfo{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if the access token info file exists.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([</code><code class="objc color2">self</code> <code class="objc variable">checkIfAccessTokenInfoFileExists</code><code class="objc plain">]) {</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Load the access token info from the file into the dictionary.</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_accessTokenInfoDictionary = [[</code><code class="objc keyword">NSMutableDictionary</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithContentsOfFile</code><code class="objc plain">:_accessTokenInfoFile];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the access token info file doesn't exist then inform the caller class through the delegate.</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"Access token info file was not found."</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:</code><code class="objc string">@""</code><code class="objc plain">];</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number12 index11 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>First of all, we check if the access token information file exists or not. If it exists, then it's loaded into the <code>accessTokenInfoDictionary</code>. If the file for some reason is not found, then the <code>errorOccuredWithShortDescription:andErrorDetails:</code> delegate method is called to inform the caller class.</p>
<h3 class="nolinks">Step 4</h3>
<p>Next, let's see how to load the refresh token as well:</p>
<div><div id="highlighter_481895" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)loadRefreshToken{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if the refresh token file exists.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([</code><code class="objc color2">self</code> <code class="objc variable">checkIfRefreshTokenFileExists</code><code class="objc plain">]) {</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSError</code> <code class="objc plain">*error;</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_refreshToken = [[</code><code class="objc keyword">NSString</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithContentsOfFile</code><code class="objc plain">:_refreshTokenFile</code> <code class="objc variable">encoding</code><code class="objc plain">:</code><code class="objc keyword">NSUTF8StringEncoding</code> <code class="objc variable">error</code><code class="objc plain">:&amp;error];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If an error occurs while saving the refresh token notify the caller class.</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error) {</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"An error occured while loading the refresh token."</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number13 index12 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>The approach here is the same as previously implemented. We check if the file with the refresh code exists, and if it does we load it into the <code>refreshToken</code> string. Otherwise, we report an error to the caller class through the delegate method.</p>
<h3 class="nolinks">Step 5</h3>
<p>The next task is to check if the file with the access token information exists or not.</p>
<div><div id="highlighter_687575" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">BOOL</code><code class="objc plain">)checkIfAccessTokenInfoFileExists</code></div><div class="line number2 index1 alt1"><code class="objc plain">{</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the access token info file exists, return YES, otherwise return NO.</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc plain">(![[</code><code class="objc keyword">NSFileManager</code> <code class="objc variable">defaultManager</code><code class="objc plain">]</code> <code class="objc variable">fileExistsAtPath</code><code class="objc plain">:_accessTokenInfoFile]) ? </code><code class="objc color2">NO</code> <code class="objc plain">: </code><code class="objc color2">YES</code><code class="objc plain">;</code></div><div class="line number5 index4 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 6</h3>
<p>Do exactly the same for the refresh token file.</p>
<div><div id="highlighter_858042" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">BOOL</code><code class="objc plain">)checkIfRefreshTokenFileExists</code></div><div class="line number2 index1 alt1"><code class="objc plain">{</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the refresh token file exists then return YES, otherwise return NO.</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc plain">(![[</code><code class="objc keyword">NSFileManager</code> <code class="objc variable">defaultManager</code><code class="objc plain">]</code> <code class="objc variable">fileExistsAtPath</code><code class="objc plain">:_refreshTokenFile]) ? </code><code class="objc color2">NO</code> <code class="objc plain">: </code><code class="objc color2">YES</code><code class="objc plain">;</code></div><div class="line number5 index4 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Pretty simple, right?</p>
<h3 class="nolinks">Step 7</h3>
<p>Let's see now how to check if an access token is valid or not. When talking for validity, we mean whether the access token has expired or not. Google returns the time that an access token may keep alive, along with the rest of the returned data. That time is expressed in seconds and it usually is 3,600 seconds or one hour. If an access token expires and we want to exchange data from a Google service, we simply need to refresh it in the background and obtain a new one.</p>
<p>Our strategy is going to be really simple. We will read the creation time of the file containing the access token info, as well as the time the access token should stay valid. If the time elapsed since the file creation is greater than the time to live, then a refresh is required, otherwise the access token is still valid. Let's see everything in action:</p>
<div><div id="highlighter_510201" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">BOOL</code><code class="objc plain">)checkIfShouldRefreshAccessToken{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSError</code> <code class="objc plain">*error =</code> <code class="objc color2">nil</code><code class="objc plain">;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Get the time-to-live (in seconds) value regarding the access token.</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">int</code> <code class="objc plain">accessTokenTTL = [[_accessTokenInfoDictionary</code> <code class="objc variable">objectForKey</code><code class="objc plain">:</code><code class="objc string">@"expires_in"</code><code class="objc plain">]</code> <code class="objc variable">intValue</code><code class="objc plain">];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Get the date that the access token file was created.</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSDate</code> <code class="objc plain">*accessTokenInfoFileCreated = [[[</code><code class="objc keyword">NSFileManager</code> <code class="objc variable">defaultManager</code><code class="objc plain">]</code> <code class="objc variable">attributesOfItemAtPath</code><code class="objc plain">:_accessTokenInfoFile</code> <code class="objc variable">error</code><code class="objc plain">:&amp;error]</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">fileCreationDate</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if any error occured.</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error !=</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"Cannot read access token file's creation date."</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc color2">YES</code><code class="objc plain">;</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Get the time difference between the file creation date and now.</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSTimeInterval</code> <code class="objc plain">interval = [[</code><code class="objc keyword">NSDate</code> <code class="objc variable">date</code><code class="objc plain">]</code> <code class="objc variable">timeIntervalSinceDate</code><code class="objc plain">:accessTokenInfoFileCreated];</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if the interval value is equal or greater than the accessTokenTTL value.</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If that's the case then the access token should be refreshed.</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(interval &gt;= accessTokenTTL) {</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// In this case the access token should be refreshed.</code></div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc color2">YES</code><code class="objc plain">;</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Otherwise the access token is valid.</code></div><div class="line number29 index28 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc color2">NO</code><code class="objc plain">;</code></div><div class="line number30 index29 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number31 index30 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number32 index31 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>So, in case the access token should be refreshed we return YES, otherwise we return NO. Everything is self-explained, so I comment no further here.</p>
<h3 class="nolinks">Step 8</h3>
<p>There is only one method that has been left out of these steps, the <code>makeRequest</code>. This method has nothing particular or special that I should point out. It exists just to avoid writing the same code every time we want to make NSURLRequest requests. So, as you will see right away, what we do is to empty the <code>receivedData</code> object by setting its length to zero and to make a new request.</p>
<div><div id="highlighter_13534" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)makeRequest:(</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc plain">*)request{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Set the length of the _receivedData mutableData object to zero.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_receivedData</code> <code class="objc variable">setLength</code><code class="objc plain">:</code><code class="objc string">0</code><code class="objc plain">];</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Make the request.</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_urlConnection = [</code><code class="objc keyword">NSURLConnection</code> <code class="objc variable">connectionWithRequest</code><code class="objc plain">:request</code> <code class="objc variable">delegate</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc plain">];</code></div><div class="line number7 index6 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<hr>
<h2 class="nolinks">14. NSURLConnection Additions</h2>
<h3 class="nolinks">Step 1</h3>
<p>There are a few more things that we should add inside the <code>connectionDidFinishLoading:</code> method to make this class more complete. Until now we have added support for dealing with responses regarding:</p>
<ul>
<li>Invalid requests</li>
<li>Invalid grants (e.g. an expired refresh token)</li>
<li>Access token obtainment</li>
</ul>
<p>What we should also add support for is the case of invalid credentials and for any other response that may contain the <em>error</em> word inside it. A response containing an <em>Invalid credentials</em> message arrives when an API is called and the access token is invalid. In our implementation, we always check if the access token is valid or not before doing any requests. However, this remains an edge case that we should predict. For any other general case that the response describes an error, we will call the <code>errorInResponseWithBody</code> delegate method. So, at the end of the <code>connectionDidFinishLoading:</code>, add the next code section:</p>
<div><div id="highlighter_893125" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc comments">// Check for invalid credentials.</code></div><div class="line number2 index1 alt1"><code class="objc comments">// This checking is useful when an API is called without prior checking whether the</code></div><div class="line number3 index2 alt2"><code class="objc comments">// access token is valid or not.</code></div><div class="line number4 index3 alt1"><code class="objc color2">if</code> <code class="objc plain">([responseJSON</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"Invalid Credentials"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= </code><code class="objc keyword">NSNotFound</code> <code class="objc plain">||</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[responseJSON</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"401"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">refreshAccessToken</code><code class="objc plain">];</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">isAPIResponse = </code><code class="objc color2">NO</code><code class="objc plain">;</code></div><div class="line number9 index8 alt2"><code class="objc plain">}</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="objc comments">// This is the case where any other error message exists in the response.</code></div><div class="line number13 index12 alt2"><code class="objc color2">if</code> <code class="objc plain">([responseJSON</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"error"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorInResponseWithBody</code><code class="objc plain">:responseJSON];</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">isAPIResponse = </code><code class="objc keyword">NO</code><code class="objc plain">;</code></div><div class="line number16 index15 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>If you look now at the <code>connectionDidFinishLoading:</code> method content, you'll see all the cases that we should take care of regarding the Google responses. For normal usage and for the purpose of this tutorial, almost nothing else needs to be added, except for one thing. The call to the <code>responseFromServiceWasReceived:andResponseJSONAsData:</code> delegate method. This method will be called every time that is retrieved a response about an API call that the caller class should handle it and it doesn't come under any other of the previous cases. Here it is:</p>
<div><div id="highlighter_816373" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc comments">// If execution successfully arrives here then notify the caller class that a response was received.</code></div><div class="line number2 index1 alt1"><code class="objc color2">if</code> <code class="objc plain">(isAPIResponse) {</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">responseFromServiceWasReceived</code><code class="objc plain">:responseJSON</code> <code class="objc variable">andResponseJSONAsData</code><code class="objc plain">:_receivedData];</code></div><div class="line number4 index3 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 2</h3>
<p>It would be useful (especially when debugging) to have the next method implemented as well:</p>
<div><div id="highlighter_225041" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)connection:(</code><code class="objc keyword">NSURLConnection</code> <code class="objc plain">*)connection</code> <code class="objc variable">didReceiveResponse</code><code class="objc plain">:(</code><code class="objc keyword">NSURLResponse</code> <code class="objc plain">*)response{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSHTTPURLResponse</code> <code class="objc plain">*httpResponse = (</code><code class="objc keyword">NSHTTPURLResponse</code> <code class="objc plain">*)response;</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">NSLog(</code><code class="objc string">@"%d"</code><code class="objc plain">, [httpResponse</code> <code class="objc variable">statusCode</code><code class="objc plain">]);</code></div><div class="line number4 index3 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>The <code>httpResponse</code> object contains the returned HTTP status code of the request that was made. If everything rolls normally, the value of this code is 200. Search around the web for more information about the HTTP status codes if you'd like.</p>
<hr>
<h2 class="nolinks">15. Access Token Revocation</h2>
<p>There are cases you may want to revoke the access you gave in an app. Google provides a URL in which a request can be made and when access is being revoked.</p>
<p>Open the <code>GoogleOAuth.h</code> class to declare a new public method, as highlighted next:</p>
<div><div id="highlighter_634884" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2 highlighted">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">GoogleOAuth</code> <code class="objc plain">: </code><code class="objc keyword">UIWebView</code> <code class="objc plain">&lt;</code><code class="objc keyword">UIWebViewDelegate</code><code class="objc plain">, NSURLConnectionDataDelegate&gt;</code></div><div class="line number2 index1 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc color2">id</code><code class="objc plain">&lt;GoogleOAuthDelegate&gt; gOAuthDelegate;</code></div><div class="line number3 index2 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)authorizeUserWithClienID:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)client_ID</code> <code class="objc variable">andClientSecret</code><code class="objc plain">:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)client_Secret</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andParentView</code><code class="objc plain">:(</code><code class="objc keyword">UIView</code> <code class="objc plain">*)parent_View</code> <code class="objc variable">andScopes</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)scopes;</code></div><div class="line number5 index4 alt2 highlighted"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)revokeAccessToken;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<p>Now go to the <code>GoogleOAuth.m</code> file to implement it:</p>
<div><div id="highlighter_811949" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)revokeAccessToken{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Set the revoke URL string.</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*revokeURLString = [</code><code class="objc keyword">NSString</code> <code class="objc variable">stringWithFormat</code><code class="objc plain">:</code><code class="objc string">@"<a href="https://accounts.google.com/o/oauth2/revoke?token=%@" sl-processed="1">https://accounts.google.com/o/oauth2/revoke?token=%@</a>"</code><code class="objc plain">,</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_accessTokenInfoDictionary</code> <code class="objc variable">objectForKey</code><code class="objc plain">:</code><code class="objc string">@"access_token"</code><code class="objc plain">]</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create and make a request based on the URL string.</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc plain">*request = [</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc variable">requestWithURL</code><code class="objc plain">:[</code><code class="objc keyword">NSURL</code> <code class="objc variable">URLWithString</code><code class="objc plain">:revokeURLString]];</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">makeRequest</code><code class="objc plain">:request];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Now that the request for revoking the access in Google has been made,</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// all local files regarding the access token should be removed as well.</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSError</code> <code class="objc plain">*error =</code> <code class="objc color2">nil</code><code class="objc plain">;</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the access token info file exists then delete it.</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([</code><code class="objc color2">self</code> <code class="objc variable">checkIfAccessTokenInfoFileExists</code><code class="objc plain">]) {</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[</code><code class="objc keyword">NSFileManager</code> <code class="objc variable">defaultManager</code><code class="objc plain">]</code> <code class="objc variable">removeItemAtPath</code><code class="objc plain">:_accessTokenInfoFile</code> <code class="objc variable">error</code><code class="objc plain">:&amp;error];</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error !=</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If an error occurs while removing the access token info file then notify the caller class through the</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// next delegate method.</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"Unable to delete access token info file."</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check now if the refresh token file exists and then remove it.</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([</code><code class="objc color2">self</code> <code class="objc variable">checkIfRefreshTokenFileExists</code><code class="objc plain">]) {</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[</code><code class="objc keyword">NSFileManager</code> <code class="objc variable">defaultManager</code><code class="objc plain">]</code> <code class="objc variable">removeItemAtPath</code><code class="objc plain">:_refreshTokenFile</code> <code class="objc variable">error</code><code class="objc plain">:&amp;error];</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number29 index28 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error !=</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number30 index29 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// In case of an error while removing the file then notify the caller class through the delegate method.</code></div><div class="line number31 index30 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"Unable to delete refresh token info file."</code></div><div class="line number32 index31 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andErrorDetails</code><code class="objc plain">:[error</code> <code class="objc variable">localizedDescription</code><code class="objc plain">]];</code></div><div class="line number33 index32 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number34 index33 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number35 index34 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number36 index35 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number37 index36 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error ==</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number38 index37 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If no error occured during file removals then use the next delegate method</code></div><div class="line number39 index38 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// to notify the caller class that the access has been revoked.</code></div><div class="line number40 index39 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">accessTokenWasRevoked</code><code class="objc plain">];</code></div><div class="line number41 index40 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number42 index41 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>At first, we prepare the revoke URL string and make the request. Then, any file related to the access token is deleted, and, finally, the <code>accessTokenWasRevoked</code> delegate method is called.</p>
<hr>
<h2 class="nolinks">16. Calling an API</h2>
<p>Our class is ready and fully functional and if you use it now you will be able to obtain an access token from Google. But, without having implemented a way to call APIs, the only data you can get is your own personal info. Therefore, let's implement our last, public method, a really important and necessary one.</p>
<p>Go to the <code>GoogleOAuth.h</code> file and declare the next method just like you see it:</p>
<div><div id="highlighter_370376" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)callAPI:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)apiURL</code> <code class="objc variable">withHttpMethod</code><code class="objc plain">:(HTTP_Method)httpMethod</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">postParameterNames</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)params</code> <code class="objc variable">postParameterValues</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)values;</code></div></div></td></tr></tbody></table></div></div>
<p>Note that any API that requires data to be posted in Google must be in a key-value pair. The parameters for this are:</p>
<ul>
<li>
<code>apiURL</code>: The URL string required to make the API call.</li>
<li>
<code>httpMethod</code>: The desired HTTP method for calling an API. This is where the <code>enum</code> type we created at the beginning is used.</li>
<li>
<code>params</code>: A NSArray object containing the keys of the key-value pair form parameters.</li>
<li>
<code>values</code>: A NSArray object containing the values of the key-value pair form parameters.</li>
</ul>
<p>Now turn on the <code>GoogleOAuth.m</code> file and implement the method:</p>
<div><div id="highlighter_838121" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)callAPI:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)apiURL</code> <code class="objc variable">withHttpMethod</code><code class="objc plain">:(HTTP_Method)httpMethod</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">postParameterNames</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)params</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">postParameterValues</code><code class="objc plain">:(</code><code class="objc keyword">NSArray</code> <code class="objc plain">*)values{</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Check if the httpMethod value is valid.</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If not then notify for error.</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(httpMethod != httpMethod_GET &amp;&amp; httpMethod != httpMethod_POST &amp;&amp; httpMethod != httpMethod_DELETE &amp;&amp; httpMethod != httpMethod_PUT) {</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code><code class="objc constants">.gOAuthDelegate</code> <code class="objc variable">errorOccuredWithShortDescription</code><code class="objc plain">:</code><code class="objc string">@"Invalid HTTP Method in API call"</code> <code class="objc variable">andErrorDetails</code><code class="objc plain">:</code><code class="objc string">@""</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create a string containing the API URL along with the access token.</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*urlString = [</code><code class="objc keyword">NSString</code> <code class="objc variable">stringWithFormat</code><code class="objc plain">:</code><code class="objc string">@"%@?access_token=%@"</code><code class="objc plain">, apiURL, [_accessTokenInfoDictionary</code> <code class="objc variable">objectForKey</code><code class="objc plain">:</code><code class="objc string">@"access_token"</code><code class="objc plain">]];</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create a mutable request.</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc plain">*request = [</code><code class="objc keyword">NSMutableURLRequest</code> <code class="objc variable">requestWithURL</code><code class="objc plain">:[</code><code class="objc keyword">NSURL</code> <code class="objc variable">URLWithString</code><code class="objc plain">:urlString]];</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Depending on the httpMethod value set the respective property of the request object.</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">switch</code> <code class="objc plain">(httpMethod) {</code></div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">case</code> <code class="objc variable">httpMethod_GET</code><code class="objc plain">:</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPMethod</code><code class="objc plain">:</code><code class="objc string">@"GET"</code><code class="objc plain">];</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">break;</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">case</code> <code class="objc variable">httpMethod_POST</code><code class="objc plain">:</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPMethod</code><code class="objc plain">:</code><code class="objc string">@"POST"</code><code class="objc plain">];</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">break;</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">case</code> <code class="objc variable">httpMethod_DELETE</code><code class="objc plain">:</code></div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPMethod</code><code class="objc plain">:</code><code class="objc string">@"DELETE"</code><code class="objc plain">];</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">break;</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">case</code> <code class="objc variable">httpMethod_PUT</code><code class="objc plain">:</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPMethod</code><code class="objc plain">:</code><code class="objc string">@"PUT"</code><code class="objc plain">];</code></div><div class="line number29 index28 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">break;</code></div><div class="line number30 index29 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">default</code><code class="objc plain">:</code></div><div class="line number32 index31 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">break;</code></div><div class="line number33 index32 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number34 index33 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number36 index35 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// In case of POST httpMethod value, set the parameters and any other necessary properties.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number37 index36 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(httpMethod == httpMethod_POST) {</code></div><div class="line number38 index37 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// A string with the POST parameters should be built.</code></div><div class="line number39 index38 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Create an empty string.</code></div><div class="line number40 index39 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSString</code> <code class="objc plain">*postParams = </code><code class="objc string">@""</code><code class="objc plain">;</code></div><div class="line number41 index40 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Iterrate through all parameters and append every POST parameter to the postParams string.</code></div><div class="line number42 index41 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">for</code> <code class="objc plain">(</code><code class="objc color2">int</code> <code class="objc plain">i=</code><code class="objc string">0</code><code class="objc plain">; i&lt;[params</code> <code class="objc variable">count</code><code class="objc plain">]; i++) {</code></div><div class="line number43 index42 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">postParams = [postParams</code> <code class="objc variable">stringByAppendingString</code><code class="objc plain">:[</code><code class="objc keyword">NSString</code> <code class="objc variable">stringWithFormat</code><code class="objc plain">:</code><code class="objc string">@"%@=%@"</code><code class="objc plain">,</code></div><div class="line number44 index43 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[params</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:i], [values</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:i]]];</code></div><div class="line number45 index44 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number46 index45 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// If the current parameter is not the last one then add the "&amp;" symbol to separate post parameters.</code></div><div class="line number47 index46 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(i &lt; [params</code> <code class="objc variable">count</code><code class="objc plain">] - </code><code class="objc string">1</code><code class="objc plain">) {</code></div><div class="line number48 index47 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">postParams = [postParams</code> <code class="objc variable">stringByAppendingString</code><code class="objc plain">:</code><code class="objc string">@"&amp;"</code><code class="objc plain">];</code></div><div class="line number49 index48 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number50 index49 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number51 index50 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Set any other necessary options.</code></div><div class="line number53 index52 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setHTTPBody</code><code class="objc plain">:[postParams</code> <code class="objc variable">dataUsingEncoding</code><code class="objc plain">:NSUTF</code><code class="objc string">8</code><code class="objc plain">StringEncoding]];</code></div><div class="line number54 index53 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[request</code> <code class="objc variable">setValue</code><code class="objc plain">:</code><code class="objc string">@"application/x-www-form-urlencoded"</code> <code class="objc variable">forHTTPHeaderField</code><code class="objc plain">:</code><code class="objc string">@"Content-Type"</code><code class="objc plain">];</code></div><div class="line number55 index54 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number56 index55 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number57 index56 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number58 index57 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc comments">// Make the request.</code></div><div class="line number59 index58 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">self</code> <code class="objc variable">makeRequest</code><code class="objc plain">:request];</code></div><div class="line number60 index59 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number61 index60 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>There is nothing difficult in this method that needs to be discussed.</p>
<p>Our class is now ready to be put into action. Let's go forward to our demo app to try it out!</p>
<hr>
<h2 class="nolinks">17. Configure the Demo App</h2>
<h3 class="nolinks">Step 1</h3>
<p>At the beginning of the implementation of this project, while still working from Interface Builder, we added a table view to our project and now it's time to set it up. So, at first, go to the <code>ViewController.h</code> file and adopt the next protocols, as you see in the highlighted code:</p>
<div><div id="highlighter_396599" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2 highlighted">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2 highlighted"><code class="objc color2">@interface</code> <code class="objc keyword">ViewController</code> <code class="objc plain">: </code><code class="objc keyword">UIViewController</code> <code class="objc plain">&lt;</code><code class="objc keyword">UITableViewDelegate</code><code class="objc plain">, UITableViewDataSource&gt;</code></div><div class="line number2 index1 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">weak</code><code class="objc plain">, </code><code class="objc color2">nonatomic</code><code class="objc plain">) </code><code class="objc keyword">IBOutlet</code> <code class="objc keyword">UITableView</code> <code class="objc plain">*table;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)showProfile:(</code><code class="objc color2">id</code><code class="objc plain">)sender;</code></div><div class="line number5 index4 alt2"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)revokeAccess:(</code><code class="objc color2">id</code><code class="objc plain">)sender;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<p>Besides the above two protocols, we also need to adopt our own protocol regarding our class. So, at the top of the file, import the <code>GoogleOAuth.h</code> file and also adopt the <code>GoogleOAuthDelegate</code> protocol:</p>
<div><div id="highlighter_769682" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1 highlighted">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc preprocessor">#import &lt;UIKit/UIKit.h&gt;</code></div><div class="line number2 index1 alt1 highlighted"><code class="objc preprocessor">#import "GoogleOAuth.h"</code></div><div class="line number3 index2 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">ViewController</code> <code class="objc plain">: </code><code class="objc keyword">UIViewController</code> <code class="objc plain">&lt;</code><code class="objc keyword">UITableViewDelegate</code><code class="objc plain">, </code><code class="objc keyword">UITableViewDataSource</code><code class="objc plain">, GoogleOAuthDelegate&gt;</code></div><div class="line number4 index3 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">weak</code><code class="objc plain">, </code><code class="objc color2">nonatomic</code><code class="objc plain">) </code><code class="objc keyword">IBOutlet</code> <code class="objc keyword">UITableView</code> <code class="objc plain">*table;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)showProfile:(</code><code class="objc color2">id</code><code class="objc plain">)sender;</code></div><div class="line number7 index6 alt2"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)revokeAccess:(</code><code class="objc color2">id</code><code class="objc plain">)sender;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 2</h3>
<p>Now turn to the <code>ViewController.h</code> file. At the private section of the interface, add these two mutable arrays, as we need them to store the user profile info that will be shown later on within the table view:</p>
<div><div id="highlighter_233590" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1 highlighted">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">ViewController</code> <code class="objc plain">()</code></div><div class="line number2 index1 alt1 highlighted"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableArray</code> <code class="objc plain">*arrProfileInfo;</code></div><div class="line number3 index2 alt2"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableArray</code> <code class="objc plain">*arrProfileInfoLabel;</code></div><div class="line number4 index3 alt1"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<p>Actually, the <code>arrProfileInfoLabel</code> will contain the data that describe each field of the profile information returned by Google. This data will be placed into the <em>detailTextLabel</em> of each cell.</p>
<p>We also need an object of our newly created class. So, right below the array declarations, add this:</p>
<div><div id="highlighter_686979" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1 highlighted">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc color2">@interface</code> <code class="objc keyword">ViewController</code> <code class="objc plain">()</code></div><div class="line number2 index1 alt1"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableArray</code> <code class="objc plain">*arrProfileInfo;</code></div><div class="line number3 index2 alt2"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">NSMutableArray</code> <code class="objc plain">*arrProfileInfoLabel;</code></div><div class="line number4 index3 alt1 highlighted"><code class="objc color2">@property</code> <code class="objc plain">(</code><code class="objc color2">nonatomic</code><code class="objc plain">, strong) </code><code class="objc keyword">GoogleOAuth</code> <code class="objc plain">*googleOAuth;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="objc color2">@end</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 3</h3>
<p>Let's initialize our objects and set our delegates. Go inside the <code>viewDidLoad</code> method to initialize both the two arrays and the <code>googleOAuth</code> object, as well as to set the delegates, including the table view's delegate.</p>
<div><div id="highlighter_60198" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">- (</code><code class="objc color2">void</code><code class="objc plain">)viewDidLoad</code></div><div class="line number2 index1 alt1"><code class="objc plain">{</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[</code><code class="objc color2">super</code> <code class="objc variable">viewDidLoad</code><code class="objc plain">];</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_table</code> <code class="objc variable">setDelegate</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc plain">];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_table</code> <code class="objc variable">setDataSource</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc plain">];</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_arrProfileInfo = [[</code><code class="objc keyword">NSMutableArray</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">init</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_arrProfileInfoLabel = [[</code><code class="objc keyword">NSMutableArray</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">init</code><code class="objc plain">];</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_googleOAuth = [[</code><code class="objc keyword">GoogleOAuth</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithFrame</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc constants">.view</code><code class="objc constants">.frame</code><code class="objc plain">];</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_googleOAuth</code> <code class="objc variable">setGOAuthDelegate</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc plain">];</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 4</h3>
<p>Now we must create the table view methods. We will put in action the two arrays we declared previously, even though there is still no data on them. In the next code section I provide all the methods you need completed.</p>
<div><div id="highlighter_521485" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(NSInteger)numberOfSectionsInTableView:(</code><code class="objc keyword">UITableView</code> <code class="objc plain">*)tableView{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc string">1</code><code class="objc plain">;</code></div><div class="line number3 index2 alt2"><code class="objc plain">}</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="objc plain">-(NSInteger)tableView:(</code><code class="objc keyword">UITableView</code> <code class="objc plain">*)tableView</code> <code class="objc variable">numberOfRowsInSection</code><code class="objc plain">:(NSInteger)section{</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc plain">[_arrProfileInfo</code> <code class="objc variable">count</code><code class="objc plain">];</code></div><div class="line number8 index7 alt1"><code class="objc plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="objc plain">-(</code><code class="objc keyword">UITableViewCell</code> <code class="objc plain">*)tableView:(</code><code class="objc keyword">UITableView</code> <code class="objc plain">*)tableView</code> <code class="objc variable">cellForRowAtIndexPath</code><code class="objc plain">:(</code><code class="objc keyword">NSIndexPath</code> <code class="objc plain">*)indexPath{</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">static</code> <code class="objc keyword">NSString</code> <code class="objc plain">*</code><code class="objc keyword">CellIdentifier</code> <code class="objc plain">= </code><code class="objc string">@"Cell"</code><code class="objc plain">;</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">UITableViewCell</code> <code class="objc plain">*cell = [tableView</code> <code class="objc variable">dequeueReusableCellWithIdentifier</code><code class="objc plain">:</code> <code class="objc variable">CellIdentifier</code><code class="objc plain">];</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(cell ==</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">cell = [[</code><code class="objc keyword">UITableViewCell</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithStyle</code><code class="objc plain">:</code><code class="objc keyword">UITableViewCellStyleSubtitle</code> <code class="objc variable">reuseIdentifier</code><code class="objc plain">:CellIdentifier];</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[cell</code> <code class="objc variable">setSelectionStyle</code><code class="objc plain">:UITableViewCellSelectionStyleNone];</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[cell</code> <code class="objc variable">setAccessoryType</code><code class="objc plain">:UITableViewCellAccessoryNone];</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">textLabel</code><code class="objc plain">]</code> <code class="objc variable">setFont</code><code class="objc plain">:[</code><code class="objc keyword">UIFont</code> <code class="objc variable">fontWithName</code><code class="objc plain">:</code><code class="objc string">@"Trebuchet MS"</code> <code class="objc variable">size</code><code class="objc plain">:</code><code class="objc string">1</code><code class="objc string">5</code><code class="objc constants">.0</code><code class="objc plain">]];</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">textLabel</code><code class="objc plain">]</code> <code class="objc variable">setShadowOffset</code><code class="objc plain">:CGSizeMake(</code><code class="objc string">1</code><code class="objc constants">.0</code><code class="objc plain">, </code><code class="objc string">1</code><code class="objc constants">.0</code><code class="objc plain">)];</code></div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">textLabel</code><code class="objc plain">]</code> <code class="objc variable">setShadowColor</code><code class="objc plain">:[</code><code class="objc keyword">UIColor</code> <code class="objc variable">whiteColor</code><code class="objc plain">]];</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">detailTextLabel</code><code class="objc plain">]</code> <code class="objc variable">setFont</code><code class="objc plain">:[</code><code class="objc keyword">UIFont</code> <code class="objc variable">fontWithName</code><code class="objc plain">:</code><code class="objc string">@"Trebuchet MS"</code> <code class="objc variable">size</code><code class="objc plain">:</code><code class="objc string">1</code><code class="objc string">3</code><code class="objc constants">.0</code><code class="objc plain">]];</code></div><div class="line number26 index25 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">detailTextLabel</code><code class="objc plain">]</code> <code class="objc variable">setTextColor</code><code class="objc plain">:[</code><code class="objc keyword">UIColor</code> <code class="objc variable">grayColor</code><code class="objc plain">]];</code></div><div class="line number27 index26 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number28 index27 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number29 index28 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">textLabel</code><code class="objc plain">]</code> <code class="objc variable">setText</code><code class="objc plain">:[_arrProfileInfo</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:[indexPath</code> <code class="objc variable">row</code><code class="objc plain">]]];</code></div><div class="line number30 index29 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[[cell</code> <code class="objc variable">detailTextLabel</code><code class="objc plain">]</code> <code class="objc variable">setText</code><code class="objc plain">:[_arrProfileInfoLabel</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:[indexPath</code> <code class="objc variable">row</code><code class="objc plain">]]];</code></div><div class="line number31 index30 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number32 index31 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc plain">cell;</code></div><div class="line number33 index32 alt2"><code class="objc plain">}</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="objc plain">-(CGFloat)tableView:(</code><code class="objc keyword">UITableView</code> <code class="objc plain">*)tableView</code> <code class="objc variable">heightForRowAtIndexPath</code><code class="objc plain">:(</code><code class="objc keyword">NSIndexPath</code> <code class="objc plain">*)indexPath{</code></div><div class="line number37 index36 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code> <code class="objc string">6</code><code class="objc string">0</code><code class="objc constants">.0</code><code class="objc plain">;</code></div><div class="line number38 index37 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 5</h3>
<p>Time to use what we've built by implementing the two IBAction methods we created at the beginning of the project. Starting from the <code>showProfile:</code> method, we will call the <code>authorizeUserWithClienID: andClientSecret: andParentView: andScopes:</code> of the GoogleOAuth class, which will fire the authorization flow. Let's implement it:</p>
<div><div id="highlighter_379843" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)showProfile:(</code><code class="objc color2">id</code><code class="objc plain">)sender {</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_googleOAuth</code> <code class="objc variable">authorizeUserWithClienID</code><code class="objc plain">:</code><code class="objc string">@"YOUR_CLIENT_ID"</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andClientSecret</code><code class="objc plain">:</code><code class="objc string">@"YOUR_CLIENT_SECRET"</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andParentView</code><code class="objc plain">:</code><code class="objc color2">self</code><code class="objc constants">.view</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">andScopes</code><code class="objc plain">:[</code><code class="objc keyword">NSArray</code> <code class="objc variable">arrayWithObjects</code><code class="objc plain">:</code><code class="objc string">@"<a href="https://www.googleapis.com/auth/userinfo.profile" sl-processed="1">https://www.googleapis.com/auth/userinfo.profile</a>"</code><code class="objc plain">,</code> <code class="objc color2">nil</code><code class="objc plain">]</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">];</code></div><div class="line number7 index6 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Make sure to set your own client ID and client secret values.</p>
<p>Let's implement the <code>revokeAccess:</code> IBAction method now. It's just a single line of code:</p>
<div><div id="highlighter_605239" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">- (</code><code class="objc color2">IBAction</code><code class="objc plain">)revokeAccess:(</code><code class="objc color2">id</code><code class="objc plain">)sender {</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_googleOAuth</code> <code class="objc variable">revokeAccessToken</code><code class="objc plain">];</code></div><div class="line number3 index2 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<h3 class="nolinks">Step 6</h3>
<p>Finally, the only thing we have left is the delegate methods. Using the first IBAction method, we force the authorization flow to begin. Using the delegate methods we will control everything and we will retrieve the data we want. So, let's implement them one by one.</p>
<p>We begin from the <code>authorizationWasSuccessful:</code> method. This method is called after a new access token is successfully obtained or an existing token is still valid. So, we are ready to proceed with the API call. This one is pretty simple as we just ask for the user profile and there is no data to post.</p>
<div><div id="highlighter_304204" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)authorizationWasSuccessful{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_googleOAuth</code> <code class="objc variable">callAPI</code><code class="objc plain">:</code><code class="objc string">@"<a href="https://www.googleapis.com/oauth2/v1/userinfo" sl-processed="1">https://www.googleapis.com/oauth2/v1/userinfo</a>"</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">withHttpMethod</code><code class="objc plain">:httpMethod_GET</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">postParameterNames</code><code class="objc color2">:nil</code> <code class="objc variable">postParameterValues</code><code class="objc color2">:nil</code><code class="objc plain">];</code></div><div class="line number5 index4 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Continue with the <code>accessTokenWasRevoked:</code> method. We will simply show an alert view to the user and we will empty the arrays and the table contents.</p>
<div><div id="highlighter_878422" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)accessTokenWasRevoked{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">UIAlertView</code> <code class="objc plain">*alert = [[</code><code class="objc keyword">UIAlertView</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithTitle</code><code class="objc plain">:</code><code class="objc string">@""</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">message</code><code class="objc plain">:</code><code class="objc string">@"Your access was revoked!"</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">delegate</code><code class="objc plain">:</code><code class="objc color2">self</code> <code class="objc variable">cancelButtonTitle</code><code class="objc color2">:nil</code> <code class="objc variable">otherButtonTitles</code><code class="objc plain">:</code><code class="objc string">@"OK"</code><code class="objc plain">,</code> <code class="objc variable">nil</code><code class="objc plain">];</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[alert</code> <code class="objc variable">show</code><code class="objc plain">];</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_arrProfileInfo</code> <code class="objc variable">removeAllObjects</code><code class="objc plain">];</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_arrProfileInfoLabel</code> <code class="objc variable">removeAllObjects</code><code class="objc plain">];</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_table</code> <code class="objc variable">reloadData</code><code class="objc plain">];&nbsp;&nbsp;&nbsp; </code></div><div class="line number11 index10 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>For the error handling methods we will simply log the error messages and that's all. Here are both of them:</p>
<div><div id="highlighter_959661" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)errorOccuredWithShortDescription:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)errorShortDescription</code> <code class="objc variable">andErrorDetails</code><code class="objc plain">:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)errorDetails{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">NSLog(</code><code class="objc string">@"%@"</code><code class="objc plain">, errorShortDescription);</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">NSLog(</code><code class="objc string">@"%@"</code><code class="objc plain">, errorDetails);</code></div><div class="line number4 index3 alt1"><code class="objc plain">}</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)errorInResponseWithBody:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)errorMessage{</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">NSLog(</code><code class="objc string">@"%@"</code><code class="objc plain">, errorMessage);</code></div><div class="line number9 index8 alt2"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Finally, the most important delegate method, in which we'll get the Google response with the user profile information and we'll fill our arrays. We check if the <em>family_name</em> field exists in the JSON response to be sure that the user profile info exists in the response.</p>
<div><div id="highlighter_835045" class="syntaxhighlighter noskimlinks noskimwords objc"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="objc plain">-(</code><code class="objc color2">void</code><code class="objc plain">)responseFromServiceWasReceived:(</code><code class="objc keyword">NSString</code> <code class="objc plain">*)responseJSONAsString</code> <code class="objc variable">andResponseJSONAsData</code><code class="objc plain">:(</code><code class="objc keyword">NSData</code> <code class="objc plain">*)responseJSONAsData{</code></div><div class="line number2 index1 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">([responseJSONAsString</code> <code class="objc variable">rangeOfString</code><code class="objc plain">:</code><code class="objc string">@"family_name"</code><code class="objc plain">]</code><code class="objc constants">.location</code> <code class="objc plain">!= NSNotFound) {</code></div><div class="line number3 index2 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSError</code> <code class="objc plain">*error;</code></div><div class="line number4 index3 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc keyword">NSMutableDictionary</code> <code class="objc plain">*dictionary = [</code><code class="objc keyword">NSJSONSerialization</code> <code class="objc variable">JSONObjectWithData</code><code class="objc plain">:responseJSONAsData</code></div><div class="line number5 index4 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">options</code><code class="objc plain">:NSJSONReadingMutableContainers</code></div><div class="line number6 index5 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="objc variable">error</code><code class="objc plain">:&amp;error];</code></div><div class="line number7 index6 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(error) {</code></div><div class="line number8 index7 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">NSLog(</code><code class="objc string">@"An error occured while converting JSON data to dictionary."</code><code class="objc plain">);</code></div><div class="line number9 index8 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">return</code><code class="objc plain">;</code></div><div class="line number10 index9 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number11 index10 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">else</code><code class="objc plain">{</code></div><div class="line number12 index11 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">if</code> <code class="objc plain">(_arrProfileInfoLabel !=</code> <code class="objc color2">nil</code><code class="objc plain">) {</code></div><div class="line number13 index12 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_arrProfileInfoLabel =</code> <code class="objc color2">nil</code><code class="objc plain">;</code></div><div class="line number14 index13 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_arrProfileInfo =</code> <code class="objc color2">nil</code><code class="objc plain">;</code></div><div class="line number15 index14 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_arrProfileInfo = [[</code><code class="objc keyword">NSMutableArray</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">init</code><code class="objc plain">];</code></div><div class="line number16 index15 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number17 index16 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">_arrProfileInfoLabel = [[</code><code class="objc keyword">NSMutableArray</code> <code class="objc variable">alloc</code><code class="objc plain">]</code> <code class="objc variable">initWithArray</code><code class="objc plain">:[dictionary</code> <code class="objc variable">allKeys</code><code class="objc plain">]</code> <code class="objc variable">copyItems</code><code class="objc plain">:</code><code class="objc color2">YES</code><code class="objc plain">];</code></div><div class="line number19 index18 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc color2">for</code> <code class="objc plain">(</code><code class="objc color2">int</code> <code class="objc plain">i=</code><code class="objc string">0</code><code class="objc plain">; i&lt;[_arrProfileInfoLabel</code> <code class="objc variable">count</code><code class="objc plain">]; i++) {</code></div><div class="line number20 index19 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_arrProfileInfo</code> <code class="objc variable">addObject</code><code class="objc plain">:[dictionary</code> <code class="objc variable">objectForKey</code><code class="objc plain">:[_arrProfileInfoLabel</code> <code class="objc variable">objectAtIndex</code><code class="objc plain">:i]]];</code></div><div class="line number21 index20 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number22 index21 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">[_table</code> <code class="objc variable">reloadData</code><code class="objc plain">];</code></div><div class="line number24 index23 alt1"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number25 index24 alt2"><code class="objc spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="objc plain">}</code></div><div class="line number26 index25 alt1"><code class="objc plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Now we're ready. Let's try it out!</p>
<hr>
<div class="post__inarticle-ad-template" style="margin-top: 30px;"><div class="ad view ad--inarticle"><div class="ad__wrapper"><div class="ad__content" id="div-gpt-1392179526912-0"><div id="google_ads_iframe_/11757429/hub_development_inarticle_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/11757429/hub_development_inarticle_0" name="google_ads_iframe_/11757429/hub_development_inarticle_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom;"></iframe></div><iframe id="google_ads_iframe_/11757429/hub_development_inarticle_0__hidden__" name="google_ads_iframe_/11757429/hub_development_inarticle_0__hidden__" width="0" height="0" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" src="javascript:"<html><body style='background:transparent'></body></html>"" style="border: 0px; vertical-align: bottom; visibility: hidden; display: none;"></iframe></div><div class="ad__label">Advertisement</div></div></div></div><h2 class="nolinks">18. OAuth 2.0 in Action</h2>
<p>Run the project and let the <a href="http://www.amazon.com/s/field-keywords=iphone" class="skimwords-link" target="_blank" data-skimwords-id="1964102" data-skimlinks-editor="0" data-skimwords-word="iphone" data-group-id="0" data-skim-creative="300003" data-skim-product="1964102" title="Shopping Link Added by SkimWords" occurrence="1" data-skim-node-id="120:Runtheprojectandlett_1">iPhone</a><span style="position: absolute;"></span><span style="position: absolute;"></span> Simulator appear. Initially, the table view is empty, as no data  exists. Click on the <em>My Profile</em> button and enter your credentials to sign into your Google account. In the next window, allow the app to access your profile information and proceed. Once you get back to the table view, you'll see your personal data appear on-screen!</p>
<p>Stop running the app and start over again. Click again on the <em>My Profile</em> button and notice that no credentials will be asked for this time. Instead, your personal info is being retrieved and will be shown in the table view.</p>
<p>Next, try to revoke your access and then go to your profile once again. This time, you'll be asked for permissions once more.</p>
<figure class="tutorial_image">
<img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/gt5_final.png" data-original-url="https://cdn.tutsplus.com/mobile/uploads/2013/07/gt5_final.png" alt="gt5_final" width="600" height="272" class="alignnone size-full wp-image-18396"><br>
</figure>
<hr>
<h2 class="nolinks">Conclusion</h2>
<p>Through this tutorial we managed to see how the <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="445:Throughthistutorialw_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol actually works. A simple, but also fully working custom class has been implemented, which consists of a reusable tool. Hopefully this tool is useful for every programmer's toolkit who wants to explore and use the services that Google provides. Of course, new features and functionalities can be added at any time, and you are most welcome to improve it or change it as you wish.</p>
<p>In this tutorial, I tried to cover every aspect required to implement Google services with <a href="http://www.walmart.com/catalog/product.do?product_id=19509429" class="skimwords-link" target="_blank" data-skimwords-id="1" data-skimlinks-editor="0" data-skimwords-word="OAuth%202.0" data-group-id="10855288" data-skim-creative="300004" data-skim-product="1" title="Shopping link added by SkimWords" occurrence="1" data-skim-node-id="288:Inthistutorial,Itrie_1">OAuth 2.0</a><span style="position: absolute;"></span><span style="position: absolute;"></span>. In a future lesson, we will use this class in a real-world example while working with Google calendar. Until then, play around and get a great taste of the <span class="skimwords-potential">OAuth 2.0</span><span style="position: absolute;"></span><span style="position: absolute;"></span> protocol philosophy!</p>
</div></div></div></div><div class="layout__sidebar"><div class="ad view"><div class="ad__wrapper"><div class="ad__content" id="div-gpt-1379650391729-0"><div id="google_ads_iframe_/11757429/hub_development_post_top_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 250px;"><iframe frameborder="0" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/container(1).html" id="google_ads_iframe_/11757429/hub_development_post_top_0" name="1-0-2;118727;&lt;html&gt;&lt;head&gt;&lt;style&gt;&lt;!--
a:link { color: #000000 }a:visited { color: #000000 }a:hover { color: #000000 }a:active { color: #000000 }  --&gt;&lt;/style&gt;&lt;script&gt;&lt;!--
(function(){var c=this,e=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==d)return&quot;object&quot;;if(&quot;[object Array]&quot;==d||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==d||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var g;a:{var h=c.navigator;if(h){var k=h.userAgent;if(k){g=k;break a}}g=&quot;&quot;}var l=function(a){return-1!=g.indexOf(a)};var m=function(){return l(&quot;Opera&quot;)||l(&quot;OPR&quot;)},n=function(){return l(&quot;Edge&quot;)||l(&quot;Trident&quot;)||l(&quot;MSIE&quot;)},p=function(){return(l(&quot;Chrome&quot;)||l(&quot;CriOS&quot;))&amp;&amp;!m()&amp;&amp;!n()};var q=m(),t=n(),u=l(&quot;Gecko&quot;)&amp;&amp;!(-1!=g.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!l(&quot;Edge&quot;))&amp;&amp;!(l(&quot;Trident&quot;)||l(&quot;MSIE&quot;))&amp;&amp;!l(&quot;Edge&quot;),v=-1!=g.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!l(&quot;Edge&quot;),w=function(){var a=g;if(u)return/rv\:([^\);]+)(\)|;)/.exec(a);if(t&amp;&amp;l(&quot;Edge&quot;))return/Edge\/([\d\.]+)/.exec(a);if(t)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(v)return/WebKit\/(\S+)/.exec(a)};(function(){if(q&amp;&amp;c.opera){var a=c.opera.version;return&quot;function&quot;==e(a)?a():a}var a=&quot;&quot;,b=w();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return t&amp;&amp;!l(&quot;Edge&quot;)&amp;&amp;(b=(b=c.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();!l(&quot;Android&quot;)||p()||l(&quot;Firefox&quot;)||m();p();var x={};window.ss=function(a){void 0!==x[a]?x[a]++:x[a]=1;var b=document.getElementById(a),d=x[a];if(window.css)css(a,&quot;nm&quot;,d,void 0,void 0);else if(b){a=b.href;var f=a.indexOf(&quot;&amp;nm=&quot;);if(0&gt;f)d=a+&quot;&amp;nm=&quot;+d;else var f=f+4,r=a.indexOf(&quot;&amp;&quot;,f),d=0&lt;=r?a.substring(0,f)+d+a.substring(r):a.substring(0,f)+d;b.href=2E3&lt;d.length?a:d}};})();function su(id) {var a = document.getElementById(id);var b = (new Date()).getTime();if (a &amp;&amp; a.myt &amp;&amp; b) {var t = b - a.myt;if (window.css) {css(id,&#39;clkt&#39;,t);return;}var bi = a.href.indexOf(&quot;&amp;clkt=&quot;);if (bi &gt; 0) {var c = a.href.substring(0, bi+6); var d = a.href.substring(bi+6, a.href.length);var ei = d.indexOf(&quot;&amp;&quot;);var r = &#39;&#39;;if (ei &gt;= 0)r = d.substring(ei, d.length);a.href = c + t + r; } else {a.href += &quot;&amp;clkt=&quot; + t;}}}(function(){var d=this,g=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var h;a:{var k=d.navigator;if(k){var l=k.userAgent;if(l){h=l;break a}}h=&quot;&quot;}var m=function(a){return-1!=h.indexOf(a)};var n=function(){return m(&quot;Opera&quot;)||m(&quot;OPR&quot;)},p=function(){return m(&quot;Edge&quot;)||m(&quot;Trident&quot;)||m(&quot;MSIE&quot;)},q=function(){return(m(&quot;Chrome&quot;)||m(&quot;CriOS&quot;))&amp;&amp;!n()&amp;&amp;!p()};var r=n(),t=p(),u=m(&quot;Gecko&quot;)&amp;&amp;!(-1!=h.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!m(&quot;Edge&quot;))&amp;&amp;!(m(&quot;Trident&quot;)||m(&quot;MSIE&quot;))&amp;&amp;!m(&quot;Edge&quot;),v=-1!=h.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!m(&quot;Edge&quot;),w=function(){var a=h;if(u)return/rv\:([^\);]+)(\)|;)/.exec(a);if(t&amp;&amp;m(&quot;Edge&quot;))return/Edge\/([\d\.]+)/.exec(a);if(t)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(v)return/WebKit\/(\S+)/.exec(a)};(function(){if(r&amp;&amp;d.opera){var a=d.opera.version;return&quot;function&quot;==g(a)?a():a}var a=&quot;&quot;,b=w();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return t&amp;&amp;!m(&quot;Edge&quot;)&amp;&amp;(b=(b=d.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();!m(&quot;Android&quot;)||q()||m(&quot;Firefox&quot;)||n();q();var x=function(a,b,c,e){if(window.css)css(b,c,e,void 0,void 0);else if(a){b=a.href;var f=&quot;&amp;&quot;+c+&quot;=&quot;;c=b.indexOf(f);0&gt;c?e=b+f+e:(c+=f.length,f=b.indexOf(&quot;&amp;&quot;,c),e=0&lt;=f?b.substring(0,c)+e+b.substring(f):b.substring(0,c)+e);a.href=2E3&lt;e.length?b:e}};var y=null,z=function(a){y=a};document.addEventListener&amp;&amp;document.addEventListener(&quot;mousedown&quot;,z,!0);window.xy=function(a,b,c){c=c||b;if((a=a||y)&amp;&amp;b&amp;&amp;c){var e=Math.round(a.clientY-c.offsetTop),f=b.id;x(b,f,&quot;nx&quot;,Math.round(a.clientX-c.offsetLeft));x(b,f,&quot;ny&quot;,e)}};})();(function(){var d=this,e=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};var g;a:{var h=d.navigator;if(h){var k=h.userAgent;if(k){g=k;break a}}g=&quot;&quot;}var l=function(a){return-1!=g.indexOf(a)};var m=function(){return l(&quot;Opera&quot;)||l(&quot;OPR&quot;)},n=function(){return l(&quot;Edge&quot;)||l(&quot;Trident&quot;)||l(&quot;MSIE&quot;)},p=function(){return(l(&quot;Chrome&quot;)||l(&quot;CriOS&quot;))&amp;&amp;!m()&amp;&amp;!n()};var q=m(),t=n(),u=l(&quot;Gecko&quot;)&amp;&amp;!(-1!=g.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!l(&quot;Edge&quot;))&amp;&amp;!(l(&quot;Trident&quot;)||l(&quot;MSIE&quot;))&amp;&amp;!l(&quot;Edge&quot;),v=-1!=g.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!l(&quot;Edge&quot;),w=function(){var a=g;if(u)return/rv\:([^\);]+)(\)|;)/.exec(a);if(t&amp;&amp;l(&quot;Edge&quot;))return/Edge\/([\d\.]+)/.exec(a);if(t)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(v)return/WebKit\/(\S+)/.exec(a)};(function(){if(q&amp;&amp;d.opera){var a=d.opera.version;return&quot;function&quot;==e(a)?a():a}var a=&quot;&quot;,b=w();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return t&amp;&amp;!l(&quot;Edge&quot;)&amp;&amp;(b=(b=d.document)?b.documentMode:void 0,b&gt;parseFloat(a))?String(b):a})();!l(&quot;Android&quot;)||p()||l(&quot;Firefox&quot;)||m();p();var x=[0,2,1],y=null;document.addEventListener&amp;&amp;document.addEventListener(&quot;mousedown&quot;,function(a){y=a},!0);window.mb=function(a){if(a){var b=window.event||y;if(b){var c;(c=b.which?1&lt;&lt;x[b.which-1]:b.button)&amp;&amp;b.shiftKey&amp;&amp;(c|=8);c&amp;&amp;b.altKey&amp;&amp;(c|=16);c&amp;&amp;b.ctrlKey&amp;&amp;(c|=32);if(c)if(window.css)css(a.id,&quot;mb&quot;,c,void 0,void 0);else if(a){var b=a.href,f=b.indexOf(&quot;&amp;mb=&quot;);if(0&gt;f)c=b+&quot;&amp;mb=&quot;+c;else{var f=f+4,r=b.indexOf(&quot;&amp;&quot;,f);c=0&lt;=r?b.substring(0,f)+c+b.substring(r):b.substring(0,f)+c}a.href=2E3&lt;c.length?b:c}}}};})();(function(){var c=function(a,e,h){var b=document;b.addEventListener?b.addEventListener(a,e,h||!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;on&quot;+a,e)};var d,f=!1,g=!1;c(&quot;mousedown&quot;,function(){f=!0});c(&quot;keydown&quot;,function(){g=!0});document.addEventListener&amp;&amp;c(&quot;click&quot;,function(a){d=a},!0);window.accbk=function(){var a=d?d:window.event;return a?f||g?!1:(a.preventDefault?a.preventDefault():a.returnValue=!1,!0):!1};})();function st(id) {var a = document.getElementById(id);if (a) {a.myt = (new Date()).getTime();xy(window.event, a, document.body);mb(a);}}function ha(a,x){  if (accbk()) return;su(a);}function ia(a,e,x) {if (accbk()) return;su(a);}function ja(a,x) {if (accbk()) return;su(a);}function ga(o,e,x) {if (document.getElementById) {var a=o.id.substring(1),p=&quot;&quot;,r=&quot;&quot;,g=e.target,t,f,h;if (g) {t=g.id;f=g.parentNode;if (f) {p=f.id;h=f.parentNode;if (h)r=h.id;}} else {h=e.srcElement;f=h.parentNode;if (f)p=f.id;t=h.id;}if (t==a||p==a||r==a)return true;ia(a,e,x);top.location.href=document.getElementById(a).href;}}
//--&gt;
&lt;/script&gt;&lt;/head&gt;&lt;body leftMargin=&quot;0&quot; topMargin=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; style=&quot;background:transparent&quot; &gt;&lt;div id=&quot;google_image_div&quot; style=&quot;height: 250px; width: 300px; overflow:hidden; position:absolute&quot;&gt;&lt;a id=&quot;aw0&quot; target=&quot;_top&quot; href=&quot;http://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=COf0hFY9cVdLBMJOCMfe3gfAElu2Hhgjm6JGKoAGm-sjLuwIQASDF36YiYMmO8IiEpOwPoAHCt_fjA8gBAuACAKgDAcgDmQSqBNkBT9DWYptsIlqh5jvPNxCnl9rmO0FvbxRjxEwn2T9_RODCiW0beQ8y1ureQoV6m6trM8UxsMlRySrAaVJ56xFNVsbV-uBxGDNrahK0QNYTg089b4HYRGlKTet8cmL2WjMzc5jrZLijbEdwstR2-N-UVzW_grDRl1T36F6EzkdtFkB041JO3BvIjqtlYXbQhdKhs_JjeVJvW1HVblYlxcUikWKqn3auyNH7ugA2PKSymGTPFriWXU3bnYgXNBEXqIw-97oVSI5Cv3uFQFhOJxgZs9Y3GTdv8fcgSuAEAYgGAaAGAoAHpsiIHKgHpr4b2AcB&amp;num=1&amp;cid=5GjM_RZEDIt2fkxJfhHrM8YB&amp;sig=AOD64_2O0VJ6C6g4WomIkkUxm0Sjxg72UA&amp;client=ca-pub-3558870564527416&amp;adurl=http://tracker.marinsm.com/rd%3Fcid%3D17388z7533509%26lp%3Dhttp%253A%252F%252Froia.biz%252Fim%252Fn%252FEq17vq1BAAGT5kMAABRgQgABprxmMQA-A%252F%253Fmkwid%253Dc3IV8tWfX_dc%2526pcrid%253D42947777502%2526pkw%253D%2526pmt%253D%2526sq%253DSRC%253DGoogle_ADID%253D42947777502_KW%253D_MT%253D_DIST%253Dd_ADPOS%253Dnone_PLACEMENT%253Dcode.tutsplus.com_DEVICE%253Dc&quot;&gt;&lt;img src=&quot;http://pagead2.googlesyndication.com/simgad/3387135454706517460&quot; border=&quot;0&quot; width=&quot;300&quot; class=&quot;img_ad&quot; onload=&quot;&quot; /&gt;&lt;/a&gt;&lt;style&gt;div,ul,li{margin:0;padding:0;}.abgc{height:15px;position:absolute;right:16px;text-rendering:geometricPrecision;top:0;width:15px;z-index:9010;}.abgb{height:100%;}.abgc img{display:block;}.abgc svg{display:block;}.abgs{display:none;height:100%;}.abgl{text-decoration:none;}&lt;/style&gt;&lt;div id=abgc class=abgc&gt;&lt;div id=abgb class=&quot;abgb&quot;&gt;&lt;/div&gt;&lt;div id=abgs class=abgs&gt;&lt;a id=abgl class=abgl href=&quot;https://www.google.com/url?ct=abg&amp;amp;q=https://www.google.com/adsense/support/bin/request.py%3Fcontact%3Dabg_afc%26url%3Dhttp://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394%26gl%3DUS%26hl%3Den%26client%3Dca-pub-3558870564527416%26ai0%3DCOf0hFY9cVdLBMJOCMfe3gfAElu2Hhgjm6JGKoAGm-sjLuwIQASDF36YiYMmO8IiEpOwPoAHCt_fjA8gBAuACAKgDAcgDmQSqBNkBT9DWYptsIlqh5jvPNxCnl9rmO0FvbxRjxEwn2T9_RODCiW0beQ8y1ureQoV6m6trM8UxsMlRySrAaVJ56xFNVsbV-uBxGDNrahK0QNYTg089b4HYRGlKTet8cmL2WjMzc5jrZLijbEdwstR2-N-UVzW_grDRl1T36F6EzkdtFkB041JO3BvIjqtlYXbQhdKhs_JjeVJvW1HVblYlxcUikWKqn3auyNH7ugA2PKSymGTPFriWXU3bnYgXNBEXqIw-97oVSI5Cv3uFQFhOJxgZs9Y3GTdv8fcgSuAEAYgGAaAGAoAHpsiIHKgHpr4b2AcB&amp;amp;usg=AFQjCNFIDqtYw0ebAiKai_5MCegRzGjRHQ&quot; target=_blank&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;script src=&quot;http://pagead2.googlesyndication.com/pagead/js/r20150514/r20110914/abg.js&quot;&gt;&lt;/script&gt;&lt;script&gt;var abgp={el:document.getElementById(&#39;abgc&#39;),ael:document.getElementById(&#39;abgs&#39;),iel:document.getElementById(&#39;abgb&#39;),hw:15,sw:75,hh:15,sh:15,himg:&#39;http://pagead2.googlesyndication.com&#39;+&#39;/pagead/images/adchoices/icon.png&#39;,simg:&#39;http://pagead2.googlesyndication.com/pagead/images/adchoices/en.png&#39;,alt:&#39;AdChoices&#39;,t:&#39;AdChoices&#39;,tw:53,t2:&#39;&#39;,t2w:0,tbo:0,att:&#39;adchoices&#39;,ff:&#39;&#39;,halign:&#39;right&#39;,fe:false,fnb:false,iba:false,uic:false,icd:undefined};window.abg &amp;&amp; new window.abg(abgp[&#39;el&#39;],abgp[&#39;ael&#39;],abgp[&#39;iel&#39;],abgp[&#39;hw&#39;],abgp[&#39;sw&#39;],abgp[&#39;hh&#39;],abgp[&#39;sh&#39;],abgp[&#39;himg&#39;],abgp[&#39;simg&#39;],abgp[&#39;alt&#39;],abgp[&#39;t&#39;],abgp[&#39;tw&#39;],abgp[&#39;t2&#39;],abgp[&#39;t2w&#39;],abgp[&#39;tbo&#39;],abgp[&#39;att&#39;],abgp[&#39;halign&#39;],abgp[&#39;ff&#39;],abgp[&#39;fe&#39;],abgp[&#39;fnb&#39;],abgp[&#39;iba&#39;],abgp[&#39;uic&#39;],abgp[&#39;icd&#39;]);&lt;/script&gt;&lt;style&gt;.cbc{background-image: url(&#39;http://pagead2.googlesyndication.com/pagead/images/x_button_blue2.png&#39;);background-position: right top;background-repeat: no-repeat;cursor:pointer;height:15px;right:0;top:0;margin:0;overflow:hidden;padding:0;position:absolute;width:16px;z-index:9010;}.cbc.cbc-hover {background-image: url(&#39;http://pagead2.googlesyndication.com/pagead/images/x_button_dark.png&#39;);}.cbc &gt; .cb-x{height: 15px;position:absolute;width: 16px;right:0;top:0;}.cb-x &gt; .cb-x-svg{background-color: lightgray;position:absolute;}.cbc.cbc-hover &gt; .cb-x &gt; .cb-x-svg{background-color: #58585a;}.cb-x &gt; .cb-x-svg &gt; .cb-x-svg-path{fill : #00aecd;}.cbc.cbc-hover &gt; .cb-x &gt; .cb-x-svg &gt; .cb-x-svg-path{fill : white;}.cb-x &gt; .cb-x-svg &gt; .cb-x-svg-s-path{fill : white;}&lt;/style&gt;&lt;div id=&quot;cbc&quot; class=cbc &gt;&lt;div id=&quot;cb-x&quot; class=cb-x&gt;&lt;/div&gt; &lt;/div&gt; &lt;style&gt;.ddmc{background:#ccc;color:#000;padding:0;position:absolute;z-index:9020;max-width:100%;box-shadow:2px 2px 3px #aaaaaa;}.ddmc.left{margin-right:0;left:0px;}.ddmc.right{margin-left:0;right:0px;}.ddmc.top{bottom:20px;}.ddmc.bottom{top:20px;}.ddmc .tip{border-left:4px solid transparent;border-right:4px solid transparent;height:0;position:absolute;width:0;font-size:0;line-height:0;}.ddmc.bottom .tip{border-bottom:4px solid #ccc;top:-4px;}.ddmc.top .tip{border-top:4px solid #ccc;bottom:-4px;}.ddmc.right .tip{right:3px;}.ddmc.left .tip{left:3px;}.ddmc .dropdown-content{display:block;}.dropdown-content{display:none;border-collapse:collapse;}.dropdown-item{font:12px Arial,sans-serif;cursor:pointer;padding:3px 7px;vertical-align:middle;}.dropdown-item-hover{background:#58585a;color:#fff;}.dropdown-content &gt; table{border-collapse:collapse;border-spacing:0;}.dropdown-content &gt; table &gt; tbody &gt; tr &gt; td{padding:0;}&lt;/style&gt;&lt;div id=&quot;ddmc&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;tip&quot;&gt;&lt;/div&gt;&lt;div class=&quot;dropdown-content&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=&quot;pubmute&quot; style=&quot;border-bottom:1px solid #999;&quot; class=&quot;dropdown-item&quot;&gt;&lt;span&gt;Ad covers the page&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=&quot;admute&quot; class=&quot;dropdown-item&quot;&gt;&lt;span&gt;Stop seeing this ad&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;(function(){var k=this,l=function(a,b){var c=a.split(&quot;.&quot;),d=k;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var f;c.length&amp;&amp;(f=c.shift());)c.length||void 0===b?d=d[f]?d[f]:d[f]={}:d[f]=b},r=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},aa=function(a,b,c){return a.call.apply(a.bind,arguments)},ba=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){t=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?aa:ba;return t.apply(null,arguments)};var u=&quot;undefined&quot;!=typeof DOMTokenList,v=function(a,b){if(u){var c=a.classList;0==c.contains(b)&amp;&amp;c.toggle(b)}else if(c=a.className){for(var c=c.split(/\s+/),d=!1,f=0;f&lt;c.length&amp;&amp;!d;++f)d=c[f]==b;d||(c.push(b),a.className=c.join(&quot; &quot;))}else a.className=b},w=function(a,b){if(u){var c=a.classList;1==c.contains(b)&amp;&amp;c.toggle(b)}else if((c=a.className)&amp;&amp;!(0&gt;c.indexOf(b))){for(var c=c.split(/\s+/),d=0;d&lt;c.length;++d)c[d]==b&amp;&amp;c.splice(d--,1);a.className=c.join(&quot; &quot;)}};var x=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},y=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var ca=function(a){var b=window;b.addEventListener?b.addEventListener(&quot;load&quot;,a,!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;onload&quot;,a)},z=function(a,b,c,d){c=t(d,c);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};var A=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==r(arguments[0]))return A.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};A(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var B;a:{var C=k.navigator;if(C){var D=C.userAgent;if(D){B=D;break a}}B=&quot;&quot;};var E=function(){return-1!=B.indexOf(&quot;Edge&quot;)};var da=-1!=B.indexOf(&quot;Opera&quot;)||-1!=B.indexOf(&quot;OPR&quot;),F=-1!=B.indexOf(&quot;Edge&quot;)||-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;),G=-1!=B.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!E())&amp;&amp;!(-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;))&amp;&amp;!E(),ga=-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!E(),ha=function(){var a=B;if(G)return/rv\:([^\);]+)(\)|;)/.exec(a);if(F&amp;&amp;E())return/Edge\/([\d\.]+)/.exec(a);if(F)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ga)return/WebKit\/(\S+)/.exec(a)},H=function(){var a=k.document;return a?a.documentMode:void 0},I=function(){if(da&amp;&amp;k.opera){var a=k.opera.version;return&quot;function&quot;==r(a)?a():a}var a=&quot;&quot;,b=ha();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return F&amp;&amp;!E()&amp;&amp;(b=H(),b&gt;parseFloat(a))?String(b):a}(),J={},K=function(a){if(!J[a]){for(var b=0,c=x(String(I)).split(&quot;.&quot;),d=x(String(a)).split(&quot;.&quot;),f=Math.max(c.length,d.length),e=0;0==b&amp;&amp;e&lt;f;e++){var m=c[e]||&quot;&quot;,n=d[e]||&quot;&quot;,h=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),g=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var p=h.exec(m)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],q=g.exec(n)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==p[0].length&amp;&amp;0==q[0].length)break;b=y(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||y(0==p[2].length,0==q[2].length)||y(p[2],q[2])}while(0==b)}J[a]=0&lt;=b}},L=k.document,M=H(),ia=!L||!F||!M&amp;&amp;E()?void 0:M||(&quot;CSS1Compat&quot;==L.compatMode?parseInt(I,10):5);var N;if(!(N=!G&amp;&amp;!F)){var O;if(O=F)O=F&amp;&amp;(E()||9&lt;=ia);N=O}N||G&amp;&amp;K(&quot;1.9.1&quot;);F&amp;&amp;K(&quot;9&quot;);var la=function(a,b,c){var d=&quot;mouseenter_custom&quot;==b,f=ka(b);return function(e){e||(e=window.event);if(e.type==f){if(&quot;mouseenter_custom&quot;==b||&quot;mouseleave_custom&quot;==b){var m;if(m=d?e.relatedTarget||e.fromElement:e.relatedTarget||e.toElement)for(var n=0;n&lt;a.length;n++){var h;h=a[n];var g=m;if(h.contains&amp;&amp;1==g.nodeType)h=h==g||h.contains(g);else if(&quot;undefined&quot;!=typeof h.compareDocumentPosition)h=h==g||Boolean(h.compareDocumentPosition(g)&amp;16);else{for(;g&amp;&amp;h!=g;)g=g.parentNode;h=g==h}if(h)return}}c(e)}}},ka=function(a){return&quot;mouseenter_custom&quot;==a?&quot;mouseover&quot;:&quot;mouseleave_custom&quot;==a?&quot;mouseout&quot;:a};var ma=function(){this.u=void 0},P=function(a,b,c){if(null==b)c.push(&quot;null&quot;);else{if(&quot;object&quot;==typeof b){if(&quot;array&quot;==r(b)){var d=b;b=d.length;c.push(&quot;[&quot;);for(var f=&quot;&quot;,e=0;e&lt;b;e++)c.push(f),f=d[e],P(a,a.u?a.u.call(d,String(e),f):f,c),f=&quot;,&quot;;c.push(&quot;]&quot;);return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(&quot;{&quot;);e=&quot;&quot;;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&amp;&amp;(f=b[d],&quot;function&quot;!=typeof f&amp;&amp;(c.push(e),na(d,c),c.push(&quot;:&quot;),P(a,a.u?a.u.call(b,d,f):f,c),e=&quot;,&quot;));c.push(&quot;}&quot;);return}}switch(typeof b){case &quot;string&quot;:na(b,c);break;case &quot;number&quot;:c.push(isFinite(b)&amp;&amp;!isNaN(b)?b:&quot;null&quot;);break;case &quot;boolean&quot;:c.push(b);break;case &quot;function&quot;:break;default:throw Error(&quot;Unknown type: &quot;+typeof b);}}},oa={&#39;&quot;&#39;:&#39;\\&quot;&#39;,&quot;\\&quot;:&quot;\\\\&quot;,&quot;/&quot;:&quot;\\/&quot;,&quot;\b&quot;:&quot;\\b&quot;,&quot;\f&quot;:&quot;\\f&quot;,&quot;\n&quot;:&quot;\\n&quot;,&quot;\r&quot;:&quot;\\r&quot;,&quot;\t&quot;:&quot;\\t&quot;,&quot;\x0B&quot;:&quot;\\u000b&quot;},pa=/\uffff/.test(&quot;\uffff&quot;)?/[\\\&quot;\x00-\x1f\x7f-\uffff]/g:/[\\\&quot;\x00-\x1f\x7f-\xff]/g,na=function(a,b){b.push(&#39;&quot;&#39;,a.replace(pa,function(a){var b=oa[a];b||(b=&quot;\\u&quot;+(a.charCodeAt(0)|65536).toString(16).substr(1),oa[a]=b);return b}),&#39;&quot;&#39;)};var Q=function(a,b,c,d,f,e,m,n,h,g,p,q){this.m=a;this.da=b;this.L=c;this.ba=d;this.B=f;this.A=e;this.ia=m;this.ga=n;this.o=null;this.J=!1;this.I=q;this.U=p;this.i=document.getElementById(&quot;pubmute&quot;+g);this.l=document.getElementById(&quot;admute&quot;+g);this.j=document.getElementById(&quot;wta&quot;+g);this.V=parseInt(g,10)||0;this.F();this.m.className=[&quot;ddmc&quot;,h&amp;1?&quot;left&quot;:&quot;right&quot;,h&amp;2?&quot;top&quot;:&quot;bottom&quot;].join(&quot; &quot;)};Q.prototype.F=function(){R(this.m,&quot;mouseenter_custom&quot;,this,this.w);R(this.m,&quot;mouseleave_custom&quot;,this,this.M);this.i&amp;&amp;(R(this.i,&quot;mouseenter_custom&quot;,this,this.$),R(this.i,&quot;mouseleave_custom&quot;,this,this.D),z(this.i,&quot;click&quot;,this,this.ca));R(this.l,&quot;mouseenter_custom&quot;,this,this.R);R(this.l,&quot;mouseleave_custom&quot;,this,this.v);z(this.l,&quot;click&quot;,this,this.aa);this.j&amp;&amp;(R(this.j,&quot;mouseenter_custom&quot;,this,this.ea),R(this.j,&quot;mouseleave_custom&quot;,this,this.G),z(this.j,&quot;click&quot;,this,this.Z))};Q.prototype.ca=function(){S(this);qa(this,0);var a=this.L;null!=a&amp;&amp;a();T(this,&quot;user_feedback_menu_option&quot;,&quot;3&quot;,!0)};Q.prototype.aa=function(){S(this);qa(this,1);var a=this.L;null!=a&amp;&amp;a();T(this,&quot;user_feedback_menu_option&quot;,&quot;1&quot;,!0)};var qa=function(a,b){var c={type:b,close_button_token:a.A,creative_conversion_url:a.B,ablation_config:a.U,undo_callback:a.ba,creative_index:a.V};if(a.I)a.I.fireOnObject(&quot;mute_option_selected&quot;,c);else{var d;a:{d=[&quot;muteSurvey&quot;];for(var f=k,e;e=d.shift();)if(null!=f[e])f=f[e];else{d=null;break a}d=f}d&amp;&amp;d.setupSurveyPage(c)}};Q.prototype.Z=function(){S(this);var a=window.open(this.ia,&quot;_blank&quot;);if(a){var b={};b.whyThisAdToken=this.ga;b.closeButtonToken=this.A;b.creativeConversionUrl=this.B;var c=[];P(new ma,b,c);a.name=c.join(&quot;&quot;)}T(this,&quot;closebutton_whythisad_click&quot;,a?&quot;1&quot;:&quot;2&quot;,!1)};var U=function(a,b){a.m.style.display=b?&quot;&quot;:&quot;none&quot;};Q.prototype.M=function(){this.o=k.setTimeout(t(function(){S(this);this.o=null},this),500)};Q.prototype.w=function(){null!=this.o&amp;&amp;(k.clearTimeout(this.o),this.o=null)};var S=function(a){var b=a.da;null!=b&amp;&amp;b();V(a)&amp;&amp;U(a,!1)};Q.prototype.$=function(){this.i&amp;&amp;v(this.i,&quot;dropdown-item-hover&quot;);this.v();this.G()};Q.prototype.D=function(){this.i&amp;&amp;w(this.i,&quot;dropdown-item-hover&quot;)};Q.prototype.R=function(){this.l&amp;&amp;v(this.l,&quot;dropdown-item-hover&quot;);this.D();this.G()};Q.prototype.v=function(){this.l&amp;&amp;w(this.l,&quot;dropdown-item-hover&quot;)};Q.prototype.ea=function(){this.j&amp;&amp;v(this.j,&quot;dropdown-item-hover&quot;);this.v();this.D()};Q.prototype.G=function(){this.j&amp;&amp;w(this.j,&quot;dropdown-item-hover&quot;)};var V=function(a){return&quot;none&quot;!==a.m.style.display};Q.prototype.toggle=function(){V(this)?V(this)&amp;&amp;U(this,!1):(U(this,!0),this.J||(this.J=!0,T(this,&quot;user_feedback_menu_interaction&quot;)))};var T=function(a,b,c,d){a=a.B+&quot;&amp;label=&quot;+b+(c?&quot;&amp;label_instance=&quot;+c:&quot;&quot;)+(d?&quot;&amp;cbt=&quot;+a.A:&quot;&quot;);b=window;b.google_image_requests||(b.google_image_requests=[]);c=b.document.createElement(&quot;img&quot;);c.src=a;b.google_image_requests.push(c)},R=function(a,b,c,d){d=la([a],b,t(d,c));z(a,ka(b),c,d)};var W=function(a,b,c,d,f,e,m,n,h,g,p,q,ea,ra,fa){this.creativeConversionUrl=f;this.T=e;this.ha=m;this.fa=n;this.S=document.getElementById(&quot;cb-x&quot;+ea);f=t(this.C,this);e=t(this.K,this);m=t(this.N,this);d?(g=g?1:0,p&amp;&amp;(g|=2),d=new Q(d,f,e,m,this.creativeConversionUrl,this.T,this.ha,this.fa,g,ea,ra,fa)):d=null;this.h=d;this.O=document.getElementById(&quot;pbc&quot;);this.g=a;this.P=b;this.H=c;this.s=fa;&quot;undefined&quot;!=typeof SVGElement&amp;&amp;&quot;undefined&quot;!=typeof document.createElementNS&amp;&amp;q&amp;&amp;(this.g.style.backgroundImage=&quot;none&quot;,this.S.appendChild(sa(h)));this.F()},X;W.prototype.F=function(){z(this.g,&quot;click&quot;,this,this.W);z(this.g,&quot;mouseover&quot;,this,this.Y);z(this.g,&quot;mouseout&quot;,this,this.X)};W.prototype.W=function(){this.h&amp;&amp;(this.h.w(),this.h.toggle())};W.prototype.Y=function(){this.h&amp;&amp;this.h.w();null!==this.g&amp;&amp;v(this.g,&quot;cbc-hover&quot;)};W.prototype.X=function(){this.h&amp;&amp;V(this.h)?this.h.M():this.C()};var sa=function(a){var b=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;svg&quot;),c=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;path&quot;),d=document.createElementNS(&quot;//www.w3.org/2000/svg&quot;,&quot;path&quot;),f=1.15/Math.sqrt(2),e=.2*a,f=&quot;M&quot;+(e+f+1)+&quot;,&quot;+e+&quot;L&quot;+(a/2+1)+&quot;,&quot;+(a/2-f)+&quot;L&quot;+(a-e-f+1)+&quot;,&quot;+e+&quot;L&quot;+(a-e+1)+&quot;,&quot;+(e+f)+&quot;L&quot;+(a/2+f+1)+&quot;,&quot;+a/2+&quot;L&quot;+(a-e+1)+&quot;,&quot;+(a-e-f)+&quot;L&quot;+(a-e-f+1)+&quot;,&quot;+(a-e)+&quot;L&quot;+(a/2+1)+&quot;,&quot;+(a/2+f)+&quot;L&quot;+(e+f+1)+&quot;,&quot;+(a-e)+&quot;L&quot;+(e+1)+&quot;,&quot;+(a-e-f)+&quot;L&quot;+(a/2-f+1)+&quot;,&quot;+a/2+&quot;L&quot;+(e+1)+&quot;,&quot;+(e+f)+&quot;Z&quot;,e=&quot;M0,0L1,0L1,&quot;+a+&quot;L0,&quot;+a+&quot;Z&quot;;b.setAttribute(&quot;class&quot;,&quot;cb-x-svg&quot;);b.setAttribute(&quot;width&quot;,a+1);b.setAttribute(&quot;height&quot;,a);b.appendChild(c);b.appendChild(d);c.setAttribute(&quot;d&quot;,f);c.setAttribute(&quot;class&quot;,&quot;cb-x-svg-path&quot;);d.setAttribute(&quot;d&quot;,e);d.setAttribute(&quot;class&quot;,&quot;cb-x-svg-s-path&quot;);return b},Y=function(a){a&amp;&amp;(a.style.display=&quot;block&quot;)},Z=function(a){a&amp;&amp;(a.style.display=&quot;none&quot;)};W.prototype.C=function(){null!==this.g&amp;&amp;w(this.g,&quot;cbc-hover&quot;)};W.prototype.K=function(){this.C();this.s?this.s.showOnly(0):(Z(this.g),Z(this.H),Z(this.O),Y(this.P))};W.prototype.N=function(){this.s?this.s.resetAll():(Y(this.g),Y(this.H),Y(this.O),Z(this.P))};l(&quot;cbb&quot;,function(a,b,c,d,f,e,m,n,h,g,p,q){ca(function(){X=new W(a,document.getElementById(&quot;cbtf&quot;),b,c,d,f,e,m,15,h,g,p,q,n,window.adSlot)})});l(&quot;cbbha&quot;,function(){X.K()});l(&quot;cbbsa&quot;,function(){X.N()});})();cbb(document.getElementById(&#39;cbc&#39;),document.getElementById(&#39;google_image_div&#39;),document.getElementById(&#39;ddmc&#39;),&#39;http://googleads.g.doubleclick.net/pagead/conversion/?ai\x3dCOf0hFY9cVdLBMJOCMfe3gfAElu2Hhgjm6JGKoAGm-sjLuwIQASDF36YiYMmO8IiEpOwPoAHCt_fjA8gBAuACAKgDAcgDmQSqBNkBT9DWYptsIlqh5jvPNxCnl9rmO0FvbxRjxEwn2T9_RODCiW0beQ8y1ureQoV6m6trM8UxsMlRySrAaVJ56xFNVsbV-uBxGDNrahK0QNYTg089b4HYRGlKTet8cmL2WjMzc5jrZLijbEdwstR2-N-UVzW_grDRl1T36F6EzkdtFkB041JO3BvIjqtlYXbQhdKhs_JjeVJvW1HVblYlxcUikWKqn3auyNH7ugA2PKSymGTPFriWXU3bnYgXNBEXqIw-97oVSI5Cv3uFQFhOJxgZs9Y3GTdv8fcgSuAEAYgGAaAGAoAHpsiIHKgHpr4b2AcB\x26sigh\x3d-8MQaYRqW4I&#39;,&#39;jnLS7DGH240I5uiRiqABEJ6-01cY_uPhHCIOYnJpZ2h0Y292ZS5jb20yCAgFExjc-AcUQhdjYS1wdWItMzU1ODg3MDU2NDUyNzQxNkgFWAI&#39;,&#39;https://www.google.com/ads/preferences/whythisad&#39;,&#39;&#39;,&#39;{\x22key_value\x22:[]}&#39;,false,false,false,&#39;&#39;);&lt;/script&gt;&lt;/div&gt;&lt;script&gt;&lt;/script&gt;&lt;script&gt;(function(_){var aa=function(a){return function(){return ba[a].apply(this,arguments)}},ba,ia,ka,la;_.ca=function(a,b){return ba[a]=b};var da=function(a){return&quot;function&quot;==typeof window.encodeURIComponent?(0,window.encodeURIComponent)(a):(0,window.escape)(a)};ba=[];_.l=this;_.n=function(a){return void 0!==a};_.p=function(a,b,c){a=a.split(&quot;.&quot;);c=c||_.l;a[0]in c||!c.execScript||c.execScript(&quot;var &quot;+a[0]);for(var d;a.length&amp;&amp;(d=a.shift());)!a.length&amp;&amp;_.n(b)?c[d]=b:c=c[d]?c[d]:c[d]={}};_.ea=function(){};_.fa=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b};_.q=function(a){return&quot;array&quot;==_.fa(a)};_.r=function(a){return&quot;string&quot;==typeof a};_.ga=function(a){return&quot;function&quot;==_.fa(a)};_.ha=function(a){var b=typeof a;return&quot;object&quot;==b&amp;&amp;null!=a||&quot;function&quot;==b};ia=function(a,b,c){return a.call.apply(a.bind,arguments)};ka=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};_.u=function(a,b,c){_.u=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ia:ka;return _.u.apply(null,arguments)};_.v=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};_.w=Date.now||function(){return+new Date};la=function(a,b,c){a[b]=c};_.x=function(a,b){function c(){}c.prototype=b.prototype;a.xb=b.prototype;a.prototype=new c;a.Kh=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k&lt;arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};var ma=function(a){return a[0]?a[0].length:0};var oa,qa;_.na=function(a){return&quot;true&quot;==a.toLowerCase()};oa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)};_.ra=function(a){var b=0,c=oa(String(pa)).split(&quot;.&quot;);a=oa(String(a)).split(&quot;.&quot;);for(var d=Math.max(c.length,a.length),e=0;0==b&amp;&amp;e&lt;d;e++){var f=c[e]||&quot;&quot;,g=a[e]||&quot;&quot;,k=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),m=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var t=k.exec(f)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],D=m.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==t[0].length&amp;&amp;0==D[0].length)break;b=qa(0==t[1].length?0:(0,window.parseInt)(t[1],10),0==D[1].length?0:(0,window.parseInt)(D[1],10))||qa(0==t[2].length,0==D[2].length)||qa(t[2],D[2])}while(0==b)}return b};qa=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var sa,ta,ua,va;sa=function(a){this.g=a||[]};ta=function(a){this.g=a||[]};_.y=function(a){this.g=a||[]};ua=function(a){this.g=a||[]};va=function(a){this.g=a||[]};sa.prototype.ec=function(){return this.g};sa.prototype.V=function(){var a=this.g[1];return null!=a?a:0};sa.prototype.U=function(){var a=this.g[2];return null!=a?a:0};var wa=function(a){a=a.g[3];return null!=a?a:!1};_.h=sa.prototype;_.h.getEscapedQemQueryId=function(){var a=this.g[6];return null!=a?a:&quot;&quot;};_.h.getEscapedGwsQueryId=function(){var a=this.g[7];return null!=a?a:&quot;&quot;};_.h.getWebProperty=function(){var a=this.g[9];return null!=a?a:&quot;&quot;};_.h.zc=function(){var a=this.g[10];return null!=a?a:0};_.h.wc=function(){var a=this.g[11];return null!=a?a:0};var xa=function(a){a=a.g[12];return null!=a?a:!1};sa.prototype.yc=function(){var a=this.g[19];return null!=a?a:0};sa.prototype.xc=function(){var a=this.g[20];return null!=a?a:0};sa.prototype.Rb=function(){var a=this.g[21];return null!=a?a:0};var za=new ta,z=function(a){return(a=a.g[5])?new ta(a):za},Aa=new ua,Ba=function(a){return(a=a.g[8])?new ua(a):Aa},Ca=new va;ta.prototype.ec=function(){return this.g};var Da=function(a){a=a.g[0];return null!=a?a:!1},Ea=function(a){a=a.g[1];return null!=a?a:!1},Fa=function(a){a=a.g[2];return null!=a?a:!1},Ga=function(a){a=a.g[4];return null!=a?a:!1},Ha=function(a){a=a.g[3];return null!=a?a:0};_.y.prototype.ec=function(){return this.g};_.y.prototype.getIndex=function(){var a=this.g[1];return null!=a?a:0};_.y.prototype.V=function(){var a=this.g[2];return null!=a?a:0};_.y.prototype.U=function(){var a=this.g[3];return null!=a?a:0};var Ia=function(a){a=a.g[4];return null!=a?a:&quot;&quot;};ua.prototype.ec=function(){return this.g};va.prototype.ec=function(){return this.g};var A,Ja,Ma,Na,Pa;A=Array.prototype;Ja=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(_.r(a))return _.r(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1};_.Ka=A.forEach?function(a,b,c){A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=_.r(a)?a.split(&quot;&quot;):a,f=0;f&lt;d;f++)f in e&amp;&amp;b.call(c,e[f],f,a)};_.La=A.filter?function(a,b,c){return A.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=_.r(a)?a.split(&quot;&quot;):a,k=0;k&lt;d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&amp;&amp;(e[f++]=m)}return e};Ma=A.every?function(a,b,c){return A.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=_.r(a)?a.split(&quot;&quot;):a,f=0;f&lt;d;f++)if(f in e&amp;&amp;!b.call(c,e[f],f,a))return!1;return!0};Na=function(a){return A.concat.apply(A,arguments)};_.Oa=function(a){var b=a.length;if(0&lt;b){for(var c=Array(b),d=0;d&lt;b;d++)c[d]=a[d];return c}return[]};Pa=function(a,b){return a&gt;b?1:a&lt;b?-1:0};var Qa=function(a){Qa[&quot; &quot;](a);return a};Qa[&quot; &quot;]=_.ea;var Sa,Ua;_.Ra=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)};Sa=&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;.split(&quot; &quot;);_.Ta=function(a,b){for(var c,d,e=1;e&lt;arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f&lt;Sa.length;f++)c=Sa[f],Object.prototype.hasOwnProperty.call(d,c)&amp;&amp;(a[c]=d[c])}};Ua=function(a){var b=arguments.length;if(1==b&amp;&amp;_.q(arguments[0]))return Ua.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var Va;a:{var Wa=_.l.navigator;if(Wa){var Xa=Wa.userAgent;if(Xa){Va=Xa;break a}}Va=&quot;&quot;}var B=function(a){return-1!=Va.indexOf(a)};var Ya=function(){return B(&quot;Opera&quot;)||B(&quot;OPR&quot;)},Za=function(){return B(&quot;Edge&quot;)||B(&quot;Trident&quot;)||B(&quot;MSIE&quot;)},$a=function(){return(B(&quot;Chrome&quot;)||B(&quot;CriOS&quot;))&amp;&amp;!Ya()&amp;&amp;!Za()};var ab=function(){return B(&quot;Edge&quot;)};var eb,fb,gb,pa,ib,jb,kb,lb;_.bb=Ya();_.C=Za();_.cb=B(&quot;Gecko&quot;)&amp;&amp;!(-1!=Va.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!ab())&amp;&amp;!(B(&quot;Trident&quot;)||B(&quot;MSIE&quot;))&amp;&amp;!ab();_.db=-1!=Va.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!ab();eb=B(&quot;Android&quot;);fb=function(){var a=Va;if(_.cb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(_.C&amp;&amp;ab())return/Edge\/([\d\.]+)/.exec(a);if(_.C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(_.db)return/WebKit\/(\S+)/.exec(a)};gb=function(){var a=_.l.document;return a?a.documentMode:void 0};pa=function(){if(_.bb&amp;&amp;_.l.opera){var a=_.l.opera.version;return _.ga(a)?a():a}var a=&quot;&quot;,b=fb();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return _.C&amp;&amp;!ab()&amp;&amp;(b=gb(),b&gt;(0,window.parseFloat)(a))?String(b):a}();ib={};_.E=function(a){return ib[a]||(ib[a]=0&lt;=_.ra(a))};jb=_.l.document;kb=gb();lb=!jb||!_.C||!kb&amp;&amp;ab()?void 0:kb||(&quot;CSS1Compat&quot;==jb.compatMode?(0,window.parseInt)(pa,10):5);var nb=!_.C||_.C&amp;&amp;(ab()||9&lt;=lb),ob=_.C&amp;&amp;!_.E(&quot;9&quot;);!_.db||_.E(&quot;528&quot;);_.cb&amp;&amp;_.E(&quot;1.9b&quot;)||_.C&amp;&amp;_.E(&quot;8&quot;)||_.bb&amp;&amp;_.E(&quot;9.5&quot;)||_.db&amp;&amp;_.E(&quot;528&quot;);_.cb&amp;&amp;!_.E(&quot;8&quot;)||_.C&amp;&amp;_.E(&quot;9&quot;);_.F=function(){this.Mb=this.Mb;this.Xa=this.Xa};_.F.prototype.Mb=!1;_.F.prototype.Fd=aa(0);_.F.prototype.R=aa(2);_.G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Za=!1;this.Ff=!0};_.G.prototype.stopPropagation=aa(4);_.G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Ff=!1};_.pb=function(a,b){_.G.call(this,a?a.type:&quot;&quot;);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Pb=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(_.cb){var e;a:{try{Qa(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else&quot;mouseover&quot;==c?d=a.fromElement:&quot;mouseout&quot;==c&amp;&amp;(d=a.toElement);this.relatedTarget=d;this.offsetX=_.db||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=_.db||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(&quot;keypress&quot;==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Pb=a;a.defaultPrevented&amp;&amp;this.preventDefault()}};_.x(_.pb,_.G);_.pb.prototype.stopPropagation=aa(3);_.pb.prototype.preventDefault=function(){_.pb.xb.preventDefault.call(this);var a=this.Pb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ob)try{if(a.ctrlKey||112&lt;=a.keyCode&amp;&amp;123&gt;=a.keyCode)a.keyCode=-1}catch(b){}};var qb,sb;qb=&quot;closure_listenable_&quot;+(1E6*Math.random()|0);_.rb=function(a){return!(!a||!a[qb])};sb=0;var tb;tb=function(a,b,c,d,e){this.listener=a;this.Tc=null;this.src=b;this.type=c;this.pc=!!d;this.Dc=e;this.key=++sb;this.sb=this.nc=!1};_.ub=function(a){a.sb=!0;a.listener=null;a.Tc=null;a.src=null;a.Dc=null};_.vb=function(a){this.src=a;this.G={};this.fc=0};_.vb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.G[f];a||(a=this.G[f]=[],this.fc++);var g=wb(a,b,d,e);-1&lt;g?(b=a[g],c||(b.nc=!1)):(b=new tb(b,this.src,f,!!d,e),b.nc=c,a.push(b));return b};_.vb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.G))return!1;var e=this.G[a];b=wb(e,b,c,d);return-1&lt;b?(_.ub(e[b]),A.splice.call(e,b,1),0==e.length&amp;&amp;(delete this.G[a],this.fc--),!0):!1};var xb=function(a,b){var c=b.type;if(!(c in a.G))return!1;var d=a.G[c],e=Ja(d,b),f;(f=0&lt;=e)&amp;&amp;A.splice.call(d,e,1);f&amp;&amp;(_.ub(b),0==a.G[c].length&amp;&amp;(delete a.G[c],a.fc--));return f};_.vb.prototype.Wc=aa(5);_.vb.prototype.Sb=function(a,b,c,d){a=this.G[a.toString()];var e=-1;a&amp;&amp;(e=wb(a,b,c,d));return-1&lt;e?a[e]:null};var wb=function(a,b,c,d){for(var e=0;e&lt;a.length;++e){var f=a[e];if(!f.sb&amp;&amp;f.listener==b&amp;&amp;f.pc==!!c&amp;&amp;f.Dc==d)return e}return-1};var yb,zb,Ab,Fb,Ib,Gb,Lb,Kb,Hb,Mb;yb=&quot;closure_lm_&quot;+(1E6*Math.random()|0);zb={};Ab=0;_.Bb=function(a,b,c,d,e){if(_.q(b)){for(var f=0;f&lt;b.length;f++)_.Bb(a,b[f],c,d,e);return null}c=_.Cb(c);return _.rb(a)?a.listen(b,c,d,e):_.Db(a,b,c,!1,d,e)};_.Db=function(a,b,c,d,e,f){if(!b)throw Error(&quot;Invalid event type&quot;);var g=!!e,k=_.Eb(a);k||(a[yb]=k=new _.vb(a));c=k.add(b,c,d,e,f);if(c.Tc)return c;d=Fb();c.Tc=d;d.src=a;d.listener=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Gb(b.toString()),d);Ab++;return c};Fb=function(){var a=Hb,b=nb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b};Ib=function(a,b,c,d,e){if(_.q(b))for(var f=0;f&lt;b.length;f++)Ib(a,b[f],c,d,e);else c=_.Cb(c),_.rb(a)?a.unlisten(b,c,d,e):a&amp;&amp;(a=_.Eb(a))&amp;&amp;(b=a.Sb(b,c,!!d,e))&amp;&amp;_.Jb(b)};_.Jb=function(a){if(&quot;number&quot;==typeof a||!a||a.sb)return!1;var b=a.src;if(_.rb(b))return xb(b.sa,a);var c=a.type,d=a.Tc;b.removeEventListener?b.removeEventListener(c,d,a.pc):b.detachEvent&amp;&amp;b.detachEvent(Gb(c),d);Ab--;(c=_.Eb(b))?(xb(c,a),0==c.fc&amp;&amp;(c.src=null,b[yb]=null)):_.ub(a);return!0};Gb=function(a){return a in zb?zb[a]:zb[a]=&quot;on&quot;+a};Lb=function(a,b,c,d){var e=!0;if(a=_.Eb(a))if(b=a.G[b.toString()])for(b=b.concat(),a=0;a&lt;b.length;a++){var f=b[a];f&amp;&amp;f.pc==c&amp;&amp;!f.sb&amp;&amp;(f=Kb(f,d),e=e&amp;&amp;!1!==f)}return e};Kb=function(a,b){var c=a.listener,d=a.Dc||a.src;a.nc&amp;&amp;_.Jb(a);return c.call(d,b)};Hb=function(a,b){if(a.sb)return!0;if(!nb){var c;if(!(c=b))a:{c=[&quot;window&quot;,&quot;event&quot;];for(var d=_.l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new _.pb(e,this);d=!0;if(!(0&gt;e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,k=e.length-1;!c.Za&amp;&amp;0&lt;=k;k--){c.currentTarget=e[k];var m=Lb(e[k],f,!0,c),d=d&amp;&amp;m}for(k=0;!c.Za&amp;&amp;k&lt;e.length;k++)c.currentTarget=e[k],m=Lb(e[k],f,!1,c),d=d&amp;&amp;m}return d}return Kb(a,new _.pb(b,this))};_.Eb=function(a){a=a[yb];return a instanceof _.vb?a:null};Mb=&quot;__closure_events_fn_&quot;+(1E9*Math.random()&gt;&gt;&gt;0);_.Cb=function(a){if(_.ga(a))return a;a[Mb]||(a[Mb]=function(b){return a.handleEvent(b)});return a[Mb]};_.H=function(){_.F.call(this);this.sa=new _.vb(this);this.dg=this;this.je=null};_.x(_.H,_.F);_.H.prototype[qb]=!0;_.h=_.H.prototype;_.h.addEventListener=function(a,b,c,d){_.Bb(this,a,b,c,d)};_.h.removeEventListener=function(a,b,c,d){Ib(this,a,b,c,d)};_.h.dispatchEvent=function(a){var b,c=this.je;if(c)for(b=[];c;c=c.je)b.push(c);var c=this.dg,d=a.type||a;if(_.r(a))a=new _.G(a,c);else if(a instanceof _.G)a.target=a.target||c;else{var e=a;a=new _.G(d,c);_.Ta(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Za&amp;&amp;0&lt;=g;g--)f=a.currentTarget=b[g],e=Nb(f,d,!0,a)&amp;&amp;e;a.Za||(f=a.currentTarget=c,e=Nb(f,d,!0,a)&amp;&amp;e,a.Za||(e=Nb(f,d,!1,a)&amp;&amp;e));if(b)for(g=0;!a.Za&amp;&amp;g&lt;b.length;g++)f=a.currentTarget=b[g],e=Nb(f,d,!1,a)&amp;&amp;e;return e};_.h.R=aa(1);_.h.listen=function(a,b,c,d){return this.sa.add(String(a),b,!1,c,d)};_.h.be=aa(6);_.h.unlisten=function(a,b,c,d){return this.sa.remove(String(a),b,c,d)};var Nb=function(a,b,c,d){b=a.sa.G[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f&lt;b.length;++f){var g=b[f];if(g&amp;&amp;!g.sb&amp;&amp;g.pc==c){var k=g.listener,m=g.Dc||g.src;g.nc&amp;&amp;xb(a.sa,g);e=!1!==k.call(m,d)&amp;&amp;e}}return e&amp;&amp;0!=d.Ff};_.H.prototype.Sb=function(a,b,c,d){return this.sa.Sb(String(a),b,c,d)};var Ob=function(){this.j=[];this.gc=[]};_.h=Ob.prototype;_.h.Fa=function(){return this.gc.concat()};_.h.Sa=function(){return this.j.concat()};_.h.pa=function(a){return 0&lt;=Ja(this.j,a)};_.h.remove=function(a){a=Ja(this.j,a);return 0&lt;=a?(this.j.splice(a,1),this.gc.splice(a,1),!0):!1};_.h.get=function(a,b){var c=Ja(this.j,a);return 0&lt;=c?this.gc[c]:b};_.h.set=function(a,b){var c=Ja(this.j,a);0&lt;=c?this.gc[c]=b:(this.j.push(a),this.gc.push(b))};var Pb;_.I=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)};Pb=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+b,c)};_.J=function(a,b,c){a.google_image_requests||(a.google_image_requests=[]);var d=a.document.createElement(&quot;img&quot;);if(c){var e=function(a){c(a);Pb(d,&quot;load&quot;,e);Pb(d,&quot;error&quot;,e)};_.I(d,&quot;load&quot;,e);_.I(d,&quot;error&quot;,e)}d.src=b;a.google_image_requests.push(d)};_.K=window.document;_.L=window;var Rb;_.Qb=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};Rb=function(a,b,c,d,e,f){var g;if(window.document.createEvent)g=window.document.createEvent(&quot;MouseEvents&quot;),g.initMouseEvent(b,!0,!0,null,0,0,0,0,0,d,!1,e,f,c,null);else if(window.document.createEventObject)g=window.document.createEventObject(),g.Ld=&quot;on&quot;+b,g.button=c,g.ctrlKey=d,g.shiftKey=e,g.metaKey=f;else return!1;window.document.createEvent?a.dispatchEvent(g):a.fireEvent(g.Ld,g);return!0};_.M=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};_.Sb=function(a){return a.preventDefault?a.defaultPrevented:!1===a.returnValue};var Tb=function(a,b,c){this.dh=c;this.og=a;this.wh=b;this.Mc=0;this.Ec=null};Tb.prototype.get=function(){var a;0&lt;this.Mc?(this.Mc--,a=this.Ec,this.Ec=a.next,a.next=null):a=this.og();return a};Tb.prototype.put=function(a){this.wh(a);this.Mc&lt;this.dh&amp;&amp;(this.Mc++,a.next=this.Ec,this.Ec=a)};var Ub=function(a){_.l.setTimeout(function(){throw a;},0)},Vb,Wb=function(){var a=_.l.MessageChannel;&quot;undefined&quot;===typeof a&amp;&amp;&quot;undefined&quot;!==typeof window&amp;&amp;window.postMessage&amp;&amp;window.addEventListener&amp;&amp;!B(&quot;Presto&quot;)&amp;&amp;(a=function(){var a=window.document.createElement(&quot;IFRAME&quot;);a.style.display=&quot;none&quot;;a.src=&quot;&quot;;window.document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(&quot;&quot;);a.close();var c=&quot;callImmediate&quot;+Math.random(),d=&quot;file:&quot;==b.location.protocol?&quot;*&quot;:b.location.protocol+&quot;//&quot;+b.location.host,a=(0,_.u)(function(a){if((&quot;*&quot;==d||a.origin==d)&amp;&amp;a.data==c)this.port1.onmessage()},this);b.addEventListener(&quot;message&quot;,a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(&quot;undefined&quot;!==typeof a&amp;&amp;!Za()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(_.n(c.next)){c=c.next;var a=c.Ue;c.Ue=null;a()}};return function(a){d.next={Ue:a};d=d.next;b.port2.postMessage(0)}}return&quot;undefined&quot;!==typeof window.document&amp;&amp;&quot;onreadystatechange&quot;in window.document.createElement(&quot;SCRIPT&quot;)?function(a){var b=window.document.createElement(&quot;SCRIPT&quot;);b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};window.document.documentElement.appendChild(b)}:function(a){_.l.setTimeout(a,0)}};var Xb=function(){this.kd=this.Ab=null},Zb=new Tb(function(){return new Yb},function(a){a.reset()},100);Xb.prototype.add=function(a,b){var c=Zb.get();c.set(a,b);this.kd?this.kd.next=c:this.Ab=c;this.kd=c};Xb.prototype.remove=function(){var a=null;this.Ab&amp;&amp;(a=this.Ab,this.Ab=this.Ab.next,this.Ab||(this.kd=null),a.next=null);return a};var Yb=function(){this.next=this.scope=this.Od=null};Yb.prototype.set=function(a,b){this.Od=a;this.scope=b;this.next=null};Yb.prototype.reset=function(){this.next=this.scope=this.Od=null};var dc=function(a,b){$b||ac();bc||($b(),bc=!0);cc.add(a,b)},$b,ac=function(){if(_.l.Promise&amp;&amp;_.l.Promise.resolve){var a=_.l.Promise.resolve();$b=function(){a.then(ec)}}else $b=function(){var a=ec;!_.ga(_.l.setImmediate)||_.l.Window&amp;&amp;_.l.Window.prototype&amp;&amp;_.l.Window.prototype.setImmediate==_.l.setImmediate?(Vb||(Vb=Wb()),Vb(a)):_.l.setImmediate(a)}},bc=!1,cc=new Xb,ec=function(){for(var a=null;a=cc.remove();){try{a.Od.call(a.scope)}catch(b){Ub(b)}Zb.put(a)}bc=!1};var N=function(a,b){this.xa=0;this.Ef=void 0;this.oc=this.ab=this.Qc=null;this.Bc=this.Md=!1;if(a==fc)gc(this,2,b);else try{var c=this;a.call(b,function(a){gc(c,2,a)},function(a){gc(c,3,a)})}catch(d){gc(this,3,d)}},hc=function(){this.next=this.context=this.pb=this.Zb=this.cb=null;this.wd=!1};hc.prototype.reset=function(){this.context=this.pb=this.Zb=this.cb=null;this.wd=!1};var ic=new Tb(function(){return new hc},function(a){a.reset()},100),jc=function(a,b,c){var d=ic.get();d.Zb=a;d.pb=b;d.context=c;return d},fc=function(){},lc=function(a){return new N(function(b,c){a.length||b(void 0);for(var d=0,e;e=a[d];d++)kc(e,b,c)})},mc=function(a){return new N(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&amp;&amp;b(e)},g=function(a){c(a)},k=0,m;m=a[k];k++)kc(m,_.v(f,k),g);else b(e)})};N.prototype.then=function(a,b,c){return nc(this,_.ga(a)?a:null,_.ga(b)?b:null,c)};N.prototype.then=N.prototype.then;N.prototype.$goog_Thenable=!0;var kc=function(a,b,c,d){a instanceof N?oc(a,jc(b||_.ea,c||null,d)):a.then(b,c,d)},oc=function(a,b){a.ab||2!=a.xa&amp;&amp;3!=a.xa||pc(a);a.oc?a.oc.next=b:a.ab=b;a.oc=b},nc=function(a,b,c,d){var e=jc(null,null,null);e.cb=new N(function(a,g){e.Zb=b?function(c){try{var e=b.call(d,c);a(e)}catch(t){g(t)}}:a;e.pb=c?function(b){try{var e=c.call(d,b);a(e)}catch(t){g(t)}}:g});e.cb.Qc=a;oc(a,e);return e.cb};N.prototype.Uf=function(a){this.xa=0;gc(this,2,a)};N.prototype.Vf=function(a){this.xa=0;gc(this,3,a)};var gc=function(a,b,c){if(0==a.xa){if(a==c)b=3,c=new TypeError(&quot;Promise cannot resolve to itself&quot;);else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.xa=1;kc(c,a.Uf,a.Vf,a);return}if(_.ha(c))try{var f=c.then;if(_.ga(f)){qc(a,c,f);return}}catch(g){b=3,c=g}}a.Ef=c;a.xa=b;a.Qc=null;pc(a);3!=b||rc(a,c)}},qc=function(a,b,c){a.xa=1;var d=!1,e=function(b){d||(d=!0,a.Uf(b))},f=function(b){d||(d=!0,a.Vf(b))};try{c.call(b,e,f)}catch(g){f(g)}},pc=function(a){a.Md||(a.Md=!0,dc(a.Ag,a))},sc=function(a){var b=null;a.ab&amp;&amp;(b=a.ab,a.ab=b.next,b.next=null);a.ab||(a.oc=null);return b};N.prototype.Ag=function(){for(var a=null;a=sc(this);){var b=this.xa,c=this.Ef;if(3==b&amp;&amp;a.pb&amp;&amp;!a.wd)for(var d=void 0,d=this;d&amp;&amp;d.Bc;d=d.Qc)d.Bc=!1;if(a.cb)a.cb.Qc=null,tc(a,b,c);else try{a.wd?a.Zb.call(a.context):tc(a,b,c)}catch(e){uc.call(null,e)}ic.put(a)}this.Md=!1};var tc=function(a,b,c){2==b?a.Zb.call(a.context,c):a.pb&amp;&amp;a.pb.call(a.context,c)},rc=function(a,b){a.Bc=!0;dc(function(){a.Bc&amp;&amp;uc.call(null,b)})},uc=Ub;Ua(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));_.vc=!_.C||_.C&amp;&amp;(ab()||9&lt;=lb);!_.cb&amp;&amp;!_.C||_.C&amp;&amp;_.C&amp;&amp;(ab()||9&lt;=lb)||_.cb&amp;&amp;_.E(&quot;1.9.1&quot;);var wc=_.C&amp;&amp;!_.E(&quot;9&quot;);var yc,Bc,Cc,Dc;yc=function(a,b){var c=b||window.document;return c.querySelectorAll&amp;&amp;c.querySelector?c.querySelectorAll(&quot;.&quot;+a):_.xc(&quot;*&quot;,a,b)};_.xc=function(a,b,c){var d=window.document;c=c||d;var e=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;if(c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;(e||b))return c.querySelectorAll(e+(b?&quot;.&quot;+b:&quot;&quot;));if(b&amp;&amp;c.getElementsByClassName){a=c.getElementsByClassName(b);if(e){c={};for(var f=d=0,g;g=a[f];f++)e==g.nodeName&amp;&amp;(c[d++]=g);c.length=d;return c}return a}a=c.getElementsByTagName(e||&quot;*&quot;);if(b){c={};for(f=d=0;g=a[f];f++){var e=g.className,k;if(k=&quot;function&quot;==typeof e.split)k=0&lt;=Ja(e.split(/\s+/),b);k&amp;&amp;(c[d++]=g)}c.length=d;return c}return a};_.zc=function(a,b){if(a.contains&amp;&amp;1==b.nodeType)return a==b||a.contains(b);if(&quot;undefined&quot;!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&amp;16);for(;b&amp;&amp;a!=b;)b=b.parentNode;return b==a};_.Ac=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document};Bc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};Cc={IMG:&quot; &quot;,BR:&quot;\n&quot;};_.Ec=function(a){if(wc&amp;&amp;&quot;innerText&quot;in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,&quot;\n&quot;);else{var b=[];Dc(a,b,!0);a=b.join(&quot;&quot;)}a=a.replace(/ \xAD /g,&quot; &quot;).replace(/\xAD/g,&quot;&quot;);a=a.replace(/\u200B/g,&quot;&quot;);wc||(a=a.replace(/ +/g,&quot; &quot;));&quot; &quot;!=a&amp;&amp;(a=a.replace(/^\s*/,&quot;&quot;));return a};Dc=function(a,b,c){if(!(a.nodeName in Bc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,&quot;&quot;)):b.push(a.nodeValue);else if(a.nodeName in Cc)b.push(Cc[a.nodeName]);else for(a=a.firstChild;a;)Dc(a,b,c),a=a.nextSibling};var Gc=function(a,b,c){var d=&quot;mouseenter_custom&quot;==b,e=Fc(b);return function(f){f||(f=window.event);if(f.type==e){if(&quot;mouseenter_custom&quot;==b||&quot;mouseleave_custom&quot;==b){var g;if(g=d?f.relatedTarget||f.fromElement:f.relatedTarget||f.toElement)for(var k=0;k&lt;a.length;k++)if(_.zc(a[k],g))return}c(f)}}},Fc=function(a){return&quot;mouseenter_custom&quot;==a?&quot;mouseover&quot;:&quot;mouseleave_custom&quot;==a?&quot;mouseout&quot;:a};var Hc=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?_.n(d)?Hc(a,b,d,void 0,e):a:c};var Ic=&quot;StopIteration&quot;in _.l?_.l.StopIteration:{message:&quot;StopIteration&quot;,stack:&quot;&quot;},Jc=function(){};Jc.prototype.next=function(){throw Ic;};Jc.prototype.cg=function(){return this};var Kc=function(a,b){this.da={};this.j=[];this.jd=this.B=0;var c=arguments.length;if(1&lt;c){if(c%2)throw Error(&quot;Uneven number of arguments&quot;);for(var d=0;d&lt;c;d+=2)this.set(arguments[d],arguments[d+1])}else a&amp;&amp;this.addAll(a)};Kc.prototype.Fa=function(){Lc(this);for(var a=[],b=0;b&lt;this.j.length;b++)a.push(this.da[this.j[b]]);return a};Kc.prototype.Sa=function(){Lc(this);return this.j.concat()};Kc.prototype.pa=function(a){return Nc(this.da,a)};Kc.prototype.remove=function(a){return Nc(this.da,a)?(delete this.da[a],this.B--,this.jd++,this.j.length&gt;2*this.B&amp;&amp;Lc(this),!0):!1};var Lc=function(a){if(a.B!=a.j.length){for(var b=0,c=0;b&lt;a.j.length;){var d=a.j[b];Nc(a.da,d)&amp;&amp;(a.j[c++]=d);b++}a.j.length=c}if(a.B!=a.j.length){for(var e={},c=b=0;b&lt;a.j.length;)d=a.j[b],Nc(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}};_.h=Kc.prototype;_.h.get=function(a,b){return Nc(this.da,a)?this.da[a]:b};_.h.set=function(a,b){Nc(this.da,a)||(this.B++,this.j.push(a),this.jd++);this.da[a]=b};_.h.addAll=function(a){var b;if(a instanceof Kc)b=a.Sa(),a=a.Fa();else{b=[];var c=0,d;for(d in a)b[c++]=d;c=[];d=0;for(var e in a)c[d++]=a[e];a=c}for(e=0;e&lt;b.length;e++)this.set(b[e],a[e])};_.h.forEach=function(a,b){for(var c=this.Sa(),d=0;d&lt;c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};_.h.clone=function(){return new Kc(this)};_.h.cg=function(a){Lc(this);var b=0,c=this.jd,d=this,e=new Jc;e.next=function(){if(c!=d.jd)throw Error(&quot;The map has changed since the iterator was created&quot;);if(b&gt;=d.j.length)throw Ic;var e=d.j[b++];return a?e:d.da[e]};return e};var Nc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Oc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Qc=function(a){if(Pc){Pc=!1;var b=_.l.location;if(b){var c=b.href;if(c&amp;&amp;(c=(c=Qc(c)[3]||null)?(0,window.decodeURI)(c):c)&amp;&amp;c!=b.hostname)throw Pc=!0,Error();}}return a.match(Oc)},Pc=_.db,Rc=function(a,b){for(var c=a.split(&quot;&amp;&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;),f=null,g=null;0&lt;=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?(0,window.decodeURIComponent)(g.replace(/\+/g,&quot; &quot;)):&quot;&quot;)}};var Sc=function(a,b){this.Pa=this.$a=this.La=&quot;&quot;;this.qb=null;this.Ra=this.ea=&quot;&quot;;this.M=this.Zg=!1;var c;if(a instanceof Sc)this.M=_.n(b)?b:a.M,Tc(this,a.La),c=a.$a,O(this),this.$a=c,Uc(this,a.Pa),Vc(this,a.qb),c=a.ea,O(this),this.ea=c,Wc(this,a.va.clone()),c=a.Ra,O(this),this.Ra=c;else if(a&amp;&amp;(c=Qc(String(a)))){this.M=!!b;Tc(this,c[1]||&quot;&quot;,!0);var d=c[2]||&quot;&quot;;O(this);this.$a=Xc(d);Uc(this,c[3]||&quot;&quot;,!0);Vc(this,c[4]);d=c[5]||&quot;&quot;;O(this);this.ea=Xc(d,!0);Wc(this,c[6]||&quot;&quot;,!0);c=c[7]||&quot;&quot;;O(this);this.Ra=Xc(c)}else this.M=!!b,this.va=new Yc(null,0,this.M)};Sc.prototype.toString=function(){var a=[],b=this.La;b&amp;&amp;a.push(Zc(b,$c,!0),&quot;:&quot;);if(b=this.Pa){a.push(&quot;//&quot;);var c=this.$a;c&amp;&amp;a.push(Zc(c,$c,!0),&quot;@&quot;);a.push((0,window.encodeURIComponent)(String(b)).replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;));b=this.qb;null!=b&amp;&amp;a.push(&quot;:&quot;,String(b))}if(b=this.ea)this.Pa&amp;&amp;&quot;/&quot;!=b.charAt(0)&amp;&amp;a.push(&quot;/&quot;),a.push(Zc(b,&quot;/&quot;==b.charAt(0)?ad:bd,!0));(b=this.va.toString())&amp;&amp;a.push(&quot;?&quot;,b);(b=this.Ra)&amp;&amp;a.push(&quot;#&quot;,Zc(b,cd));return a.join(&quot;&quot;)};Sc.prototype.resolve=function(a){var b=this.clone(),c=!!a.La;c?Tc(b,a.La):c=!!a.$a;if(c){var d=a.$a;O(b);b.$a=d}else c=!!a.Pa;c?Uc(b,a.Pa):c=null!=a.qb;d=a.ea;if(c)Vc(b,a.qb);else if(c=!!a.ea){if(&quot;/&quot;!=d.charAt(0))if(this.Pa&amp;&amp;!this.ea)d=&quot;/&quot;+d;else{var e=b.ea.lastIndexOf(&quot;/&quot;);-1!=e&amp;&amp;(d=b.ea.substr(0,e+1)+d)}e=d;if(&quot;..&quot;==e||&quot;.&quot;==e)d=&quot;&quot;;else if(-1!=e.indexOf(&quot;./&quot;)||-1!=e.indexOf(&quot;/.&quot;)){for(var d=0==e.lastIndexOf(&quot;/&quot;,0),e=e.split(&quot;/&quot;),f=[],g=0;g&lt;e.length;){var k=e[g++];&quot;.&quot;==k?d&amp;&amp;g==e.length&amp;&amp;f.push(&quot;&quot;):&quot;..&quot;==k?((1&lt;f.length||1==f.length&amp;&amp;&quot;&quot;!=f[0])&amp;&amp;f.pop(),d&amp;&amp;g==e.length&amp;&amp;f.push(&quot;&quot;)):(f.push(k),d=!0)}d=f.join(&quot;/&quot;)}else d=e}c?(O(b),b.ea=d):c=&quot;&quot;!==a.va.toString();c?Wc(b,Xc(a.va.toString())):c=!!a.Ra;c&amp;&amp;(a=a.Ra,O(b),b.Ra=a);return b};Sc.prototype.clone=function(){return new Sc(this)};var Tc=function(a,b,c){O(a);a.La=c?Xc(b,!0):b;a.La&amp;&amp;(a.La=a.La.replace(/:$/,&quot;&quot;))},Uc=function(a,b,c){O(a);a.Pa=c?Xc(b,!0):b},Vc=function(a,b){O(a);if(b){b=Number(b);if((0,window.isNaN)(b)||0&gt;b)throw Error(&quot;Bad port number &quot;+b);a.qb=b}else a.qb=null},Wc=function(a,b,c){O(a);b instanceof Yc?(a.va=b,a.va.te(a.M)):(c||(b=Zc(b,dd)),a.va=new Yc(b,0,a.M))},O=function(a){if(a.Zg)throw Error(&quot;Tried to modify a read-only Uri&quot;);};Sc.prototype.te=function(a){this.M=a;this.va&amp;&amp;this.va.te(a);return this};var Xc=function(a,b){return a?b?(0,window.decodeURI)(a.replace(/%25/g,&quot;%2525&quot;)):(0,window.decodeURIComponent)(a):&quot;&quot;},Zc=function(a,b,c){return _.r(a)?(a=(0,window.encodeURI)(a).replace(b,ed),c&amp;&amp;(a=a.replace(/%25([0-9a-fA-F]{2})/g,&quot;%$1&quot;)),a):null},ed=function(a){a=a.charCodeAt(0);return&quot;%&quot;+(a&gt;&gt;4&amp;15).toString(16)+(a&amp;15).toString(16)},$c=/[#\/\?@]/g,bd=/[\#\?:]/g,ad=/[\#\?]/g,dd=/[\#\?@]/g,cd=/#/g,Yc=function(a,b,c){this.B=this.v=null;this.L=a||null;this.M=!!c},fd=function(a){a.v||(a.v=new Kc,a.B=0,a.L&amp;&amp;Rc(a.L,function(b,c){a.add((0,window.decodeURIComponent)(b.replace(/\+/g,&quot; &quot;)),c)}))};_.h=Yc.prototype;_.h.add=function(a,b){fd(this);this.L=null;a=gd(this,a);var c=this.v.get(a);c||this.v.set(a,c=[]);c.push(b);this.B++;return this};_.h.remove=function(a){fd(this);a=gd(this,a);return this.v.pa(a)?(this.L=null,this.B-=this.v.get(a).length,this.v.remove(a)):!1};_.h.pa=function(a){fd(this);a=gd(this,a);return this.v.pa(a)};_.h.Sa=function(){fd(this);for(var a=this.v.Fa(),b=this.v.Sa(),c=[],d=0;d&lt;b.length;d++)for(var e=a[d],f=0;f&lt;e.length;f++)c.push(b[d]);return c};_.h.Fa=function(a){fd(this);var b=[];if(_.r(a))this.pa(a)&amp;&amp;(b=Na(b,this.v.get(gd(this,a))));else{a=this.v.Fa();for(var c=0;c&lt;a.length;c++)b=Na(b,a[c])}return b};_.h.set=function(a,b){fd(this);this.L=null;a=gd(this,a);this.pa(a)&amp;&amp;(this.B-=this.v.get(a).length);this.v.set(a,[b]);this.B++;return this};_.h.get=function(a,b){var c=a?this.Fa(a):[];return 0&lt;c.length?String(c[0]):b};_.h.toString=function(){if(this.L)return this.L;if(!this.v)return&quot;&quot;;for(var a=[],b=this.v.Sa(),c=0;c&lt;b.length;c++)for(var d=b[c],e=(0,window.encodeURIComponent)(String(d)),d=this.Fa(d),f=0;f&lt;d.length;f++){var g=e;&quot;&quot;!==d[f]&amp;&amp;(g+=&quot;=&quot;+(0,window.encodeURIComponent)(String(d[f])));a.push(g)}return this.L=a.join(&quot;&amp;&quot;)};_.h.clone=function(){var a=new Yc;a.L=this.L;this.v&amp;&amp;(a.v=this.v.clone(),a.B=this.B);return a};var gd=function(a,b){var c=String(b);a.M&amp;&amp;(c=c.toLowerCase());return c};Yc.prototype.te=function(a){a&amp;&amp;!this.M&amp;&amp;(fd(this),this.L=null,this.v.forEach(function(a,c){var d=c.toLowerCase();c!=d&amp;&amp;(this.remove(c),this.remove(d),0&lt;a.length&amp;&amp;(this.L=null,this.v.set(gd(this,d),_.Oa(a)),this.B+=a.length))},this));this.M=a};var hd=B(&quot;Android&quot;)&amp;&amp;!($a()||B(&quot;Firefox&quot;)||Ya()||B(&quot;Silk&quot;));$a();var P;P={Zf:0,ma:1,URL:2,ka:3,ia:4,kc:5,jc:7,FAVICON:8,ic:9,la:6,Le:10,pd:11,od:12,Ke:13,hc:14,nd:15,qd:16,Me:17,md:18,Je:19,Yf:20,Ie:21,ag:22,Eb:23,Bb:24,Db:25,Cb:26,ld:27,rd:28,$f:1E3};_.id=[P.pd,P.od,P.qd,P.md,P.ld,P.rd];_.Q={};_.Q[P.Zf]=&quot;c&quot;;_.Q[P.ma]=&quot;t&quot;;_.Q[P.URL]=&quot;u&quot;;_.Q[P.ka]=&quot;b&quot;;_.Q[P.ia]=&quot;a&quot;;_.Q[P.kc]=&quot;s&quot;;_.Q[P.FAVICON]=&quot;f&quot;;_.Q[P.ic]=&quot;g&quot;;_.Q[P.la]=&quot;i&quot;;_.Q[P.Le]=&quot;ih&quot;;_.Q[P.pd]=&quot;ib&quot;;_.Q[P.od]=&quot;ic&quot;;_.Q[P.jc]=&quot;r&quot;;_.Q[P.qd]=&quot;ig&quot;;_.Q[P.Ke]=&quot;cre&quot;;_.Q[P.hc]=&quot;addr&quot;;_.Q[P.nd]=&quot;ia&quot;;_.Q[P.Me]=&quot;mf&quot;;_.Q[P.md]=&quot;bc&quot;;_.Q[P.Je]=&quot;cl&quot;;_.Q[P.Yf]=&quot;c1ct&quot;;_.Q[P.Ie]=&quot;amo&quot;;_.Q[P.Cb]=&quot;pr&quot;;_.Q[P.Eb]=&quot;rv&quot;;_.Q[P.Bb]=&quot;asi&quot;;_.Q[P.Db]=&quot;ph&quot;;_.Q[P.ld]=&quot;at&quot;;_.Q[P.rd]=&quot;mb&quot;;_.Q[P.$f]=&quot;e&quot;;var jd=function(a,b,c,d){b=c(d,b);if(!(b instanceof Array))return a;(0,_.Ka)(b,function(b){if(2!==b.length&amp;&amp;3!==b.length)return a;a=Hc(a,b[0],b[1],b[2],!0)});return a},kd=function(a,b,c){if(window.ona){_.M(a);a=b.href;a:{if(window.ona){if(c.match(/itunes[.]apple[.]com/)){if(window.onc)window.onc(a),window.ona(c);else window.ona(a);c=!0;break a}c=a;if(c.match(/market[.]android[.]com|play[.]google[.]com/)&amp;&amp;c.match(/[\?&amp;]sa=L/)&amp;&amp;!c.match(/googleadservices[.]com/)){var d=window.location.host;if(d){b=1;for(var e=d.split(&quot;:&quot;),d=[];0&lt;b&amp;&amp;e.length;)d.push(e.shift()),b--;e.length&amp;&amp;d.push(e.join(&quot;:&quot;));b=d[0];d=d[1];c=new Sc(c);Uc(c,b);Vc(c,d);c=c.toString()}c=c.replace(&quot;?&quot;,&quot;?&quot;+(0,window.encodeURIComponent)(&quot;rct&quot;)+&quot;=&quot;+(0,window.encodeURIComponent)(&quot;j&quot;)+&quot;&amp;&quot;);b=new window.XMLHttpRequest;b.open(&quot;GET&quot;,c,!1);window.jstiming&amp;&amp;_.ga(window.jstiming.report)?(d=new window.jstiming.Timer,b.send(),d.tick(&quot;cr_csr&quot;),window.jstiming.report(d)):b.send();b.responseText&amp;&amp;(b=b.responseText.match(/URL=\&#39;([^\&#39;]*)\&#39;/),1&lt;b.length&amp;&amp;(c=b[1].replace(/&amp;amp;/g,&quot;&amp;&quot;)));c=hd||eb?c.replace(/https?:\/\/(market.android.com|play.google.com\/store\/apps)\//,&quot;market://&quot;):c}else c=null;if(c){window.ona(c);c=!0;break a}}c=!1}if(!c)window.ona(a)}};var ld=function(a){this.Aa=a;this.Fe=[];this.mc=[];this.Wd={};this.s={};this.xf=1;this.$b=&quot;data-original-click-url&quot;;this.qe=&quot;data-landing-url&quot;;this.ya={};this.Yd=!1;this.uc=[]};ld.prototype.Vc=function(a){this.mc.push(a)};var md=function(a,b,c){var d=b=b.getAttribute(a.$b);if(d)for(var e=0;e&lt;a.Fe.length;e++)d=jd(d,b,a.Fe[e],c);return d},nd=function(a,b,c,d){if(0!=a.mc.length&amp;&amp;!_.Sb(d)){_.M(d);for(var e=[],f=0;f&lt;a.mc.length;f++){var g=a.mc[f](c);if(g){var k=new N(function(a){_.J(window,g,a)});e.push(k)}}c=mc(e);e=new N(function(a){window.setTimeout(a,2E3)});lc([c,e]).then((0,_.u)(ld.prototype.sh,a,b,d))}};ld.prototype.sh=function(a,b){this.Yd=!0;var c=!1;b.target&amp;&amp;(c=Rb(b.target,&quot;click&quot;,b.button,b.ctrlKey,b.shiftKey,b.metaKey));a.href&amp;&amp;!c&amp;&amp;(_.L.top.location=a.href)};ld.prototype.Bg=function(a,b,c,d){if(this.Yd)this.Yd=!1;else{d||(d=window.event);_.Ra(this.s[c][b],function(a){a(d)});var e=md(this,a,d.type);e&amp;&amp;(this.ya[b]?a.ping=e:a.href=e);&quot;click&quot;==c&amp;&amp;nd(this,a,b,d);od(this);&quot;click&quot;!=c||_.Sb(d)||kd(d,a,Ia(this.Aa))}};var pd=function(a,b,c,d){a.s[d]||(a.s[d]={});a.s[d][c]||(a.s[d][c]={});a=(0,_.u)(a.Bg,a,b,c,d);_.I(b,d,a,void 0)};_.h=ld.prototype;_.h.K=function(a,b){for(var c=0;c&lt;a.length;c++){var d=a[c];d.setAttribute(this.$b,d.href);pd(this,d,b,&quot;mousedown&quot;);pd(this,d,b,&quot;click&quot;)}this.Wd[b]=!0};_.h.gd=function(a,b){this.ya[b]=!0;for(var c=0;c&lt;a.length;c++){var d=a[c];d.ping&amp;&amp;(d.setAttribute(this.$b,d.ping),d.setAttribute(this.qe,d.href))}};_.h.rc=function(a,b){if(!(b in this.ya)){this.ya[b]=!1;for(var c=0;c&lt;a.length;c++){var d=a[c];d.ping&amp;&amp;(d.setAttribute(this.$b,d.ping),d.href=d.ping,d.removeAttribute(&quot;ping&quot;))}}};_.h.bd=function(a,b){if(this.ya[b]){this.ya[b]=!1;for(var c=0;c&lt;a.length;c++){var d=a[c];d.getAttribute(this.qe)&amp;&amp;(d.href=d.ping,d.removeAttribute(&quot;ping&quot;))}}};_.h.Yc=function(a,b){if(b in this.ya&amp;&amp;!this.ya[b]){this.ya[b]=!0;for(var c=0;c&lt;a.length;c++){var d=a[c],e=d.getAttribute(this.qe);e&amp;&amp;(d.ping=d.getAttribute(this.$b),d.href=e)}}};_.h.queueOnObjectAfterClickModifiers=function(a,b,c,d){this.uc.push({eg:a,Ld:b,zg:c,lg:d})};var od=function(a){for(var b=0;b&lt;a.uc.length;b++){var c=a.uc[b],d=c.eg,e=c.Ld,f=c.zg;c.lg&amp;&amp;_.Sb(f)||d.fireOnObject(e,f)}a.uc=[]};var qd;qd=&quot;undefined&quot;!=typeof window.DOMTokenList;_.rd=function(a,b){if(qd){var c=a.classList;0==c.contains(b)&amp;&amp;c.toggle(b)}else if(c=a.className){for(var c=c.split(/\s+/),d=!1,e=0;e&lt;c.length&amp;&amp;!d;++e)d=c[e]==b;d||(c.push(b),a.className=c.join(&quot; &quot;))}else a.className=b};_.sd=function(a,b){if(qd){var c=a.classList;1==c.contains(b)&amp;&amp;c.toggle(b)}else if((c=a.className)&amp;&amp;!(0&gt;c.indexOf(b))){for(var c=c.split(/\s+/),d=0;d&lt;c.length;++d)c[d]==b&amp;&amp;c.splice(d--,1);a.className=c.join(&quot; &quot;)}};var td;_.ud=function(a,b,c){try{if(Math.random()&lt;(c||.01)){var d=&quot;/pagead/gen_204?id=&quot;+a+td(b),e=&quot;http&quot;+(&quot;http:&quot;==_.L.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+d,e=e.substring(0,2E3);_.J(_.L,e,void 0)}}catch(f){}};td=function(a){var b=&quot;&quot;;_.Qb(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+da(a)});return b};var R=function(a,b,c,d){d&amp;&amp;(b=d+&quot;.&quot;+b);la(a,b,function(){var a={method:b,cl:92490213};try{if(window.Error&amp;&amp;window.Error.captureStackTrace){var d={};window.Error.captureStackTrace(d);a.stack=String(d.stack)}}catch(g){}_.ud(&quot;hydra_unrenamed_method&quot;,a);return c.apply(this,arguments)})};_.S=function(a,b,c){this.Ud=new _.H;this.l=a;this.l[0]=[b];this.wf=[];this.Kb=b.style.display;this.$=new ld(c);this.Aa=c;if(b=window.document.getElementById(&quot;common_15click_anchor&quot;))a[20]=[b],this.K(20)};_.h=_.S.prototype;_.h.navigationAdPieces=function(){return this.wf};_.h.Xd=function(){return!0};_.h.hide=function(){for(var a=this.l[0],b=0;b&lt;a.length;b++)a[b].style.display=&quot;none&quot;};_.h.reset=function(){for(var a=this.l[0],b=0;b&lt;a.length;b++)a[b].style.display=this.Kb};_.h.has=function(a){return(a=this.l[a])&amp;&amp;0&lt;a.length};_.h.listen=function(a,b,c){var d=this.l[a];if(d){var e=this.$,f=Fc(b),g=(&quot;click&quot;==b||&quot;mousedown&quot;==b)&amp;&amp;e.Wd[a],k=Gc(d,b,_.v(c,a,this));e.s[f]||(e.s[f]={});e.s[f][a]||(e.s[f][a]={});var m=e.xf;e.s[f][a][m]=k;e.xf=m+1;if(!g)for(e=0;e&lt;d.length;e++)_.I(d[e],f,k,void 0);c.na||(c.na={});c.na[b]||(c.na[b]={});c.na[b][a]=m}};_.h.unlisten=function(a,b,c){var d;if(c.na&amp;&amp;c.na[b]&amp;&amp;c.na[b][a]){var e=c.na[b][a];delete c.na[b][a];d=e}else d=-1;if(c=this.l[a]){var f=this.$,e=Fc(b);b=(&quot;click&quot;==b||&quot;mousedown&quot;==b)&amp;&amp;f.Wd[a];if(f.s[e]&amp;&amp;f.s[e][a]){var g=f.s[e][a][d];delete f.s[e][a][d];a=g}else a=null;if(a&amp;&amp;!b)for(b=0;b&lt;c.length;b++)Pb(c[b],e,a,void 0)}};_.h.Ed=function(a,b,c,d,e,f){if(a=this.l[a])for(var g=0;g&lt;a.length;g++){var k=b,k=Fc(k);Rb(a[g],k,c,d,e,f)}};_.h.registerClickUrlModifier=function(a){this.$.Fe.push(a)};_.h.Vc=function(a){this.$.Vc(a)};_.h.modifyCssClass=function(a,b,c){if(b&amp;&amp;(a=this.l[a]))for(var d=0;d&lt;a.length;d++)(c?_.sd:_.rd)(a[d],b)};_.h.getComputedStyle=function(a){return(a=this.l[a])&amp;&amp;0&lt;a.length?window.getComputedStyle(a[0]):null};var vd=function(a,b){var c=a.l[b];if(!c||!c[0])return&quot;rgb(255, 255, 255)&quot;;c=c[0].parentElement;if(!c)return&quot;rgb(255, 255, 255)&quot;;for(var d=/rgba\([ \d]+,[ \d]+,[ \d]+,[ 0\.]+\)/;c;){var e=window.getComputedStyle(c).backgroundColor;if(e&amp;&amp;!d.exec(e)&amp;&amp;&quot;transparent&quot;!=e)return e;c=c.parentElement}return&quot;rgb(255, 255, 255)&quot;};_.h=_.S.prototype;_.h.nf=function(a){return(a=this.l[a])&amp;&amp;0&lt;a.length?_.Ec(a[0]):&quot;&quot;};_.h.getAttribute=function(a,b){var c=this.l[a];if(c&amp;&amp;b)for(var d=0;d&lt;c.length;d++){var e=c[d].getAttribute(b);if(e)return e}return null};_.h.setAttribute=function(a,b,c){(a=this.l[a])&amp;&amp;0&lt;a.length&amp;&amp;b&amp;&amp;a[0].setAttribute(b,c)};_.h.removeAttribute=function(a,b){var c=this.l[a];c&amp;&amp;0&lt;c.length&amp;&amp;b&amp;&amp;c[0].removeAttribute(b)};_.h.Oe=function(a,b){var c=this.l[a];if(window.CreateScrollerForElement)for(var d=0;d&lt;c.length;d++){var e=c[d];if(e)for(e=yc(b,e),d=0;d&lt;e.length;d++)window.CreateScrollerForElement(e[d],!1,!0,!0)}};_.h.getBoundingClientRect=function(a){return(a=this.l[a])?a[0].getBoundingClientRect():null};_.h.forEachAdPiece=function(a){var b=this.l;_.Ra(P,function(c){b[c]&amp;&amp;0&lt;b[c].length&amp;&amp;a(c)})};_.h.K=function(a){this.l[a]&amp;&amp;this.Xd(a)&amp;&amp;(this.wf.push(a),this.$.K(this.l[a],a))};_.h.gd=function(a){this.l[a]&amp;&amp;this.$.gd(this.l[a],a)};_.h.rc=function(a){this.l[a]&amp;&amp;this.$.rc(this.l[a],a)};_.h.bd=function(a){this.l[a]&amp;&amp;this.$.bd(this.l[a],a)};_.h.Yc=function(a){this.l[a]&amp;&amp;this.$.Yc(this.l[a],a)};_.h.Vb=function(a){a=this.l[a];if(!a)return!1;for(var b=0;b&lt;a.length;b++)if(!a[b].href)return!1;return!0};_.h.creativeConversionUrl=function(){var a=this.Aa.g[5];return null!=a?a:&quot;&quot;};_.h.adGroupCreativeId=function(){var a=this.Aa.g[6];return null!=a?a:&quot;&quot;};_.h.redirectUrl=function(){var a=this.Aa.g[7];return null!=a?a:&quot;&quot;};_.h.getIndex=function(){return this.Aa.getIndex()};_.h.V=function(){return this.Aa.V()};_.h.U=function(){return this.Aa.U()};_.h.listenOnObject=function(a,b){_.Bb(this.Ud,a,b)};_.h.unlistenOnObject=function(a,b){Ib(this.Ud,a,b)};_.h.fireOnObject=function(a,b){var c=this.Ud;_.rb(c)?Nb(c,a,!1,b):Lb(c,a,!1,b)};_.h.queueOnObjectAfterClickModifiers=function(a,b,c){this.$.queueOnObjectAfterClickModifiers(this,a,b,c)};_.S.prototype.modifyCssClass=_.S.prototype.modifyCssClass;_.S.prototype.has=_.S.prototype.has;_.S.prototype.listen=_.S.prototype.listen;_.S.prototype.unlisten=_.S.prototype.unlisten;R(_.S.prototype,&quot;dispatchMouseEvent&quot;,_.S.prototype.Ed);_.S.prototype.registerClickUrlModifier=_.S.prototype.registerClickUrlModifier;R(_.S.prototype,&quot;usePingClickTracking&quot;,_.S.prototype.gd);R(_.S.prototype,&quot;disablePingClickTracking&quot;,_.S.prototype.rc);R(_.S.prototype,&quot;suspendPingClickTracking&quot;,_.S.prototype.bd);R(_.S.prototype,&quot;restorePingClickTracking&quot;,_.S.prototype.Yc);R(_.S.prototype,&quot;registerBeaconUrlBuilder&quot;,_.S.prototype.Vc);_.S.prototype.hide=_.S.prototype.hide;_.S.prototype.reset=_.S.prototype.reset;_.S.prototype.forEachAdPiece=_.S.prototype.forEachAdPiece;_.S.prototype.getAttribute=_.S.prototype.getAttribute;_.S.prototype.setAttribute=_.S.prototype.setAttribute;_.S.prototype.removeAttribute=_.S.prototype.removeAttribute;_.S.prototype.getBoundingClientRect=_.S.prototype.getBoundingClientRect;R(_.S.prototype,&quot;addScroller&quot;,_.S.prototype.Oe);R(_.S.prototype,&quot;hasHref&quot;,_.S.prototype.Vb);_.S.prototype.creativeConversionUrl=_.S.prototype.creativeConversionUrl;_.S.prototype.adGroupCreativeId=_.S.prototype.adGroupCreativeId;_.S.prototype.redirectUrl=_.S.prototype.redirectUrl;_.S.prototype.getIndex=_.S.prototype.getIndex;R(_.S.prototype,&quot;getWidth&quot;,_.S.prototype.V,&quot;Ad&quot;);R(_.S.prototype,&quot;getHeight&quot;,_.S.prototype.U,&quot;Ad&quot;);_.S.prototype.listenOnObject=_.S.prototype.listenOnObject;_.S.prototype.unlistenOnObject=_.S.prototype.unlistenOnObject;_.S.prototype.fireOnObject=_.S.prototype.fireOnObject;_.S.prototype.navigationAdPieces=_.S.prototype.navigationAdPieces;_.S.prototype.queueOnObjectAfterClickModifiers=_.S.prototype.queueOnObjectAfterClickModifiers;var xd=function(a,b,c){_.S.call(this,a,b,c);for(a=0;a&lt;wd.length;a++)this.K(wd[a]);this.listen(4,&quot;mouseover&quot;,(0,_.u)(this.modifyCssClass,this,0,&quot;onhoverbg&quot;,!1));this.listen(4,&quot;mouseout&quot;,(0,_.u)(this.modifyCssClass,this,0,&quot;onhoverbg&quot;,!0))};_.x(xd,_.S);var wd=[P.ma,P.URL,P.ia,P.kc,P.jc,P.FAVICON,P.ka,P.ic,P.la,P.hc,P.nd],yd={ma:&quot;rhtitle&quot;,ka:&quot;rhbody&quot;,URL:&quot;rhurl&quot;,ia:&quot;rhbutton&quot;,FAVICON:&quot;rhfavicon&quot;,hc:&quot;rhaddress&quot;,la:&quot;rhimage&quot;,qd:&quot;rhimagegallery&quot;,Le:&quot;rhimage-container&quot;,pd:&quot;rhexpand-button&quot;,od:&quot;rhimage-collapsed&quot;,ic:&quot;rhbackground&quot;,Ke:&quot;rh-icore-empty&quot;,kc:&quot;rhsitelink&quot;,jc:&quot;rhradlink&quot;,Me:&quot;rh-multiframe&quot;,md:&quot;rh-box-breadcrumbs&quot;,Ie:&quot;rh-ms-mute-overlay&quot;,ag:&quot;rh-ms-mute-undo&quot;,Eb:&quot;rhstarratings&quot;,Bb:&quot;rh-box-store-icon&quot;,Db:&quot;rhpromotext&quot;,Cb:&quot;rhprice&quot;,ld:&quot;abgc&quot;,rd:&quot;cbc&quot;},zd=function(a){var b={};b[0]=[a];for(var c in yd){var d=P[c],e=b,f=_.xc(null,yd[c],a);e[d]=[];for(var g=0;g&lt;f.length;g++)e[d].push(f[g])}return b};xd.prototype.Xd=function(a){return this.Vb(a)||4==a};_.p(&quot;buildRhTextAd&quot;,function(a){a=new _.y(a);var b=a.getIndex();if(b=window.document.getElementById(&quot;taw&quot;+b)){var c=zd(b);a=new xd(c,b,a)}else a=null;return a},void 0);var T=function(a,b,c){_.H.call(this);this.oa=a;this.Kb=&quot;none&quot;;this.oa&amp;&amp;(this.Kb=this.oa.style.display);this.F=b;this.g=c;this.s={};this.fe=[];this.qf=!1;this.ha=[]};_.x(T,_.H);T.prototype.forEachAd=function(a){(0,_.Ka)(this.F,a)};T.prototype.vd=function(a){this.F.push(a)};_.Ad=function(a){a=new T(null,[],new sa(a));_.p(&quot;adSlot&quot;,a,void 0);return a};_.h=T.prototype;_.h.ff=function(a){if(a=window.document.getElementById(a))this.oa=a,this.Kb=this.oa.style.display;if(0==this.F.length)window.css=null;else{window.SlideConstructor&amp;&amp;0&lt;this.F.length&amp;&amp;new window.SlideConstructor(this.F[0],this,wa(this.g));window.GridConstructor&amp;&amp;0&lt;this.F.length&amp;&amp;new window.GridConstructor(this,wa(this.g));window.ImageExpandConstructor&amp;&amp;1==this.F.length&amp;&amp;new window.ImageExpandConstructor(this,wa(this.g));window.OneClickConstructor&amp;&amp;0&lt;this.F.length&amp;&amp;new window.OneClickConstructor(this,0);window.OnePointFiveClickConstructor&amp;&amp;0&lt;this.F.length&amp;&amp;new window.OnePointFiveClickConstructor(this,Da(z(this.g)),Ea(z(this.g)),Fa(z(this.g)),Ha(z(this.g)),Ga(z(this.g)));window.OnePointFiveClickExpConstructor&amp;&amp;0&lt;this.F.length&amp;&amp;(a=z(this.g).g[5],new window.OnePointFiveClickExpConstructor(this,Da(z(this.g)),Ea(z(this.g)),Fa(z(this.g)),Ha(z(this.g)),Ga(z(this.g)),null!=a?a:!1));if(window.IntentfulClickConstructor&amp;&amp;0&lt;this.F.length){a=Ba(this.g).g[0];var b=Ba(this.g).g[1],c=Ba(this.g).g[2];new window.IntentfulClickConstructor(this,null!=a?a:&quot;&quot;,null!=b?b:!1,null!=c?c:!1)}window.MultiframeConstructor&amp;&amp;new window.MultiframeConstructor(this,wa(this.g));if(a=window.ona)a=this.g.g[4],a=!(null!=a&amp;&amp;a);a&amp;&amp;(window.ona=null);for(a=0;a&lt;this.fe.length;++a)this.fe[a]();this.qf=!0}};_.h.listenOnContainer=function(a,b){var c=Gc([this.oa],a,_.v(b,this));_.I(this.oa,Fc(a),c,void 0);this.s[a]||(this.s[a]=new Ob);this.s[a].set(b,c)};_.h.unlistenOnContainer=function(a,b){var c;this.s[a]&amp;&amp;this.s[a].pa(b)?(c=this.s[a].get(b),this.s[a].remove(b)):c=null;c&amp;&amp;Pb(this.oa,Fc(a),c,void 0)};_.h.listenOnObject=function(a,b){_.Bb(this,a,b)};_.h.unlistenOnObject=function(a,b){Ib(this,a,b)};_.h.fireOnObject=function(a,b){b.Ih=this;_.rb(this)?Nb(this,a,!1,b):Lb(this,a,!1,b)};_.h.registerFinalizeCallback=function(a){this.qf?a():this.fe.push(a)};_.h.registerWidget=function(a,b){0&lt;=Ja(this.ha,a)||(this.ha[b]=a,a.reset(this))};var Bd=function(a){a.oa.style.display=&quot;none&quot;;for(var b=0;b&lt;a.ha.length;b++)a.ha[b]&amp;&amp;a.ha[b].hide(a)};T.prototype.resetAll=function(){this.oa.style.display=this.Kb;for(var a=0;a&lt;this.ha.length;a++)this.ha[a]&amp;&amp;this.ha[a].reset(this)};T.prototype.showOnly=function(a){var b=this;Bd(this);Cd(this,a,function(a){a.show(b)})};var Cd=function(a,b,c){a.ha[b]&amp;&amp;c(a.ha[b])};_.h=T.prototype;_.h.isDirectContent=function(){var a=this.g.g[14];return null!=a?a:!1};_.h.Yg=function(){return wa(this.g)};_.h.getEscapedQemQueryId=function(){return this.g.getEscapedQemQueryId()};_.h.getEscapedGwsQueryId=function(){return this.g.getEscapedGwsQueryId()};_.h.getWebProperty=function(){return this.g.getWebProperty()};_.h.V=function(){return this.g.V()};_.h.U=function(){return this.g.U()};_.h.zc=function(){return this.g.zc()};_.h.wc=function(){return this.g.wc()};_.h.yc=function(){return this.g.yc()};_.h.xc=function(){return this.g.xc()};_.h.Rb=function(){return this.g.Rb()};_.h.getSerializedAdSlotData=function(){return this.g.ec()};_.h.getAdsLength=function(){return this.F.length};_.h.getAd=function(a){return 0&lt;=a&amp;&amp;a&lt;this.F.length&amp;&amp;this.F[a].getIndex()==a?this.F[a]:null};T.prototype.forEachAd=T.prototype.forEachAd;T.prototype.addAd=T.prototype.vd;T.prototype.finalize=T.prototype.ff;T.prototype.registerFinalizeCallback=T.prototype.registerFinalizeCallback;T.prototype.listenOnContainer=T.prototype.listenOnContainer;T.prototype.unlistenOnContainer=T.prototype.unlistenOnContainer;T.prototype.registerWidget=T.prototype.registerWidget;T.prototype.resetAll=T.prototype.resetAll;T.prototype.showOnly=T.prototype.showOnly;T.prototype.isDirectContent=T.prototype.isDirectContent;R(T.prototype,&quot;isMobile&quot;,T.prototype.Yg);T.prototype.getEscapedQemQueryId=T.prototype.getEscapedQemQueryId;T.prototype.getEscapedGwsQueryId=T.prototype.getEscapedGwsQueryId;T.prototype.getWebProperty=T.prototype.getWebProperty;R(T.prototype,&quot;getWidth&quot;,T.prototype.V,&quot;AdSlot&quot;);R(T.prototype,&quot;getHeight&quot;,T.prototype.U,&quot;AdSlot&quot;);R(T.prototype,&quot;getAdsBodyWidth&quot;,T.prototype.zc);R(T.prototype,&quot;getAdsBodyHeight&quot;,T.prototype.wc);R(T.prototype,&quot;getAdsBodyTop&quot;,T.prototype.yc);R(T.prototype,&quot;getAdsBodyLeft&quot;,T.prototype.xc);R(T.prototype,&quot;getAdKey&quot;,T.prototype.Rb);T.prototype.getAdsLength=T.prototype.getAdsLength;T.prototype.getAd=T.prototype.getAd;T.prototype.listenOnObject=T.prototype.listenOnObject;T.prototype.unlistenOnObject=T.prototype.unlistenOnObject;T.prototype.fireOnObject=T.prototype.fireOnObject;T.prototype.getSerializedAdSlotData=T.prototype.getSerializedAdSlotData;_.p(&quot;buildAdSlot&quot;,_.Ad,void 0);var Dd=function(a,b){var c=void 0;if(0&gt;c||void 0==c){c=null;try{c=a.cssRules||a.rules}catch(d){if(15==d.code)throw d.styleSheet=a,d;}c=c.length}if(a.insertRule)a.insertRule(b,c);else{var e=/^([^\{]+)\{([^\{]+)\}/.exec(b);if(3==e.length)a.addRule(e[1],e[2],c);else throw Error(&quot;Your CSSRule appears to be ill-formatted.&quot;);}};var Fd=function(a){var b;a:{var c=a.match(Ed);if(c){b=Number(c[1]);var d=Number(c[2]),c=Number(c[3]);if(0&lt;=b&amp;&amp;255&gt;=b&amp;&amp;0&lt;=d&amp;&amp;255&gt;=d&amp;&amp;0&lt;=c&amp;&amp;255&gt;=c){b=[b,d,c];break a}}b=[]}if(!b.length)throw Error(a+&quot; is not a valid RGB color&quot;);return b},Gd=function(a){var b=a[0]/255,c=a[1]/255;a=a[2]/255;var d=Math.max(b,c,a),e=Math.min(b,c,a),f=0,g=0,k=.5*(d+e);d!=e&amp;&amp;(d==b?f=60*(c-a)/(d-e):d==c?f=60*(a-b)/(d-e)+120:d==a&amp;&amp;(f=60*(b-c)/(d-e)+240),g=0&lt;k&amp;&amp;.5&gt;=k?(d-e)/(2*k):(d-e)/(2-2*k));return[Math.round(f+360)%360,g,k]},Ed=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;var Id,Hd,Ld,Md,Kd;_.Jd=function(a){var b=[];Hd(new Id,a,b);return b.join(&quot;&quot;)};Id=function(){this.Xc=void 0};Hd=function(a,b,c){if(null==b)c.push(&quot;null&quot;);else{if(&quot;object&quot;==typeof b){if(_.q(b)){var d=b;b=d.length;c.push(&quot;[&quot;);for(var e=&quot;&quot;,f=0;f&lt;b;f++)c.push(e),e=d[f],Hd(a,a.Xc?a.Xc.call(d,String(f),e):e,c),e=&quot;,&quot;;c.push(&quot;]&quot;);return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push(&quot;{&quot;);f=&quot;&quot;;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&amp;&amp;(e=b[d],&quot;function&quot;!=typeof e&amp;&amp;(c.push(f),Kd(d,c),c.push(&quot;:&quot;),Hd(a,a.Xc?a.Xc.call(b,d,e):e,c),f=&quot;,&quot;));c.push(&quot;}&quot;);return}}switch(typeof b){case &quot;string&quot;:Kd(b,c);break;case &quot;number&quot;:c.push((0,window.isFinite)(b)&amp;&amp;!(0,window.isNaN)(b)?b:&quot;null&quot;);break;case &quot;boolean&quot;:c.push(b);break;case &quot;function&quot;:break;default:throw Error(&quot;Unknown type: &quot;+typeof b);}}};Ld={&#39;&quot;&#39;:&#39;\\&quot;&#39;,&quot;\\&quot;:&quot;\\\\&quot;,&quot;/&quot;:&quot;\\/&quot;,&quot;\b&quot;:&quot;\\b&quot;,&quot;\f&quot;:&quot;\\f&quot;,&quot;\n&quot;:&quot;\\n&quot;,&quot;\r&quot;:&quot;\\r&quot;,&quot;\t&quot;:&quot;\\t&quot;,&quot;\x0B&quot;:&quot;\\u000b&quot;};Md=/\uffff/.test(&quot;\uffff&quot;)?/[\\\&quot;\x00-\x1f\x7f-\uffff]/g:/[\\\&quot;\x00-\x1f\x7f-\xff]/g;Kd=function(a,b){b.push(&#39;&quot;&#39;,a.replace(Md,function(a){var b=Ld[a];b||(b=&quot;\\u&quot;+(a.charCodeAt(0)|65536).toString(16).substr(1),Ld[a]=b);return b}),&#39;&quot;&#39;)};var Nd=function(a){this.qa=a;this.Z=[]},Od=function(a,b){try{var c=Gd(Fd(a)),d=Gd(Fd(b)),e,f;e=.5&gt;=c[2]?c[1]*c[2]:c[1]*(1-c[2]);f=.5&gt;=d[2]?d[1]*d[2]:d[1]*(1-d[2]);return.15&lt;=(c[2]-d[2])*(c[2]-d[2])+e*e+f*f-2*e*f*Math.cos(2*(c[0]/360-d[0]/360)*Math.PI)}catch(g){return!1}},Pd=function(a,b){var c=(0,window.parseFloat)(a),d=(0,window.parseFloat)(b);return 0&lt;d?c/d:1E6},Qd=function(a,b){a||(a=0);b||(b=0);return Pa(a,b)},Rd=function(a,b){for(var c=0;c&lt;a.Z.length;++c)if(Ma(a.qa,function(a){return b[a]==this.Z[c].style[a]},a))return c;return-1},Sd=function(a,b,c){for(var d={},e=0;e&lt;a.qa.length;++e){var f=a.qa[e];d[f]=b[f]}b={style:d,stats:c};d=Rd(a,d);0&lt;=d?-1==a.Xe(b,a.Z[d])&amp;&amp;(a.Z[d].stats=c):a.Z.push(b)};Nd.prototype.log=function(a){for(var b=0;b&lt;this.Z.length&amp;&amp;10&gt;b;++b)_.ud(&quot;auto_css&quot;,{style:_.Jd(this.Z[b]),rank:b,qid:a},1)};Nd.prototype.sort=function(){var a=(0,_.u)(this.Xe,this);this.Z.sort(a||Pa);for(var a=[],b=0;b&lt;this.Z.length;++b){for(var c=&quot;&quot;,d=0;d&lt;this.qa.length;++d)var e=this.qa[d],c=c+(e+&quot;: &quot;+this.Z[b].style[e]+&quot; !important; &quot;);a.push(c)}return a};Nd.prototype.Xe=function(a,b){return this.compare(a.stats,b.stats)};Nd.prototype.Sc=function(a,b){Sd(this,a,b)};var U=function(a,b,c,d){xd.call(this,a,b,c);(!_.C||_.E(&quot;10&quot;))&amp;&amp;window.getComputedStyle&amp;&amp;window.postMessage&amp;&amp;(this.hide(),this.dc=[],this.ud={},this.ad={},this.ee={},a=window.document,b=a.createElement(&quot;STYLE&quot;),b.type=&quot;text/css&quot;,a.getElementsByTagName(&quot;HEAD&quot;)[0].appendChild(b),b.styleSheet?b.styleSheet.cssText=&quot;&quot;:b.appendChild(a.createTextNode(&quot;&quot;)),this.Pf=b.sheet,this.gf={},this.bf=this.Rf=!1,this.i=d)};_.x(U,xd);U.prototype.If=function(){var a=window,b=(0,_.u)(U.prototype.Og,this);_.I(a,&quot;message&quot;,b,void 0);window.setTimeout((0,_.u)(this.Rg,this),3E3);a={};a.auto_css_request=window.name;window.top.postMessage(a,&quot;*&quot;)};U.prototype.Rg=function(){this.Rf=!0;this.reset()};U.prototype.Og=function(a){if(a&amp;&amp;(!this.Rf||this.bf)&amp;&amp;(a.data.auto_css_font_css&amp;&amp;Dd(this.Pf,a.data.auto_css_font_css),a.data.auto_css_font_sheet&amp;&amp;Td(this,a.data.auto_css_font_sheet),a.data.auto_css_styles)){a=a.data.auto_css_styles;for(var b=0;b&lt;this.dc.length;++b){var c=this.dc[b];if(this.has(c)){var d=this.ud[c],e;e=c;var f={},g=this.getComputedStyle(e);g&amp;&amp;(f.bgcolor=vd(this,e),f[&quot;font-size&quot;]=g[&quot;font-size&quot;],f[&quot;font-family&quot;]=g[&quot;font-family&quot;],f.text=this.nf(e),this.reset(),e=this.getBoundingClientRect(e),f.height=e.height,f.width=e.width,this.hide());e=f;for(f=0;f&lt;a.length;++f){g=a[f];if(g.style[&quot;font-family&quot;]){var k=g.style[&quot;font-family&quot;].split(&quot;,&quot;)[0];a:for(var m=0;2&gt;m;m++){var t=&quot;&#39;\&quot;&quot;.charAt(m);if(k.charAt(0)==t&amp;&amp;k.charAt(k.length-1)==t){k=k.substring(1,k.length-1);break a}}k=(0,window.encodeURIComponent)(String(k));k=&quot;http://fonts.googleapis.com/css?family=&quot;+k;k+=&quot;|Lora&quot;;Td(this,k)}d.Sc(g.style,g.stats,e)}e=d.sort();for(f=this.ee[c]=0;f&lt;e.length;++f)Dd(this.Pf,&quot;.&quot;+Ud(c,f)+&quot;{ &quot;+e[f]+&quot; }&quot;),this.ee[c]++;this.modifyCssClass(c,Ud(c,this.ad[c]));d.log(this.i.getEscapedQemQueryId())}}this.reset()}};var Td=function(a,b){if(!a.gf[b]){if(&quot;http:&quot;!=_.L.location.protocol&amp;&amp;0==b.indexOf(&quot;http://&quot;))if(-1&lt;b.indexOf(&quot;fonts.googleapis.com&quot;))b=b.replace(&quot;http://&quot;,&quot;https://&quot;);else return;var c=window.document.createElement(&quot;link&quot;);c.href=b;c.rel=&quot;stylesheet&quot;;c.type=&quot;text/css&quot;;window.document.head.appendChild(c);a.gf[b]=!0}},Ud=function(a,b){return-1==b?&quot;&quot;:&quot;auto-css-&quot;+a+&quot;-&quot;+b};U.prototype.gg=function(a,b,c){b&amp;&amp;(this.dc.push(a),this.ud[a]=b,this.ad[a]=c)};U.prototype.Ah=function(a){0&lt;a?window.setTimeout((0,_.u)(this.If,this),a):this.If()};U.prototype.ug=function(){this.bf=!0;for(var a=0;a&lt;this.dc.length;a++)this.listen(this.dc[a],&quot;click&quot;,(0,_.u)(this.qg,this))};U.prototype.qg=function(a,b,c){var d=this.ad[a];b=d+1;b&gt;=this.ee[a]&amp;&amp;(b=-1);this.ad[a]=b;this.modifyCssClass(a,Ud(a,d),!0);this.modifyCssClass(a,Ud(a,b));window.console.log(&quot;Start Style: &quot;,b);d=this.ud[a];a=this.getComputedStyle(a);for(var e=0;e&lt;d.qa.length;++e){var f=d.qa[e];window.console.log(f,&quot;: &quot;,a[f])}0&lt;=b&amp;&amp;window.console.log(d.Z[b].stats);c.stopImmediatePropagation();c.preventDefault();window.console.log(&quot;End Style: &quot;,b)};_.p(&quot;buildAutoCssTextAd&quot;,function(a,b){var c=new _.y(a);var d=c.getIndex();if(d=window.document.getElementById(&quot;taw&quot;+d))var e=zd(d),c=new U(e,d,c,b);else c=null;return c},void 0);U.prototype.enableDebug=U.prototype.ug;U.prototype.addAdPiece=U.prototype.gg;U.prototype.setupRequest=U.prototype.Ah;var Vd=function(){Nd.call(this,&quot;color font-family font-size font-weight line-height letter-spacing display max-width&quot;.split(&quot; &quot;))};_.x(Vd,Nd);Vd.prototype.Sc=function(a,b,c){if(0!=b[1]){a.display=&quot;inline-block&quot;;a[&quot;font-family&quot;]+=&quot;, &quot;+c[&quot;font-family&quot;];var d=Pd(a[&quot;font-size&quot;],c[&quot;font-size&quot;]);if(!(.5&gt;d||1&lt;d&amp;&amp;.15&gt;=b[2])){if(1&lt;=d&amp;&amp;0&lt;c.height){var d=(0,window.parseFloat)(c.height),e=c.text,f=(0,window.parseFloat)(a[&quot;font-size&quot;]),g=window.document.createElement(&quot;div&quot;);g.style.width=Math.floor((0,window.parseFloat)(c.width))+&quot;px&quot;;for(var k=window.document.createElement(&quot;span&quot;),m=0;m&lt;this.qa.length;++m){var t=this.qa[m];k.style[t]=a[t]}k.style[&quot;line-height&quot;]=&quot;normal&quot;;k.style.display=&quot;inline-block&quot;;k.insertAdjacentHTML(&quot;afterbegin&quot;,e);g.appendChild(k);for(window.document.body.appendChild(g);0&lt;f;){k.style[&quot;font-size&quot;]=f+&quot;px&quot;;if((0,window.parseFloat)(window.getComputedStyle(k).height)&lt;=d)break;f--}window.document.body.removeChild(g);d=f+&quot;px&quot;;0&lt;(0,window.parseFloat)(d)?(a[&quot;font-size&quot;]=d,a[&quot;line-height&quot;]=&quot;normal&quot;):a[&quot;font-size&quot;]=c[&quot;font-size&quot;]}else 1&lt;d&amp;&amp;(a[&quot;font-size&quot;]=c[&quot;font-size&quot;]);Od(a.color,c.bgcolor)&amp;&amp;0!=(0,window.parseFloat)(a[&quot;line-height&quot;])&amp;&amp;Sd(this,a,b)}}};Vd.prototype.compare=function(a,b){var c=Qd(b[1]-b[5],a[1]-a[5]);return 0!=c?c:Qd(b[1],a[1])};var Wd=function(){Nd.call(this,&quot;color font-family font-size font-weight letter-spacing line-height text-transform text-shadow&quot;.split(&quot; &quot;))};_.x(Wd,Nd);Wd.prototype.Sc=function(a,b,c){if(0!=b[1]){a[&quot;font-family&quot;]+=&quot;, &quot;+c[&quot;font-family&quot;];var d=Pd(a[&quot;font-size&quot;],c[&quot;font-size&quot;]);.6&gt;d&amp;&amp;3&lt;b[6]||1.2&lt;d||!Od(a.color,c.bgcolor)||(a[&quot;line-height&quot;]=&quot;normal&quot;,Sd(this,a,b))}};Wd.prototype.compare=function(a,b){var c=Qd(a[6],b[6]);return 0!=c?c:Qd(b[1],a[1])};var Xd=function(){Nd.call(this,[&quot;background-color&quot;])};_.x(Xd,Nd);Xd.prototype.Sc=function(a,b,c){if(0!=b[1]){var d;if(d=a[&quot;background-color&quot;])d=a[&quot;background-color&quot;],d=!(&quot;rgba(0, 0, 0, 0)&quot;==d||&quot;transparent&quot;==d);d?b[4]=1:a[&quot;background-color&quot;]=a.color;Od(a[&quot;background-color&quot;],c.bgcolor)&amp;&amp;Sd(this,a,b)}};Xd.prototype.compare=function(a,b){if(0&lt;a[1]&amp;&amp;0==b[1]||0&lt;a[1]&amp;&amp;0==b[1])return-1;var c=Qd(b[4],a[4]);if(0!=c)return c;c=Qd(b[3],a[3]);return 0!=c?c:Qd(b[1],a[1])};_.p(&quot;buildAutoCssBodySorter&quot;,function(){return new Vd},void 0);_.p(&quot;buildAutoCssTitleSorter&quot;,function(){return new Wd},void 0);_.p(&quot;buildAutoCssButtonSorter&quot;,function(){return new Xd},void 0);var Zd=function(a,b,c){_.S.call(this,a,b,c);for(a=0;a&lt;Yd.length;a++)this.K(Yd[a])};_.x(Zd,_.S);var Yd=[P.ma,P.URL,P.ka,P.ia,P.FAVICON,P.la];Zd.prototype.Xd=function(a){return this.Vb(a)||4==a};var $d=function(a){var b=&quot;&quot;;_.Qb(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+da(d)+&quot;=&quot;+da(a)});return b},ae=&quot;UNKNOWN&quot;,be=&quot;UNKNOWN&quot;,ce=null,de=function(a,b){var c=&quot;//pagead2.googlesyndication.com&quot;+(&quot;/pagead/gen_204?id=glaurung&quot;+$d({gqid:ae,qqid:be,com:a})+$d(b)),c=c.substring(0,2E3);_.J(_.L,c,void 0)},V={ma:&quot;ad-title&quot;,URL:&quot;ad-url&quot;,ka:&quot;ad-body&quot;,ia:&quot;ad-button&quot;,FAVICON:&quot;ad-favicon&quot;,la:&quot;ad-image&quot;,Cb:&quot;ad-price&quot;,Eb:&quot;ad-reviews&quot;,Bb:&quot;ad-app-store-image&quot;,Db:&quot;ad-promo-headline&quot;},ee=function(a,b,c){var d=a.g,e;e=(e=d.g[15])?new va(e):Ca;var f;if(f=e)e=e.g[0],f=null!=e?e:!1;f&amp;&amp;(V={ma:&quot;title-link&quot;,URL:&quot;url-link&quot;,ka:&quot;body&quot;,ia:&quot;button-link&quot;,FAVICON:&quot;favicon-link&quot;,la:&quot;image-link&quot;,Cb:&quot;price&quot;,Eb:&quot;reviews&quot;,Bb:&quot;app-store&quot;,Db:&quot;promo-headline&quot;});b=b.getElementById(&quot;ads&quot;);if(!b)return 1;b.style.width=d.V()+&quot;px&quot;;b.style.height=d.U()+&quot;px&quot;;try{c(b,a)}catch(g){return xa(d)&amp;&amp;(ce=g),2}for(c=0;c&lt;ma(d.g);c++){b=c;e=d.g;e[0]||(e[0]=[]);e=new _.y(e[0][b]);b=&quot;taw&quot;+e.getIndex();f=window.document.getElementById(b);if(!f)return 3;var k=V,m={};if(f){m[0]=[f];var t=void 0;for(t in k){var D=P[t],ya=m,Pe=_.xc(null,k[t],f);ya[D]=[];for(var Mc=0;Mc&lt;Pe.length;Mc++)ya[D].push(Pe[Mc])}e=new Zd(m,f,e)}else e=null;if(!e)return 1;window.registerAd&amp;&amp;window.registerAd(e,b);a.vd(e)}return 0};_.p(&quot;buildGlaurungAds&quot;,function(a,b,c){var d=(new Date).getTime(),e=1,f=!1;ce=null;try{f=xa(a.g),ae=a.getEscapedGwsQueryId(),be=a.getEscapedQemQueryId(),e=ee(a,b,c)}catch(g){f&amp;&amp;(ce=g),e=1}a=(new Date).getTime();b={};b.r=e;b.d=a-d;de(&quot;bridge&quot;,b);return e},void 0);_.p(&quot;glaurungError&quot;,function(){return ce},void 0);_.p(&quot;glaurungBridge.log&quot;,de,void 0);_.p(&quot;glaurungBridge.getGlaurungAdPieceClassNames&quot;,function(){return{TITLE:V.ma,URL:V.URL,BODY:V.ka,ACTION_BUTTON:V.ia,FAVICON:V.FAVICON,IMAGE_EXTENSION:V.la,PRICE:V.Cb,REVIEWS:V.Eb,APP_STORE_IMAGE:V.Bb,PROMO_HEADLINE:V.Db}},void 0);var fe=function(a,b,c,d,e){var f=[];f[0]=[c];f[15]=[b];d&amp;&amp;(f[4]=d);e&amp;&amp;(f[9]=[e]);(b=window.document.getElementById(&quot;button_15click_anchor&quot;))&amp;&amp;f[15].push(b);(b=window.document.getElementById(&quot;abgc&quot;))&amp;&amp;(f[27]=[b]);(b=window.document.getElementById(&quot;cbc&quot;))&amp;&amp;(f[28]=[b]);_.S.call(this,f,c,a);this.K(15);this.K(4);this.K(9)};_.x(fe,_.S);_.p(&quot;buildImageAd&quot;,function(a){a=new _.y(a);var b=_.K.getElementById(&quot;google_image_div&quot;),c=_.K.getElementById(&quot;aw0&quot;);if(b&amp;&amp;c){for(var d=yc(&quot;google_image_inside_det_button&quot;),e=[],f=0;f&lt;d.length;f++)e.push(d[f]);d=_.K.getElementById(&quot;google_image_outside_det_button&quot;);a=e.length&amp;&amp;d?new fe(a,c,b,e,d):new fe(a,c,b)}else a=null;return a},void 0);var he=function(a,b,c){_.S.call(this,a,b,c);for(a=0;a&lt;ge.length;a++)this.K(ge[a])};_.x(he,_.S);var ge=[P.ma,P.URL,P.ia,P.kc,P.jc,P.FAVICON,P.ka,P.ic,P.la,P.hc,P.nd],ie={ma:&quot;headline&quot;,ka:&quot;description&quot;,ia:&quot;button&quot;,Je:&quot;logo&quot;,la:&quot;product&quot;};_.p(&quot;buildTemplateAd&quot;,function(a){var b;a=new _.y(a);var c={},d=window.document.getElementById(&quot;adContent&quot;);if(d){c[0]=[d];for(b in ie){var e=P[b],f=c,g=_.xc(null,ie[b],d);f[e]=[];for(var k=0;k&lt;g.length;k++)f[e].push(g[k])}b=new he(c,d,a)}else b=null;return b},void 0);_.C&amp;&amp;_.E(12);_.je=function(a){if(a.classList)return a.classList;a=a.className;return _.r(a)&amp;&amp;a.match(/\S+/g)||[]};_.ke=function(a,b){var c;a.classList?c=a.classList.contains(b):(c=_.je(a),c=0&lt;=Ja(c,b));return c};_.le=function(a,b){a.classList?a.classList.add(b):_.ke(a,b)||(a.className+=0&lt;a.className.length?&quot; &quot;+b:b)};})(window.hydra=window.hydra||{});&lt;/script&gt;&lt;script&gt;&lt;/script&gt;&lt;script&gt;buildAdSlot([null,300,250,0,0,null,&quot;CJKgubK50MUCFRNBDAod91sATg&quot;,&quot;&quot;,null,&quot;ca-pub-3558870564527416&quot;,300,250,null,null,null,null,null,null,null,null,null,-683478118]);&lt;/script&gt;&lt;script&gt;&lt;/script&gt;&lt;script&gt;var ad = buildImageAd([1,0,300,250,null,&quot;http://googleads.g.doubleclick.net/pagead/conversion/?ai=COf0hFY9cVdLBMJOCMfe3gfAElu2Hhgjm6JGKoAGm-sjLuwIQASDF36YiYMmO8IiEpOwPoAHCt_fjA8gBAuACAKgDAcgDmQSqBNkBT9DWYptsIlqh5jvPNxCnl9rmO0FvbxRjxEwn2T9_RODCiW0beQ8y1ureQoV6m6trM8UxsMlRySrAaVJ56xFNVsbV-uBxGDNrahK0QNYTg089b4HYRGlKTet8cmL2WjMzc5jrZLijbEdwstR2-N-UVzW_grDRl1T36F6EzkdtFkB041JO3BvIjqtlYXbQhdKhs_JjeVJvW1HVblYlxcUikWKqn3auyNH7ugA2PKSymGTPFriWXU3bnYgXNBEXqIw-97oVSI5Cv3uFQFhOJxgZs9Y3GTdv8fcgSuAEAYgGAaAGAoAHpsiIHKgHpr4b2AcB\u0026sigh=-8MQaYRqW4I&quot;]);adSlot.addAd(ad);adSlot.finalize(&#39;google_image_div&#39;);&lt;/script&gt;&lt;script&gt;(function(_){var cf=function(){this.cc=[];this.ue={}};cf.prototype.report=function(){for(var a=[],b=0;b&lt;this.cc.length;++b)a.push(df(this.cc[b]));return a};var df=function(a){var b=[a.key,a.value];_.n(a.Nd)&amp;&amp;b.push(a.Nd);return b},ef={};var ff={1:0,2:1,4:8,5:6,8:11,9:2,6:9,3:7,20:12},gf=function(a,b,c){var d=ff[b];&quot;true&quot;===c.getAttribute(b,&quot;data-is-action-button-expanded&quot;)&amp;&amp;(d=12);(0,window.ja)(a,d)},hf=function(a){return function(){a()}},jf=function(a){return a.report()};_.p(&quot;registerAd&quot;,function(a,b){_.n(ef[b])||(ef[b]=new cf);a.registerClickUrlModifier(_.v(jf,ef[b]));for(var c=[1,2,4,8,6,9,5,3,20],d=0;d&lt;c.length;d++)a.listen(c[d],&quot;mousedown&quot;,hf(_.v(window.st,b))),a.listen(c[d],&quot;click&quot;,_.v(gf,b));a.has(9)||(a.listen(15,&quot;click&quot;,_.v(gf,b)),a.listen(15,&quot;mousedown&quot;,hf(_.v(window.st,b))));a.listen(0,&quot;mouseover&quot;,hf(_.v(window.ss,b)));a.listen(0,&quot;focus&quot;,hf(_.v(window.ss,b)));a.listen(1,&quot;focus&quot;,hf(_.v(window.ss,b)));a.listen(1,&quot;mouseover&quot;,hf(_.v(window.ss,b)));return a},void 0);_.p(&quot;css&quot;,function(a,b,c,d,e){a=ef[a];_.n(a)&amp;&amp;(!_.n(a.ue[b])||d?(d=a.cc.length,a.ue[b]=d,a.cc[d]={key:b,value:c,Nd:e}):(b=a.cc[a.ue[b]],b.value=c,b.Nd=e))},void 0);})(window.hydra=window.hydra||{});registerAd(ad, &#39;aw0&#39;);&lt;/script&gt;&lt;iframe scrolling=&quot;no&quot; frameborder=0 height=0 width=0 src=&quot;http://cm.g.doubleclick.net/push?client=ca-pub-3558870564527416&quot; style=&quot;position:absolute&quot;&gt;&lt;/iframe&gt;&lt;script type=&quot;text/javascript&quot;&gt;(function(){var h=this,m=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},n=function(a){return&quot;string&quot;==typeof a},aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},p=function(a,b){var c=a.split(&quot;.&quot;),d=h;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};var r=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?r(a,b,d,void 0,e):a:c};var ba=function(){var a=/[&amp;\?]exk=([^&amp; ]+)/.exec(t.location.href);return a&amp;&amp;2==a.length?a[1]:null};var ca=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},u=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var v=document,t=window;var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},w=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var y=null,ea=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};function z(a){return&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}var fa=function(){if(!v.body)return!1;if(!y){var a=v.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.id=&quot;anonIframe&quot;;y=a;v.body.appendChild(a)}return!0},A={};var ga=!0,ha={},ka=function(a,b,c,d){var e=ia,f,g=ga;try{f=b()}catch(k){try{var q=ca(k);b=&quot;&quot;;k.fileName&amp;&amp;(b=k.fileName);var D=-1;k.lineNumber&amp;&amp;(D=k.lineNumber);g=e(a,q,b,D,c)}catch(l){try{var x=ca(l);a=&quot;&quot;;l.fileName&amp;&amp;(a=l.fileName);c=-1;l.lineNumber&amp;&amp;(c=l.lineNumber);ia(&quot;pAR&quot;,x,a,c,void 0,void 0)}catch(xa){ja({context:&quot;mRE&quot;,msg:xa.toString()+&quot;\n&quot;+(xa.stack||&quot;&quot;)},void 0)}}if(!g)throw k;}finally{if(d)try{d()}catch(sb){}}return f},ia=function(a,b,c,d,e,f){var g={};if(e)try{e(g)}catch(k){}g.context=a;g.msg=b.substring(0,512);c&amp;&amp;(g.file=c);0&lt;d&amp;&amp;(g.line=d.toString());g.url=v.URL.substring(0,512);g.ref=v.referrer.substring(0,512);la(g);ja(g,f);return ga},ja=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+ma(a),d=&quot;http&quot;+(&quot;http:&quot;==t.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);u(t,d)}}catch(e){}},la=function(a){var b=a||{};ea(ha,function(a,d){b[d]=t[a]})},B=function(a,b,c,d,e){return function(){var f=arguments;return ka(a,function(){return b.apply(c,f)},d,e)}},ma=function(a){var b=&quot;&quot;;ea(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+z(a)});return b};var C=Array.prototype,na=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(n(a))return n(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},oa=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e};var pa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},qa=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==m(arguments[0]))return qa.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var E;a:{var ra=h.navigator;if(ra){var sa=ra.userAgent;if(sa){E=sa;break a}}E=&quot;&quot;};var F=function(){return-1!=E.indexOf(&quot;Edge&quot;)};var ta=-1!=E.indexOf(&quot;Opera&quot;)||-1!=E.indexOf(&quot;OPR&quot;),G=-1!=E.indexOf(&quot;Edge&quot;)||-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;),ua=-1!=E.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F())&amp;&amp;!(-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;))&amp;&amp;!F(),va=-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F(),wa=function(){var a=E;if(ua)return/rv\:([^\);]+)(\)|;)/.exec(a);if(G&amp;&amp;F())return/Edge\/([\d\.]+)/.exec(a);if(G)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(va)return/WebKit\/(\S+)/.exec(a)},ya=function(){var a=h.document;return a?a.documentMode:void 0},za=function(){if(ta&amp;&amp;h.opera){var a=h.opera.version;return&quot;function&quot;==m(a)?a():a}var a=&quot;&quot;,b=wa();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return G&amp;&amp;!F()&amp;&amp;(b=ya(),b&gt;parseFloat(a))?String(b):a}(),Aa={},Ba=function(a){if(!Aa[a]){for(var b=0,c=da(String(za)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;,q=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),D=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var l=q.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],x=D.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==l[0].length&amp;&amp;0==x[0].length)break;b=w(0==l[1].length?0:parseInt(l[1],10),0==x[1].length?0:parseInt(x[1],10))||w(0==l[2].length,0==x[2].length)||w(l[2],x[2])}while(0==b)}Aa[a]=0&lt;=b}},Ca=h.document,Da=ya(),Ea=!Ca||!G||!Da&amp;&amp;F()?void 0:Da||(&quot;CSS1Compat&quot;==Ca.compatMode?parseInt(za,10):5);var Fa={i:947190538,j:947190541,l:947190542,g:79463068,h:79463069},Ga={f:&quot;ud=1&quot;,m:&quot;ts=1&quot;,c:&quot;sc=1&quot;};if(v&amp;&amp;v.URL)var H=v.URL,ga=!(H&amp;&amp;(0&lt;H.indexOf(&quot;?google_debug&quot;)||0&lt;H.indexOf(&quot;&amp;google_debug&quot;)||0&lt;H.indexOf(&quot;#google_debug&quot;)));var I=function(a,b,c,d){c=B(d||&quot;osd_or_lidar::&quot;+b,c,void 0,void 0,void 0);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)},Ha=function(a,b,c){if(!(0&gt;=b)){var d=0,e=function(){a();d++;d&lt;b&amp;&amp;t.setTimeout(B(c,e,void 0,void 0,void 0),100)};e()}};var J=function(a,b){this.b=a||0;this.a=b||&quot;&quot;},K=function(a,b){a.b&amp;&amp;(b[4]=a.b);a.a&amp;&amp;(b[12]=a.a)};J.prototype.match=function(a){return(this.b||this.a)&amp;&amp;(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};J.prototype.toString=function(){var a=&quot;&quot;+this.b;this.a&amp;&amp;(a+=&quot;-&quot;+this.a);return a};var Ia=function(){var a=L,b=[];a.b&amp;&amp;b.push(&quot;adk=&quot;+a.b);a.a&amp;&amp;b.push(&quot;exk=&quot;+a.a);return b},M=function(a){var b=[];pa(a,function(a,d){var e=z(d),f=a;n(f)&amp;&amp;(f=z(f));b.push(e+&quot;=&quot;+f)});return b.join(&quot;\n&quot;)},N=0,Ja=0,Ka=function(a){var b=0,c=t;try{if(c&amp;&amp;c.Goog_AdSense_getAdAdapterInstance)return c}catch(d){}try{for(;c&amp;&amp;5&gt;b;){if(c.google_osd_static_frame)return c;if(c.aswift_0&amp;&amp;(!a||c.aswift_0.google_osd_static_frame))return c.aswift_0;b++;c=c!=c.parent?c.parent:null}}catch(e){}return null},La=function(a,b,c,d,e){if(10&lt;Ja)t.clearInterval(N);else if(++Ja,t.postMessage&amp;&amp;(b.b||b.a)){var f=Ka(!0);if(f){var g={};K(b,g);g[0]=&quot;goog_request_monitoring&quot;;g[6]=a;g[16]=c;d&amp;&amp;d.length&amp;&amp;(g[17]=d.join(&quot;,&quot;));e&amp;&amp;(g[19]=e);try{var k=M(g);f.postMessage(k,&quot;*&quot;)}catch(q){}}}},Ma=function(a){var b=Ka(!1),c=!b;!b&amp;&amp;t&amp;&amp;(b=t.parent);if(b&amp;&amp;b.postMessage)try{b.postMessage(a,&quot;*&quot;),c&amp;&amp;t.postMessage(a,&quot;*&quot;)}catch(d){}};qa(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var O=function(a,b){this.width=a;this.height=b};var Na;if(!(Na=!ua&amp;&amp;!G)){var Oa;if(Oa=G)Oa=G&amp;&amp;(F()||9&lt;=Ea);Na=Oa}Na||ua&amp;&amp;Ba(&quot;1.9.1&quot;);G&amp;&amp;Ba(&quot;9&quot;);G&amp;&amp;Ba(12);var Qa=function(){var a=t.parent&amp;&amp;t.parent!=t,b=a&amp;&amp;0&lt;=&quot;//tpc.googlesyndication.com&quot;.indexOf(t.location.host);if(a&amp;&amp;t.name&amp;&amp;0==t.name.indexOf(&quot;google_ads_iframe&quot;)||b){var c;a=t||t;try{var d;if(a.document&amp;&amp;!a.document.body)d=new O(-1,-1);else{var e=(a||window).document,f=&quot;CSS1Compat&quot;==e.compatMode?e.documentElement:e.body;d=new O(f.clientWidth,f.clientHeight)}c=d}catch(g){c=new O(-12245933,-12245933)}return Pa(c)}c=t.document.getElementsByTagName(&quot;SCRIPT&quot;);return 0&lt;c.length&amp;&amp;(c=c[c.length-1],c.parentElement&amp;&amp;c.parentElement.id&amp;&amp;0&lt;c.parentElement.id.indexOf(&quot;_ad_container&quot;))?Pa(void 0,c.parentElement):null},Pa=function(a,b){var c=Ra(&quot;IMG&quot;,a,b);return c||(c=Ra(&quot;IFRAME&quot;,a,b))?c:(c=Ra(&quot;OBJECT&quot;,a,b))?c:null},Ra=function(a,b,c){var d=document;c=c||d;d=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;c=c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;d?c.querySelectorAll(d+&quot;&quot;):c.getElementsByTagName(d||&quot;*&quot;);for(d=0;d&lt;c.length;d++){var e=c[d];if(&quot;OBJECT&quot;==a)a:{var f=e.getAttribute(&quot;height&quot;);if(null!=f&amp;&amp;0&lt;f&amp;&amp;0==e.clientHeight)for(var f=e.children,g=0;g&lt;f.length;g++){var k=f[g];if(&quot;OBJECT&quot;==k.nodeName||&quot;EMBED&quot;==k.nodeName){e=k;break a}}}f=e.clientHeight;g=e.clientWidth;if(k=b)k=new O(g,f),k=Math.abs(b.width-k.width)&lt;.1*b.width&amp;&amp;Math.abs(b.height-k.height)&lt;.1*b.height;if(k||!b&amp;&amp;10&lt;f&amp;&amp;10&lt;g)return e}return null};var Sa,P=0,Q=&quot;&quot;,R=!1,S=!1,T=!1,Ta=!0,Ua=!1,Va=!1,Wa=[],L=null,Xa=&quot;&quot;,Ya=[],Za=null,$a=[],ab=!1,U=&quot;&quot;,V=&quot;&quot;,bb=(new Date).getTime(),cb=!1,db=!1,eb=&quot;&quot;,fb=!1,gb=[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;],W=0,X=0,hb=0,ib=&quot;&quot;,jb=function(a,b,c){R&amp;&amp;(Ta||3!=(c||3)||Va)&amp;&amp;Y(a,b,!0);(T||S&amp;&amp;Ua)&amp;&amp;Y(a,b)},kb=function(){var a=Za;return a?2!=a():!0},Y=function(a,b,c){if((b=b||Xa)&amp;&amp;!ab&amp;&amp;(2==X||c)&amp;&amp;kb()){var d;d=c?&quot;osdim&quot;:T?&quot;osd2&quot;:&quot;osdtos&quot;;var e=[&quot;//pagead2.googlesyndication.com/activeview&quot;,&quot;?id=&quot;,d];&quot;osd2&quot;==d&amp;&amp;S&amp;&amp;Ua&amp;&amp;e.push(&quot;&amp;ts=1&quot;);Q&amp;&amp;e.push(&quot;&amp;avi=&quot;,Q);Sa&amp;&amp;e.push(&quot;&amp;cid=&quot;,Sa);e.push(&quot;&amp;ti=1&quot;);e.push(&quot;&amp;&quot;,b);e.push(&quot;&amp;uc=&quot;+hb);cb&amp;&amp;(db?e.push(&quot;&amp;tgt=&quot;+eb):e.push(&quot;&amp;tgt=nf&quot;),e.push(&quot;&amp;cl=&quot;+(fb?1:0)));b=e.join(&quot;&quot;);for(d=0;d&lt;Ya.length;d++){try{var f=Ya[d]()}catch(g){}e=&quot;max_length&quot;;2&lt;=f.length&amp;&amp;(3==f.length&amp;&amp;(e=f[2]),b=r(b,z(f[0]),z(f[1]),e))}2E3&lt;b.length&amp;&amp;(b=b.substring(0,2E3));u(a,b);c?R=!1:ab=!0}},Z=function(a,b){if(U){try{var c=r(U,&quot;vi&quot;,a);fa()&amp;&amp;u(y.contentWindow,c)}catch(d){}0&lt;=na(gb,a)&amp;&amp;(U=&quot;&quot;);var c=b||Xa,e;e=r(&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=sldb&quot;,&quot;avi&quot;,Q);e=r(e,&quot;vi&quot;,a);c&amp;&amp;(e+=&quot;&amp;&quot;+c);try{u(t,e)}catch(f){}}},lb=function(){Z(&quot;-1&quot;)},mb=function(a){if(a&amp;&amp;a.data&amp;&amp;n(a.data)){var b;var c=a.data;if(n(c)){b={};for(var c=c.split(&quot;\n&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;);if(!(0&gt;=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:case 18:e=&quot;true&quot;==e;break;case 4:case 7:case 6:case 14:e=Number(e);break;case 3:case 19:if(&quot;function&quot;==m(decodeURIComponent))try{e=decodeURIComponent(e)}catch(g){throw Error(&quot;Error: URI malformed: &quot;+e);}break;case 17:e=oa(decodeURIComponent(e).split(&quot;,&quot;),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&amp;&amp;(c=new J(b[4],b[12]),L&amp;&amp;L.match(c))){for(c=0;c&lt;$a.length;c++)$a[c](b);void 0!=b[18]&amp;&amp;(Va=b[18]);c=b[0];if(&quot;goog_acknowledge_monitoring&quot;==c)t.clearInterval(N),W=2;else if(&quot;goog_get_mode&quot;==c){W=1;d={};L&amp;&amp;K(L,d);d[0]=&quot;goog_provide_mode&quot;;d[6]=X;d[19]=ib;try{var k=M(d);a.source.postMessage(k,a.origin)}catch(q){}t.clearInterval(N);W=2}else&quot;goog_update_data&quot;==c?(Xa=b[3],++hb):&quot;goog_image_request&quot;==c&amp;&amp;(jb(t,b[3]),b[5]||b[11]||Z(&quot;0&quot;,b[3]));if(&quot;goog_update_data&quot;==c||&quot;goog_image_request&quot;==c)(1==X||2==X||R)&amp;&amp;b[5]&amp;&amp;(a=1==b[15]&amp;&amp;&quot;goog_update_data&quot;==c,Ua=!0,Z(&quot;1&quot;),V&amp;&amp;kb()&amp;&amp;(k=V,fa()&amp;&amp;u(y.contentWindow,k),V=&quot;&quot;),R&amp;&amp;!a&amp;&amp;Y(t,void 0,!0),R||1!=X||(ab=!0)),(1==X||2==X||R)&amp;&amp;b[11]&amp;&amp;(S=!1,Z(&quot;3&quot;),R&amp;&amp;Y(t,void 0,!0))}}},nb=function(){jb(t);Z(&quot;0&quot;);if(2&gt;W&amp;&amp;!S&amp;&amp;2==X){var a=t,b=&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=osd2&amp;&quot;,c=[];c.push(&quot;ovr_value=&quot;+P);c.push(&quot;avi=&quot;+Q);L&amp;&amp;(c=c.concat(Ia()));c.push(&quot;tt=&quot;+((new Date).getTime()-bb));a.document&amp;&amp;a.document.referrer&amp;&amp;c.push(&quot;ref=&quot;+z(a.document.referrer));c.push(&quot;hs=&quot;+W);b+=c.join(&quot;&amp;&quot;);try{u(a,b)}catch(d){}}},ob=function(){var a={};K(L,a);a[0]=&quot;goog_dom_content_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::ldcl_int&quot;)},pb=function(){var a={};K(L,a);a[0]=&quot;goog_creative_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::lcel_int&quot;);fb=!0},qb=function(a){if(n(a)){a=a.split(&quot;&amp;&quot;);for(var b=a.length-1;0&lt;=b;b--){var c=a[b],d=Ga;c==d.f?(Ta=!1,a.splice(b,1)):c==d.c&amp;&amp;(cb=!0,a.splice(b,1))}ib=a.join(&quot;&amp;&quot;)}},rb=function(){if(!db){var a=Qa();a&amp;&amp;(db=!0,eb=a.tagName,a.complete||a.naturalWidth?pb():I(a,&quot;load&quot;,pb,&quot;osd_listener::creative_load&quot;))}};p(&quot;osdlfm&quot;,B(&quot;osd_listener::init&quot;,function(a,b,c,d,e,f,g,k,q,D){P=a;U=b;V=d;R=f;Sa=D;k&amp;&amp;qb(k);S=g&amp;&amp;f;1!=q&amp;&amp;2!=q&amp;&amp;3!=q||Wa.push(Fa[&quot;MRC_TEST_&quot;+q]);L=new J(e,ba());I(t,&quot;load&quot;,lb,&quot;osd_listener::load&quot;);I(t,&quot;message&quot;,mb,&quot;osd_listener::message&quot;);Q=c||&quot;&quot;;I(t,&quot;unload&quot;,nb,&quot;osd_listener::unload&quot;);var l=t.document;!l.readyState||&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState?(&quot;msie&quot;in A?A.msie:A.msie=-1!=navigator.userAgent.toLowerCase().indexOf(&quot;msie&quot;))&amp;&amp;!window.opera?I(l,&quot;readystatechange&quot;,function(){&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState||ob()},&quot;osd_listener::rsc&quot;):I(l,&quot;DOMContentLoaded&quot;,ob,&quot;osd_listener::dcl&quot;):ob();-1==P?X=f?3:1:-2==P?X=3:0&lt;P&amp;&amp;(X=2,T=!0);S&amp;&amp;!T&amp;&amp;(X=2);L&amp;&amp;(L.b||L.a)&amp;&amp;(W=1,N=t.setInterval(B(&quot;osd_proto::reqm_int&quot;,aa(La,X,L,S,Wa,ib),void 0,void 0,void 0),500));cb&amp;&amp;Ha(rb,5,&quot;osd_listener:sfc&quot;)}));p(&quot;osdlac&quot;,B(&quot;osd_listener::lac_ex&quot;,function(a){Ya.push(a)}));p(&quot;osdlamrc&quot;,B(&quot;osd_listener::lamrc_ex&quot;,function(a){$a.push(a)}));p(&quot;osdsir&quot;,B(&quot;osd_listener::sir_ex&quot;,jb));p(&quot;osdacrc&quot;,B(&quot;osd_listener::acrc_ex&quot;,function(a){Za=a}));})();osdlfm(-1,&#39;&#39;,&#39;BjUPUFY9cVdLBMJOCMfe3gfAEAObokYqgAQAAEAE4AcgBAuACAMgDmQTgBAGgBgLCEwMQgAE&#39;,&#39;&#39;,3611489178,true,true,&#39;ud\x3d1\x26sc\x3d1\x26&#39;,3,&#39;5GjM_RZEDIt2fkxJfhHrM8YBL4Y&#39;);&lt;/script&gt; &lt;style&gt;.feedback_container {width: 100%;height: 100%;position: absolute;top:0;left:0;display: none;z-index: 9020;background-color: white;}.feedback_page {font-family: &quot;Arial&quot;;font-size: 13px;margin: 16px 16px 16px 16px;}.feedback_title {font-weight: bold;color: #000000;}.feedback_page a {font-weight: normal;color: #3366cc;}.feedback_description {color: #666666;line-height: 16px;margin: 12px 0 12px 0;}.feedback_closing {color: #0367ff;line-height: 16px;margin: 12px 0 12px 0;}.feedback_logo {position: absolute;right: 0;bottom: 0;margin: 0 12px 9px 0;}.feedback_logo img {height: 15px;}.survey_description {color: #666666;line-height: 17px;margin: 12px 0 10px 0;}.survey {color: #666666;line-height: 20px;}.survey_option input {margin: 0;vertical-align: middle;}.survey_option_text {margin: 0 0 0 5px;line-height: 17px;vertical-align: bottom;}.survey_option:hover {background-color: lightblue;cursor: default;}&lt;/style&gt;&lt;div id=&quot;cbtf&quot; class=&quot;feedback_container&quot;&gt;&lt;div class=&quot;feedback_page&quot;&gt;&lt;div id=&quot;mtadmas&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;It&amp;#39;s gone. &lt;a id=&quot;mtadmaundo&quot; href=&quot;javascript:void(0)&quot;&gt;Undo&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;survey_description&quot;&gt;What was wrong with this ad?&lt;/div&gt;&lt;div class=&quot;survey&quot;&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;7&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;Irrelevant&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;2&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;Repetitive&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;label&gt;&lt;div class=&quot;survey_option&quot;&gt;&lt;input type=&quot;radio&quot; name=&quot;surveyOptions&quot; value=&quot;8&quot;&gt;&lt;span class=&quot;survey_option_text&quot;&gt;Inappropriate&lt;/span&gt;&lt;/div&gt;&lt;/label&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;mtadmac&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;Thanks for the feedback! &lt;a id=&quot;mtadmback&quot; href=&quot;javascript:void(0)&quot;&gt;Back&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;We’ll review this ad to improve your experience in the future.&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;Help us show you better ads by updating your &lt;a href=&quot;http://www.google.com/settings/ads?hl=en&quot; target=&quot;_blank&quot;&gt;ads settings&lt;/a&gt;.&lt;/div&gt;&lt;div id=&quot;ad-feedback-closing&quot; style=&quot;display:none&quot; class=&quot;feedback_closing&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;mtadmpc&quot; style=&quot;display:none&quot;&gt;&lt;div class=&quot;feedback_title&quot;&gt;Thanks for the feedback! &lt;a id=&quot;mtadmpundo&quot; href=&quot;javascript:void(0)&quot;&gt;Undo&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;We’ll use your feedback to review ads on this site.&lt;/div&gt;&lt;div class=&quot;feedback_description&quot;&gt;Help us show you better ads by updating your &lt;a href=&quot;http://www.google.com/settings/ads?hl=en&quot; target=&quot;_blank&quot;&gt;ads settings&lt;/a&gt;.&lt;/div&gt;&lt;div id=&quot;pub-feedback-closing&quot; style=&quot;display:none&quot; class=&quot;feedback_closing&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;span id=&quot;feedback-closing-template&quot; style=&quot;display:none&quot;&gt;Closing ad: %1$d&lt;/span&gt;&lt;div class=&quot;feedback_logo&quot;&gt;&lt;img src=&quot;http://pagead2.googlesyndication.com/pagead/images/google-logo.png&quot;/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;script&gt;(function(){var k=this,aa=function(a,b){var c=a.split(&quot;.&quot;),d=k;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},l=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},m=function(a){return&quot;string&quot;==typeof a},ba=function(a,b,c){return a.call.apply(a.bind,arguments)},ca=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},n=function(a,b,c){n=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?ba:ca;return n.apply(null,arguments)},p=Date.now||function(){return+new Date},q=function(a,b){function c(){}c.prototype=b.prototype;a.ka=b.prototype;a.prototype=new c;a.qa=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h&lt;arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},r=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var t=function(a){t[&quot; &quot;](a);return a};t[&quot; &quot;]=function(){};var ea=function(a,b){try{return t(a[b]),!0}catch(c){}return!1};var v=function(a){try{return!!a&amp;&amp;null!=a.location.href&amp;&amp;ea(a,&quot;foo&quot;)}catch(b){return!1}};var fa=function(a){var b=window;b.google_image_requests||(b.google_image_requests=[]);var c=b.document.createElement(&quot;img&quot;);c.src=a;b.google_image_requests.push(c)};var ga=document;var w=function(a,b,c){b=n(c,b);a.addEventListener?a.addEventListener(&quot;click&quot;,b,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;onclick&quot;,b)};var ha=&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;.split(&quot; &quot;),ia=function(a,b){for(var c,d,e=1;e&lt;arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f&lt;ha.length;f++)c=ha[f],Object.prototype.hasOwnProperty.call(d,c)&amp;&amp;(a[c]=d[c])}},ka=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==l(arguments[0]))return ka.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var la=function(a){var b={};if(a&amp;&amp;a.key_value){a=a.key_value;for(var c=0;c&lt;a.length;c++){var d=a[c];if(&quot;key&quot;in d&amp;&amp;&quot;value&quot;in d){var e=d.value;b[d.key]=null==e?null:String(e)}}}return b};var x=function(a,b){var c=parseInt(a,10);return isNaN(c)?b:c};var ma=!!window.google_async_iframe_id,z=ma&amp;&amp;window.parent||window;var A=Array.prototype,na=A.indexOf?function(a,b,c){return A.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(m(a))return m(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1};ka(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var B;a:{var oa=k.navigator;if(oa){var pa=oa.userAgent;if(pa){B=pa;break a}}B=&quot;&quot;};var C=function(){return-1!=B.indexOf(&quot;Edge&quot;)};var qa=-1!=B.indexOf(&quot;Opera&quot;)||-1!=B.indexOf(&quot;OPR&quot;),E=-1!=B.indexOf(&quot;Edge&quot;)||-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;),F=-1!=B.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!C())&amp;&amp;!(-1!=B.indexOf(&quot;Trident&quot;)||-1!=B.indexOf(&quot;MSIE&quot;))&amp;&amp;!C(),G=-1!=B.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!C(),ra=function(){var a=B;if(F)return/rv\:([^\);]+)(\)|;)/.exec(a);if(E&amp;&amp;C())return/Edge\/([\d\.]+)/.exec(a);if(E)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(G)return/WebKit\/(\S+)/.exec(a)},sa=function(){var a=k.document;return a?a.documentMode:void 0},ta=function(){if(qa&amp;&amp;k.opera){var a=k.opera.version;return&quot;function&quot;==l(a)?a():a}var a=&quot;&quot;,b=ra();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return E&amp;&amp;!C()&amp;&amp;(b=sa(),b&gt;parseFloat(a))?String(b):a}(),ua={},H=function(a){var b;if(!(b=ua[a])){b=0;for(var c=da(String(ta)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,h=d[f]||&quot;&quot;,u=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),Pa=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var y=u.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],D=Pa.exec(h)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==y[0].length&amp;&amp;0==D[0].length)break;b=r(0==y[1].length?0:parseInt(y[1],10),0==D[1].length?0:parseInt(D[1],10))||r(0==y[2].length,0==D[2].length)||r(y[2],D[2])}while(0==b)}b=ua[a]=0&lt;=b}return b},va=k.document,wa=sa(),xa=!va||!E||!wa&amp;&amp;C()?void 0:wa||(&quot;CSS1Compat&quot;==va.compatMode?parseInt(ta,10):5);!F&amp;&amp;!E||E&amp;&amp;E&amp;&amp;(C()||9&lt;=xa)||F&amp;&amp;H(&quot;1.9.1&quot;);var ya=E&amp;&amp;!H(&quot;9&quot;);var za=function(a){var b=document;return m(a)?b.getElementById(a):a},Aa={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ba={IMG:&quot; &quot;,BR:&quot;\n&quot;},Da=function(){var a=document.getElementById(&quot;feedback-closing-template&quot;);if(ya&amp;&amp;&quot;innerText&quot;in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,&quot;\n&quot;);else{var b=[];Ca(a,b,!0);a=b.join(&quot;&quot;)}a=a.replace(/ \xAD /g,&quot; &quot;).replace(/\xAD/g,&quot;&quot;);a=a.replace(/\u200B/g,&quot;&quot;);ya||(a=a.replace(/ +/g,&quot; &quot;));&quot; &quot;!=a&amp;&amp;(a=a.replace(/^\s*/,&quot;&quot;));return a},Ca=function(a,b,c){if(!(a.nodeName in Aa))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,&quot;&quot;)):b.push(a.nodeValue);else if(a.nodeName in Ba)b.push(Ba[a.nodeName]);else for(a=a.firstChild;a;)Ca(a,b,c),a=a.nextSibling};E&amp;&amp;H(12);var Ea=function(){var a=document.body,b;if(ma&amp;&amp;!v(z)){for(var c=&quot;.&quot;+ga.domain;2&lt;c.split(&quot;.&quot;).length&amp;&amp;!v(z);)ga.domain=c=c.substr(c.indexOf(&quot;.&quot;)+1),z=window.parent;v(z)||(z=window)}b=z;var d;d=v(b.top)?b.top:null;this.aa=!!d&amp;&amp;!!a;this.ba=(c=a?a.getBoundingClientRect():null)?c.top:0;d=d||b;this.oa=(&quot;CSS1Compat&quot;==d.document.compatMode?d.document.documentElement:d.document.body).clientHeight;b=b.document;b={visible:1,hidden:2,prerender:3,preview:4}[b.webkitVisibilityState||b.mozVisibilityState||b.visibilityState||&quot;&quot;]||0;this.pa=!!a&amp;&amp;!(2==b||3==b)&amp;&amp;!(0==c.top&amp;&amp;0==c.bottom)},Fa=function(){var a=new Ea;return a.aa&amp;&amp;(!a.pa||a.ba&gt;=a.oa)};var Ga=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\[&quot;\\\/bfnrtu]/g,&quot;@&quot;).replace(/&quot;[^&quot;\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,&quot;]&quot;).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,&quot;&quot;)))try{return eval(&quot;(&quot;+a+&quot;)&quot;)}catch(b){}throw Error(&quot;Invalid JSON string: &quot;+a);};var I=function(){this.R=this.R;this.ha=this.ha};I.prototype.R=!1;var J=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.m=!1;this.V=!0};J.prototype.preventDefault=function(){this.defaultPrevented=!0;this.V=!1};var Ha=!E||E&amp;&amp;(C()||9&lt;=xa),Ia=E&amp;&amp;!H(&quot;9&quot;);!G||H(&quot;528&quot;);F&amp;&amp;H(&quot;1.9b&quot;)||E&amp;&amp;H(&quot;8&quot;)||qa&amp;&amp;H(&quot;9.5&quot;)||G&amp;&amp;H(&quot;528&quot;);F&amp;&amp;!H(&quot;8&quot;)||E&amp;&amp;H(&quot;9&quot;);var K=function(a,b){J.call(this,a?a.type:&quot;&quot;);this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.S=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?F&amp;&amp;(ea(d,&quot;nodeName&quot;)||(d=null)):&quot;mouseover&quot;==c?d=a.fromElement:&quot;mouseout&quot;==c&amp;&amp;(d=a.toElement);this.relatedTarget=d;this.offsetX=G||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=G||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(&quot;keypress&quot;==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.S=a;a.defaultPrevented&amp;&amp;this.preventDefault()}};q(K,J);K.prototype.preventDefault=function(){K.ka.preventDefault.call(this);var a=this.S;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ia)try{if(a.ctrlKey||112&lt;=a.keyCode&amp;&amp;123&gt;=a.keyCode)a.keyCode=-1}catch(b){}};var L=&quot;closure_listenable_&quot;+(1E6*Math.random()|0),Ja=0;var Ka=function(a,b,c,d,e){this.listener=a;this.F=null;this.src=b;this.type=c;this.w=!!d;this.A=e;this.key=++Ja;this.o=this.v=!1},M=function(a){a.o=!0;a.listener=null;a.F=null;a.src=null;a.A=null};var N=function(a){this.src=a;this.g={};this.G=0};N.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.G++);var g=O(a,b,d,e);-1&lt;g?(b=a[g],c||(b.v=!1)):(b=new Ka(b,this.src,f,!!d,e),b.v=c,a.push(b));return b};N.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var e=this.g[a];b=O(e,b,c,d);return-1&lt;b?(M(e[b]),A.splice.call(e,b,1),0==e.length&amp;&amp;(delete this.g[a],this.G--),!0):!1};var P=function(a,b){var c=b.type;if(c in a.g){var d=a.g[c],e=na(d,b),f;(f=0&lt;=e)&amp;&amp;A.splice.call(d,e,1);f&amp;&amp;(M(b),0==a.g[c].length&amp;&amp;(delete a.g[c],a.G--))}};N.prototype.K=function(a,b,c,d){a=this.g[a.toString()];var e=-1;a&amp;&amp;(e=O(a,b,c,d));return-1&lt;e?a[e]:null};var O=function(a,b,c,d){for(var e=0;e&lt;a.length;++e){var f=a[e];if(!f.o&amp;&amp;f.listener==b&amp;&amp;f.w==!!c&amp;&amp;f.A==d)return e}return-1};var Q=&quot;closure_lm_&quot;+(1E6*Math.random()|0),R={},La=0,S=function(a,b,c,d,e){if(&quot;array&quot;==l(b))for(var f=0;f&lt;b.length;f++)S(a,b[f],c,d,e);else if(c=Ma(c),a&amp;&amp;a[L])a.listen(b,c,d,e);else{if(!b)throw Error(&quot;Invalid event type&quot;);var f=!!d,g=T(a);g||(a[Q]=g=new N(a));c=g.add(b,c,!1,d,e);c.F||(d=Na(),c.F=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Oa(b.toString()),d),La++)}},Na=function(){var a=Qa,b=Ha?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Ra=function(a,b,c,d,e){if(&quot;array&quot;==l(b))for(var f=0;f&lt;b.length;f++)Ra(a,b[f],c,d,e);else c=Ma(c),a&amp;&amp;a[L]?a.unlisten(b,c,d,e):a&amp;&amp;(a=T(a))&amp;&amp;(b=a.K(b,c,!!d,e))&amp;&amp;Sa(b)},Sa=function(a){if(&quot;number&quot;!=typeof a&amp;&amp;a&amp;&amp;!a.o){var b=a.src;if(b&amp;&amp;b[L])P(b.l,a);else{var c=a.type,d=a.F;b.removeEventListener?b.removeEventListener(c,d,a.w):b.detachEvent&amp;&amp;b.detachEvent(Oa(c),d);La--;(c=T(b))?(P(c,a),0==c.G&amp;&amp;(c.src=null,b[Q]=null)):M(a)}}},Oa=function(a){return a in R?R[a]:R[a]=&quot;on&quot;+a},Ua=function(a,b,c,d){var e=!0;if(a=T(a))if(b=a.g[b.toString()])for(b=b.concat(),a=0;a&lt;b.length;a++){var f=b[a];f&amp;&amp;f.w==c&amp;&amp;!f.o&amp;&amp;(f=Ta(f,d),e=e&amp;&amp;!1!==f)}return e},Ta=function(a,b){var c=a.listener,d=a.A||a.src;a.v&amp;&amp;Sa(a);return c.call(d,b)},Qa=function(a,b){if(a.o)return!0;if(!Ha){var c;if(!(c=b))a:{c=[&quot;window&quot;,&quot;event&quot;];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new K(e,this);d=!0;if(!(0&gt;e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.m&amp;&amp;0&lt;=h;h--){c.currentTarget=e[h];var u=Ua(e[h],f,!0,c),d=d&amp;&amp;u}for(h=0;!c.m&amp;&amp;h&lt;e.length;h++)c.currentTarget=e[h],u=Ua(e[h],f,!1,c),d=d&amp;&amp;u}return d}return Ta(a,new K(b,this))},T=function(a){a=a[Q];return a instanceof N?a:null},U=&quot;__closure_events_fn_&quot;+(1E9*Math.random()&gt;&gt;&gt;0),Ma=function(a){if(&quot;function&quot;==l(a))return a;a[U]||(a[U]=function(b){return a.handleEvent(b)});return a[U]};var V=function(){I.call(this);this.l=new N(this);this.Z=this;this.T=null};q(V,I);V.prototype[L]=!0;V.prototype.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};V.prototype.removeEventListener=function(a,b,c,d){Ra(this,a,b,c,d)};V.prototype.dispatchEvent=function(a){var b,c=this.T;if(c)for(b=[];c;c=c.T)b.push(c);var c=this.Z,d=a.type||a;if(m(a))a=new J(a,c);else if(a instanceof J)a.target=a.target||c;else{var e=a;a=new J(d,c);ia(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.m&amp;&amp;0&lt;=g;g--)f=a.currentTarget=b[g],e=W(f,d,!0,a)&amp;&amp;e;a.m||(f=a.currentTarget=c,e=W(f,d,!0,a)&amp;&amp;e,a.m||(e=W(f,d,!1,a)&amp;&amp;e));if(b)for(g=0;!a.m&amp;&amp;g&lt;b.length;g++)f=a.currentTarget=b[g],e=W(f,d,!1,a)&amp;&amp;e;return e};V.prototype.listen=function(a,b,c,d){return this.l.add(String(a),b,!1,c,d)};V.prototype.unlisten=function(a,b,c,d){return this.l.remove(String(a),b,c,d)};var W=function(a,b,c,d){b=a.l.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f&lt;b.length;++f){var g=b[f];if(g&amp;&amp;!g.o&amp;&amp;g.w==c){var h=g.listener,u=g.A||g.src;g.v&amp;&amp;P(a.l,g);e=!1!==h.call(u,d)&amp;&amp;e}}return e&amp;&amp;0!=d.V};V.prototype.K=function(a,b,c,d){return this.l.K(String(a),b,c,d)};var X=function(a,b){V.call(this);this.B=a||1;this.s=b||k;this.I=n(this.la,this);this.L=p()};q(X,V);X.prototype.enabled=!1;X.prototype.h=null;X.prototype.la=function(){if(this.enabled){var a=p()-this.L;0&lt;a&amp;&amp;a&lt;.8*this.B?this.h=this.s.setTimeout(this.I,this.B-a):(this.h&amp;&amp;(this.s.clearTimeout(this.h),this.h=null),this.dispatchEvent(&quot;tick&quot;),this.enabled&amp;&amp;(this.h=this.s.setTimeout(this.I,this.B),this.L=p()))}};X.prototype.start=function(){this.enabled=!0;this.h||(this.h=this.s.setTimeout(this.I,this.B),this.L=p())};X.prototype.stop=function(){this.enabled=!1;this.h&amp;&amp;(this.s.clearTimeout(this.h),this.h=null)};var Y=function(a,b,c,d){this.O=a;this.ca=b;this.da=c;this.D=0;this.u=document.getElementById(&quot;mtadmas&quot;);this.ma=document.getElementById(&quot;mtadmaundo&quot;);this.M=document.getElementById(&quot;mtadmac&quot;);this.$=document.getElementById(&quot;mtadmback&quot;);this.U=document.getElementById(&quot;mtadmpc&quot;);this.na=document.getElementById(&quot;mtadmpundo&quot;);this.j=this.Y=this.J=this.P=this.N=null;this.C=!1;this.H=null;this.ga=d?d.getAdsLength():1;(this.i=d)&amp;&amp;this.i.registerWidget(this,0)},Va=function(a){for(var b=document.getElementsByName(&quot;surveyOptions&quot;),c=0;c&lt;b.length;c++)w(b[c],a,n(a.ia,a,b[c].value));w(a.ma,a,n(a.X,a,&quot;1&quot;));w(a.na,a,n(a.X,a,&quot;3&quot;));w(a.$,a,a.back);a.i&amp;&amp;(a.i.listenOnObject(&quot;mute_option_selected&quot;,n(a.W,a)),a.i.forEachAd(n(function(a){a.listenOnObject(&quot;multislot_mute_collapse&quot;,n(this.fa,this));a.listenOnObject(&quot;multislot_mute_collapse_undo&quot;,n(this.ea,this))},a)))};Y.prototype.W=function(a){this.N=a.close_button_token;this.P=a.creative_conversion_url;this.J=a.ablation_config;this.Y=a.undo_callback;this.i&amp;&amp;(this.H=this.i.getAd(a.creative_index));if(1===a.type){a=document.getElementsByName(&quot;surveyOptions&quot;);for(var b=0;b&lt;a.length;b++)a[b].checked=!1;this.u.style.display=&quot;block&quot;;Z(this);Wa(this)}else 0===a.type&amp;&amp;(this.U.style.display=&quot;block&quot;,this.u.style.display=&quot;none&quot;,Z(this),Xa(this,document.getElementById(&quot;pub-feedback-closing&quot;),this.J))};var Ya=function(a){a.j&amp;&amp;(a.j.stop(),a.j=null,a.C=!1);za(&quot;pub-feedback-closing&quot;).style.display=&quot;none&quot;;za(&quot;ad-feedback-closing&quot;).style.display=&quot;none&quot;};Y.prototype.X=function(a){this.C||(Ya(this),fa(Za(this,&quot;user_feedback_undo&quot;,a)),this.Y())};Y.prototype.back=function(){this.C||(Ya(this),this.u.style.display=&quot;block&quot;,Z(this),Wa(this))};Y.prototype.ia=function(a){this.M.style.display=&quot;block&quot;;this.u.style.display=&quot;none&quot;;Wa(this);fa(Za(this,&quot;mute_survey_option&quot;,a));a=document.getElementById(&quot;ad-feedback-closing&quot;);this.D&lt;this.ga-1&amp;&amp;this.i&amp;&amp;this.ca?$a(this,a):Xa(this,a,this.J)};var Za=function(a,b,c){return a.P+&quot;&amp;label=&quot;+b+&quot;&amp;cbt=&quot;+a.N+&quot;&amp;label_instance=&quot;+c},Z=function(a){a.M.style.display=&quot;none&quot;},Wa=function(a){a.U.style.display=&quot;none&quot;},ab=function(a,b,c,d,e,f){var g=Da(),h=c+d;0&gt;e||e&gt;h||(a.j||(a.j=new X(1E3),S(a.j,&quot;tick&quot;,n(function(){var a=&quot;&quot;;h&lt;=d&amp;&amp;0&lt;h&amp;&amp;(a=g.replace(&quot;%1$d&quot;,String(h)));b.style.display=a?&quot;inline&quot;:&quot;none&quot;;if(&quot;textContent&quot;in b)b.textContent=a;else if(3==b.nodeType)b.data=a;else if(b.firstChild&amp;&amp;3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=a}else{for(var c;c=b.firstChild;)b.removeChild(c);b.appendChild((9==b.nodeType?b:b.ownerDocument||b.document).createTextNode(String(a)))}if(h==e)try{this.C=!0,f&amp;&amp;f()}catch(y){}0&gt;=h&amp;&amp;Ya(this);h--},a))),a.j.dispatchEvent(&quot;tick&quot;),0&lt;=h&amp;&amp;a.j.start())},Xa=function(a,b,c){if(c&amp;&amp;window.top&amp;&amp;window.top.postMessage){var d=Ga(c),e=la(d),f=&quot;resize-me&quot;==d.msg_type&amp;&amp;&quot;animate&quot;==e.r_str;(&quot;ablate-me&quot;==d.msg_type&amp;&amp;e[&quot;collapse-after-close&quot;]||f&amp;&amp;!Fa())&amp;&amp;ab(a,b,x(e[&quot;secs-to-countdown&quot;],1),x(e.countdown,0),x(e[&quot;message-tick&quot;],1),function(){window.top.postMessage(c,&quot;*&quot;)})}},$a=function(a,b){ab(a,b,1,a.da,0,n(function(){var a={creative_index:this.H.getIndex(),undo_pingback_url:Za(this,&quot;user_feedback_undo&quot;,&quot;1&quot;)};this.H.fireOnObject(&quot;multislot_mute_collapse&quot;,a)},a))};Y.prototype.fa=function(){this.D++;this.i.resetAll()};Y.prototype.ea=function(){0&lt;this.D&amp;&amp;this.D--};Y.prototype.show=function(){this.O.style.display=&quot;block&quot;};Y.prototype.hide=function(){this.O.style.display=&quot;none&quot;};Y.prototype.reset=function(){this.hide()};Y.prototype.show=Y.prototype.show;Y.prototype.hide=Y.prototype.hide;Y.prototype.reset=Y.prototype.reset;Y.prototype.setupSurveyPage=Y.prototype.W;aa(&quot;cmtads&quot;,function(a,b){var c=null,d=document.getElementById(&quot;cbtf&quot;);d&amp;&amp;(c=new Y(d,!!a,b||0,window.adSlot),Va(c));c&amp;&amp;aa(&quot;muteSurvey&quot;,c);return c});})();cmtads(false,0);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;{&quot;uid&quot;:1,&quot;hostPeerName&quot;:&quot;http://code.tutsplus.com&quot;,&quot;initialGeometry&quot;:&quot;{\&quot;windowCoords_t\&quot;:23,\&quot;windowCoords_r\&quot;:1142,\&quot;windowCoords_b\&quot;:754,\&quot;windowCoords_l\&quot;:67,\&quot;frameCoords_t\&quot;:370,\&quot;frameCoords_r\&quot;:1077,\&quot;frameCoords_b\&quot;:620,\&quot;frameCoords_l\&quot;:777,\&quot;styleZIndex\&quot;:\&quot;auto\&quot;,\&quot;allowedExpansion_t\&quot;:0,\&quot;allowedExpansion_r\&quot;:0,\&quot;allowedExpansion_b\&quot;:0,\&quot;allowedExpansion_l\&quot;:0,\&quot;xInView\&quot;:0,\&quot;yInView\&quot;:0}&quot;,&quot;permissions&quot;:&quot;{\&quot;expandByOverlay\&quot;:true,\&quot;expandByPush\&quot;:false,\&quot;readCookie\&quot;:false,\&quot;writeCookie\&quot;:false}&quot;,&quot;metadata&quot;:&quot;{\&quot;shared\&quot;:{\&quot;sf_ver\&quot;:\&quot;1-0-2\&quot;,\&quot;ck_on\&quot;:1,\&quot;flash_ver\&quot;:\&quot;17.0.0\&quot;}}&quot;,&quot;reportCreativeGeometry&quot;:false}" scrolling="no" marginwidth="0" marginheight="0" width="300" height="250" data-is-safeframe="true" style="border: 0px; vertical-align: bottom;"></iframe></div></div><div class="ad__label">Advertisement</div></div></div><div class="post__sidebar"><div class="post__sidebar-primary"><div class="post__series-info"></div><div class="post-meta"><img sizes="100px" alt="Preview for Accessing Google Services Using the OAuth 2.0 Protocol" class="post-meta__image" srcset="https://cdn.tutsplus.com/mobile/uploads/2013/09/Google-OAuth@2x.png 400w" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/Google-OAuth@2x.png"><div class="post-meta__description"><div class="post-meta__item"><div class="post-meta__label">Difficulty:</div><div class="post-meta__value">Intermediate</div></div><div class="post-meta__item"><div class="post-meta__label">Length:</div><div class="post-meta__value">Long</div></div><div class="post-meta__item"><div class="post-meta__label">Categories:</div><div class="post-meta__value"><span class="post-meta__tag"><a class="post-meta__category-link" href="http://code.tutsplus.com/categories/ios-sdk" sl-processed="1">iOS SDK</a></span><span class="post-meta__tag"><a class="post-meta__category-link" href="http://code.tutsplus.com/categories/mobile-development" sl-processed="1">Mobile Development</a></span></div></div><div class="post-meta__label">Translations:</div><div class="post-meta__translate-this-post"><p>Tuts+ tutorials are translated into other languages by our community members—you can be involved too!</p><a class="post-meta__translate-button" href="https://www.formstack.com/forms/envato-tuts__translate_a_tutorial?link%20to%20tutorial=http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394" sl-processed="1">Translate this post</a></div><div class="post-meta__resource-links"><a class="post-meta__resource-link post-meta__download-attachment-link" href="http://cdn.tutsplus.com/mobile/uploads/2013/09/GoogleOAuthDemo.zip" sl-processed="1">Download Attachment <i class="tutsicon-download"></i></a></div></div></div><div class="instructor-bio view instructor-bio--collapsed view--loaded"><div class="instructor-bio__title">About <a class="instructor-bio__title-link" href="http://tutsplus.com/authors/gabriel-theodoropoulos" sl-processed="1">Gabriel Theodoropoulos</a></div><div class="instructor-bio__details"><a class="instructor-bio__title-link" href="http://tutsplus.com/authors/gabriel-theodoropoulos" sl-processed="1"><img alt="" class="instructor-bio__image" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/582c964c3dafd700a4df627225d859fe"></a>I have been a software developer for almost two decades. Experienced in the most known programming languages, I have developed numerous applications for various target platforms. Since the middle of 2010, I've been working almost exclusively on iOS. Having built applications and libraries, I keep doing so up to date. By writing tutorials I'm in position to share knowledge with other developers.</div><a class="instructor-bio__expand-link" href="javascript:;" sl-processed="1">+ Expand Bio</a><a class="instructor-bio__collapse-link" href="javascript:;" sl-processed="1">- Collapse Bio</a></div><div class="post__ad"><div class="ad view"><div class="ad__wrapper"><div class="ad__content" id="div-gpt-1382314910331-0"><div id="google_ads_iframe_/11757429/hub_development_post_mid_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 250px;"><iframe frameborder="0" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/container(2).html" id="google_ads_iframe_/11757429/hub_development_post_mid_0" name="1-0-2;22086;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body leftMargin=&quot;0&quot; topMargin=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot;&gt;&lt;script&gt;(function(){var g=this,l=function(a,b){var c=a.split(&quot;.&quot;),d=g;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?m:n;return p.apply(null,arguments)},q=Date.now||function(){return+new Date};var r=document,s=window;var t=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)},w=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var x=function(a){return{visible:1,hidden:2,prerender:3,preview:4}[a.webkitVisibilityState||a.mozVisibilityState||a.visibilityState||&quot;&quot;]||0},y=function(a){var b;a.mozVisibilityState?b=&quot;mozvisibilitychange&quot;:a.webkitVisibilityState?b=&quot;webkitvisibilitychange&quot;:a.visibilityState&amp;&amp;(b=&quot;visibilitychange&quot;);return b};var C=function(){this.g=r;this.k=s;this.j=!1;this.i=null;this.h=[];this.o={};if(z)this.i=q();else if(3==x(this.g)){this.i=q();var a=p(this.q,this);A&amp;&amp;(a=A(&quot;di::vch&quot;,a));this.p=a;var b=this.g,c=y(this.g);b.addEventListener?b.addEventListener(c,a,!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;on&quot;+c,a)}else B(this)},A;C.m=function(){return C.n?C.n:C.n=new C};var D=/^([^:]+:\/\/[^/]+)/m,G=/^\d*,(.+)$/m,z=!1,B=function(a){if(!a.j){a.j=!0;for(var b=0;b&lt;a.h.length;++b)a.l.apply(a,a.h[b]);a.h=[]}};C.prototype.s=function(a,b){var c=b.target.u();(c=G.exec(c))&amp;&amp;(this.o[a]=c[1])};C.prototype.l=function(a,b){this.k.rvdt=this.i?q()-this.i:0;var c;if(c=this.t)t:{try{var d=D.exec(this.k.location.href),e=D.exec(a);if(d&amp;&amp;e&amp;&amp;d[1]==e[1]&amp;&amp;b){var f=p(this.s,this,b);this.t(a,f);c=!0;break t}}catch(u){}c=!1}c||w(this.k,a)};C.prototype.q=function(){if(3!=x(this.g)){B(this);var a=this.g,b=y(this.g),c=this.p;a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+b,c)}};var H=/^true$/.test(&quot;&quot;)?!0:!1;var I={},J=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},M=function(a,b,c,d){var e=K,f,u=!0;try{f=b()}catch(h){try{var N=J(h);b=&quot;&quot;;h.fileName&amp;&amp;(b=h.fileName);var E=-1;h.lineNumber&amp;&amp;(E=h.lineNumber);var v;t:{try{v=c?c():&quot;&quot;;break t}catch(S){}v=&quot;&quot;}u=e(a,N,b,E,v)}catch(k){try{var O=J(k);a=&quot;&quot;;k.fileName&amp;&amp;(a=k.fileName);c=-1;k.lineNumber&amp;&amp;(c=k.lineNumber);K(&quot;pAR&quot;,O,a,c,void 0,void 0)}catch(F){L({context:&quot;mRE&quot;,msg:F.toString()+&quot;\n&quot;+(F.stack||&quot;&quot;)},void 0)}}if(!u)throw h;}finally{if(d)try{d()}catch(T){}}return f},K=function(a,b,c,d,e,f){a={context:a,msg:b.substring(0,512),eid:e&amp;&amp;e.substring(0,40),file:c,line:d.toString(),url:r.URL.substring(0,512),ref:r.referrer.substring(0,512)};P(a);L(a,f);return!0},L=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+Q(a),d=&quot;http&quot;+(&quot;https:&quot;==s.location.protocol?&quot;s&quot;:&quot;&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);w(s,d)}}catch(e){}},P=function(a){var b=a||{};t(I,function(a,d){b[d]=s[a]})},R=function(a,b,c,d,e){return function(){var f=arguments;return M(a,function(){return b.apply(c,f)},d,e)}},Q=function(a){var b=&quot;&quot;;t(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+(&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return b};A=function(a,b,c,d){return R(a,b,void 0,c,d)};z=H;l(&quot;vu&quot;,R(&quot;vu&quot;,function(a,b){var c=a.replace(&quot;&amp;amp;&quot;,&quot;&amp;&quot;),d=/(google|doubleclick).*\/pagead\/adview/.test(c),e=C.m();if(d){d=&quot;&amp;vis=&quot;+x(e.g);b&amp;&amp;(d+=&quot;&amp;ve=1&quot;);var f=c.indexOf(&quot;&amp;adurl&quot;),c=-1==f?c+d:c.substring(0,f)+d+c.substring(f)}e.j?e.l(c,b):e.h.push([c,b])}));l(&quot;vv&quot;,R(&quot;vv&quot;,function(){z&amp;&amp;B(C.m())}));})();&lt;/script&gt;&lt;script&gt;vu(&quot;http://pubads.g.doubleclick.net/pagead/adview?ai\x3dC4sLDFY9cVZ7gMMenhASK6IMYrZif4AaNrIPfjgHAjbcBEAEgAGDJjvCIhKTsD4IBF2NhLXB1Yi0zNTU4ODcwNTY0NTI3NDE2yAEJ4AIAqAMBmAQAqgTwAU_QWHsFxGNXS-JRsdEFnhjuXfjxgShg2gDV_Vt4cqFMImB2nrZDhGsxIUzmWNfGsFcTcnaTBgW1MpKA6Ixd8hMupBil0_EFe9M2hbT0gyycQ5jiGppWgrjOxT9eIaFhK7K8aTfxI4Uaa6XAasniCRS_qEaMNgsI6STBCPEajwTsGUJOjqL9Fwnv9YL1lPXO0BWVqFQbeyprt8nhmVSAHW_M1p25WytEsFuSkiDpPlZakvQ7Oj5sGVmZrG4Odj9-BxkDuUo08fMMrgyjE8VXp25uv9Vvb2J7Kpy1Guj49gO6clgcrXVdHGDXtbNcc2jCXOAEAYAG54uKhY_P7fk_oAYh2AcA\x26sigh\x3dfIT6tAkY_i8&quot;)&lt;/script&gt;&lt;SCRIPT language=&quot;JavaScript1.1&quot; SRC=&quot;http://bid.g.doubleclick.net/xbbe/creative/adj?d=APEucNUuIGp4KB25ZXax1MF82EkoFS1j9MT4ipZ1K9A6isG37BahN_uuHYQ0ih0pBBs53aPlN1_AHTH21fhiLnolBPRBBArBrxC2yFg3qqZ2dVUx1X3_LoKuEbo5_xv_NppRvj0rlZ62c8nAO0UTCnQUZLohwJox81cMsggoHCrSi5ze7zjia-CecDp3WuenMto08jnOLpxm3D_bpaLXcvm25RDDItCEsqUqvF56S4gt1soXbB8DwjzKm2QKdx9ZqRGuabuBP_axdgBuoaCNpWm1xjRFbIY3OqS98ssmwmYrD9Z8HUTSbnTwX-q1NOz8_ukdycKiJvHvJeZ67laemISWkEJwn7IqVTaoM4gdDI1ylVaxTHcfSUoueZYvYjiZH5C4EEYi3wcFcHzyF97FWDlRpimtQe6HQ4HQ-q5OFg9HcenIST0pbLQbJlr80_FqdPAj91HmRE32fYI6Vng1CjTkicrj1Jmnxw&amp;pr=VVyPFQAMMB4KgRPHAAD0CjCU9XGDNaCn3wV34A&amp;c=http://adclick.g.doubleclick.net/aclk%3Fsa%3DL%26ai%3DC4sLDFY9cVZ7gMMenhASK6IMYrZif4AaNrIPfjgHAjbcBEAEgAGDJjvCIhKTsD4IBF2NhLXB1Yi0zNTU4ODcwNTY0NTI3NDE2yAEJ4AIAqAMBmAQAqgTwAU_QWHsFxGNXS-JRsdEFnhjuXfjxgShg2gDV_Vt4cqFMImB2nrZDhGsxIUzmWNfGsFcTcnaTBgW1MpKA6Ixd8hMupBil0_EFe9M2hbT0gyycQ5jiGppWgrjOxT9eIaFhK7K8aTfxI4Uaa6XAasniCRS_qEaMNgsI6STBCPEajwTsGUJOjqL9Fwnv9YL1lPXO0BWVqFQbeyprt8nhmVSAHW_M1p25WytEsFuSkiDpPlZakvQ7Oj5sGVmZrG4Odj9-BxkDuUo08fMMrgyjE8VXp25uv9Vvb2J7Kpy1Guj49gO6clgcrXVdHGDXtbNcc2jCXOAEAYAG54uKhY_P7fk_oAYh2AcA%26num%3D1%26sig%3DAOD64_28CB2NrxIkU-rkcUxPnGO7VOX7og%26client%3Dca-pub-3558870564527416%26adurl%3D&quot;&gt;&lt;/SCRIPT&gt;&lt;NOSCRIPT&gt;&lt;A HREF=&quot;http://adclick.g.doubleclick.net/aclk?sa=L&amp;ai=C4sLDFY9cVZ7gMMenhASK6IMYrZif4AaNrIPfjgHAjbcBEAEgAGDJjvCIhKTsD4IBF2NhLXB1Yi0zNTU4ODcwNTY0NTI3NDE2yAEJ4AIAqAMBmAQAqgTwAU_QWHsFxGNXS-JRsdEFnhjuXfjxgShg2gDV_Vt4cqFMImB2nrZDhGsxIUzmWNfGsFcTcnaTBgW1MpKA6Ixd8hMupBil0_EFe9M2hbT0gyycQ5jiGppWgrjOxT9eIaFhK7K8aTfxI4Uaa6XAasniCRS_qEaMNgsI6STBCPEajwTsGUJOjqL9Fwnv9YL1lPXO0BWVqFQbeyprt8nhmVSAHW_M1p25WytEsFuSkiDpPlZakvQ7Oj5sGVmZrG4Odj9-BxkDuUo08fMMrgyjE8VXp25uv9Vvb2J7Kpy1Guj49gO6clgcrXVdHGDXtbNcc2jCXOAEAYAG54uKhY_P7fk_oAYh2AcA&amp;num=1&amp;sig=AOD64_28CB2NrxIkU-rkcUxPnGO7VOX7og&amp;client=ca-pub-3558870564527416&amp;adurl=http://bid.g.doubleclick.net/xbbe/creative/jump%3Fd%3DAPEucNUuIGp4KB25ZXax1MF82EkoFS1j9MT4ipZ1K9A6isG37BahN_uuHYQ0ih0pBBs53aPlN1_AHTH21fhiLnolBPRBBArBrxC2yFg3qqZ2dVUx1X3_LoKuEbo5_xv_NppRvj0rlZ62c8nAO0UTCnQUZLohwJox81cMsggoHCrSi5ze7zjia-CecDp3WuenMto08jnOLpxm3D_bpaLXcvm25RDDItCEsqUqvF56S4gt1soXbB8DwjzKm2QKdx9ZqRGuabuBP_axdgBuoaCNpWm1xjRFbIY3OqS98ssmwmYrD9Z8HUTSbnTwX-q1NOz8_ukdycKiJvHvJeZ67laemISWkEJwn7IqVTaoM4gdDI1ylVaxTHcfSUoueZYvYjiZH5C4EEYi3wcFcHzyF97FWDlRpimtQe6HQ4HQ-q5OFg9HcenIST0pbLQbJlr80_FqdPAj91HmRE32fYI6Vng1CjTkicrj1Jmnxw&quot;&gt;&lt;IMG SRC=&quot;http://bid.g.doubleclick.net/xbbe/creative/ad?d=APEucNUuIGp4KB25ZXax1MF82EkoFS1j9MT4ipZ1K9A6isG37BahN_uuHYQ0ih0pBBs53aPlN1_AHTH21fhiLnolBPRBBArBrxC2yFg3qqZ2dVUx1X3_LoKuEbo5_xv_NppRvj0rlZ62c8nAO0UTCnQUZLohwJox81cMsggoHCrSi5ze7zjia-CecDp3WuenMto08jnOLpxm3D_bpaLXcvm25RDDItCEsqUqvF56S4gt1soXbB8DwjzKm2QKdx9ZqRGuabuBP_axdgBuoaCNpWm1xjRFbIY3OqS98ssmwmYrD9Z8HUTSbnTwX-q1NOz8_ukdycKiJvHvJeZ67laemISWkEJwn7IqVTaoM4gdDI1ylVaxTHcfSUoueZYvYjiZH5C4EEYi3wcFcHzyF97FWDlRpimtQe6HQ4HQ-q5OFg9HcenIST0pbLQbJlr80_FqdPAj91HmRE32fYI6Vng1CjTkicrj1Jmnxw&amp;pr=VVyPFQAMMB4KgRPHAAD0CjCU9XGDNaCn3wV34A&quot; BORDER=0 WIDTH=300 HEIGHT=250 ALT=&quot;Advertisement&quot;&gt;&lt;/A&gt;&lt;/NOSCRIPT&gt;&lt;script type=&quot;text/javascript&quot;&gt;  if (&#39;1&#39;) {  document.write(&#39;&lt;script src=&quot;http://c.betrad.com/surly.js?;ad_w=300;ad_h=250;coid=322;nid=4311;cps=1&quot;&gt;&lt;/sc&#39; + &#39;ript&gt;&#39;);  }&lt;/script&gt;&lt;iframe src=&quot;http://googleads.g.doubleclick.net/xbbe/pixel?d=CL-MFxDazRkY66SRBA&amp;v=APEucNV5L3YhpFTPuxDIo73y6DA8nagcV8CwMiW5raa-LYHI4Ri8ZdJCMTKagSI4qcQovtQjZh2vJhRQUkiElPztNCu0-AppnjT2rLKxc6lIMornvCvmd9o&quot; style=&quot;display:none&quot;&gt;&lt;/iframe&gt;&lt;DIV STYLE=&quot;position: absolute; left: 0px; top: 0px; visibility: hidden;&quot;&gt;&lt;IMG SRC=&quot;http://bid.g.doubleclick.net/xbbe/beacon?data=APEucNWMThdg2L-u590f1XmJES9lr5MYTGF-AvwZ2jcMrDHPNlep3U-gfoEeGM0e1I_BzQlgGqi0trSMAonHKycNtiOotF9N_g&quot; BORDER=0 WIDTH=1 HEIGHT=1 ALT=&quot;&quot; STYLE=&quot;display:none&quot;&gt;&lt;/DIV&gt;&lt;iframe scrolling=&quot;no&quot; frameborder=0 height=0 width=0 src=&quot;http://cm.g.doubleclick.net/push?client=ca-pub-3558870564527416&quot; style=&quot;position:absolute&quot;&gt;&lt;/iframe&gt;&lt;script type=&quot;text/javascript&quot;&gt;(function(){var h=this,m=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},n=function(a){return&quot;string&quot;==typeof a},aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},p=function(a,b){var c=a.split(&quot;.&quot;),d=h;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};var r=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?r(a,b,d,void 0,e):a:c};var ba=function(){var a=/[&amp;\?]exk=([^&amp; ]+)/.exec(t.location.href);return a&amp;&amp;2==a.length?a[1]:null};var ca=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},u=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var v=document,t=window;var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},w=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var y=null,ea=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};function z(a){return&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}var fa=function(){if(!v.body)return!1;if(!y){var a=v.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.id=&quot;anonIframe&quot;;y=a;v.body.appendChild(a)}return!0},A={};var ga=!0,ha={},ka=function(a,b,c,d){var e=ia,f,g=ga;try{f=b()}catch(k){try{var q=ca(k);b=&quot;&quot;;k.fileName&amp;&amp;(b=k.fileName);var D=-1;k.lineNumber&amp;&amp;(D=k.lineNumber);g=e(a,q,b,D,c)}catch(l){try{var x=ca(l);a=&quot;&quot;;l.fileName&amp;&amp;(a=l.fileName);c=-1;l.lineNumber&amp;&amp;(c=l.lineNumber);ia(&quot;pAR&quot;,x,a,c,void 0,void 0)}catch(xa){ja({context:&quot;mRE&quot;,msg:xa.toString()+&quot;\n&quot;+(xa.stack||&quot;&quot;)},void 0)}}if(!g)throw k;}finally{if(d)try{d()}catch(sb){}}return f},ia=function(a,b,c,d,e,f){var g={};if(e)try{e(g)}catch(k){}g.context=a;g.msg=b.substring(0,512);c&amp;&amp;(g.file=c);0&lt;d&amp;&amp;(g.line=d.toString());g.url=v.URL.substring(0,512);g.ref=v.referrer.substring(0,512);la(g);ja(g,f);return ga},ja=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+ma(a),d=&quot;http&quot;+(&quot;http:&quot;==t.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);u(t,d)}}catch(e){}},la=function(a){var b=a||{};ea(ha,function(a,d){b[d]=t[a]})},B=function(a,b,c,d,e){return function(){var f=arguments;return ka(a,function(){return b.apply(c,f)},d,e)}},ma=function(a){var b=&quot;&quot;;ea(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+z(a)});return b};var C=Array.prototype,na=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(n(a))return n(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},oa=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e};var pa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},qa=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==m(arguments[0]))return qa.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var E;a:{var ra=h.navigator;if(ra){var sa=ra.userAgent;if(sa){E=sa;break a}}E=&quot;&quot;};var F=function(){return-1!=E.indexOf(&quot;Edge&quot;)};var ta=-1!=E.indexOf(&quot;Opera&quot;)||-1!=E.indexOf(&quot;OPR&quot;),G=-1!=E.indexOf(&quot;Edge&quot;)||-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;),ua=-1!=E.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F())&amp;&amp;!(-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;))&amp;&amp;!F(),va=-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F(),wa=function(){var a=E;if(ua)return/rv\:([^\);]+)(\)|;)/.exec(a);if(G&amp;&amp;F())return/Edge\/([\d\.]+)/.exec(a);if(G)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(va)return/WebKit\/(\S+)/.exec(a)},ya=function(){var a=h.document;return a?a.documentMode:void 0},za=function(){if(ta&amp;&amp;h.opera){var a=h.opera.version;return&quot;function&quot;==m(a)?a():a}var a=&quot;&quot;,b=wa();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return G&amp;&amp;!F()&amp;&amp;(b=ya(),b&gt;parseFloat(a))?String(b):a}(),Aa={},Ba=function(a){if(!Aa[a]){for(var b=0,c=da(String(za)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;,q=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),D=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var l=q.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],x=D.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==l[0].length&amp;&amp;0==x[0].length)break;b=w(0==l[1].length?0:parseInt(l[1],10),0==x[1].length?0:parseInt(x[1],10))||w(0==l[2].length,0==x[2].length)||w(l[2],x[2])}while(0==b)}Aa[a]=0&lt;=b}},Ca=h.document,Da=ya(),Ea=!Ca||!G||!Da&amp;&amp;F()?void 0:Da||(&quot;CSS1Compat&quot;==Ca.compatMode?parseInt(za,10):5);var Fa={i:947190538,j:947190541,l:947190542,g:79463068,h:79463069},Ga={f:&quot;ud=1&quot;,m:&quot;ts=1&quot;,c:&quot;sc=1&quot;};if(v&amp;&amp;v.URL)var H=v.URL,ga=!(H&amp;&amp;(0&lt;H.indexOf(&quot;?google_debug&quot;)||0&lt;H.indexOf(&quot;&amp;google_debug&quot;)||0&lt;H.indexOf(&quot;#google_debug&quot;)));var I=function(a,b,c,d){c=B(d||&quot;osd_or_lidar::&quot;+b,c,void 0,void 0,void 0);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)},Ha=function(a,b,c){if(!(0&gt;=b)){var d=0,e=function(){a();d++;d&lt;b&amp;&amp;t.setTimeout(B(c,e,void 0,void 0,void 0),100)};e()}};var J=function(a,b){this.b=a||0;this.a=b||&quot;&quot;},K=function(a,b){a.b&amp;&amp;(b[4]=a.b);a.a&amp;&amp;(b[12]=a.a)};J.prototype.match=function(a){return(this.b||this.a)&amp;&amp;(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};J.prototype.toString=function(){var a=&quot;&quot;+this.b;this.a&amp;&amp;(a+=&quot;-&quot;+this.a);return a};var Ia=function(){var a=L,b=[];a.b&amp;&amp;b.push(&quot;adk=&quot;+a.b);a.a&amp;&amp;b.push(&quot;exk=&quot;+a.a);return b},M=function(a){var b=[];pa(a,function(a,d){var e=z(d),f=a;n(f)&amp;&amp;(f=z(f));b.push(e+&quot;=&quot;+f)});return b.join(&quot;\n&quot;)},N=0,Ja=0,Ka=function(a){var b=0,c=t;try{if(c&amp;&amp;c.Goog_AdSense_getAdAdapterInstance)return c}catch(d){}try{for(;c&amp;&amp;5&gt;b;){if(c.google_osd_static_frame)return c;if(c.aswift_0&amp;&amp;(!a||c.aswift_0.google_osd_static_frame))return c.aswift_0;b++;c=c!=c.parent?c.parent:null}}catch(e){}return null},La=function(a,b,c,d,e){if(10&lt;Ja)t.clearInterval(N);else if(++Ja,t.postMessage&amp;&amp;(b.b||b.a)){var f=Ka(!0);if(f){var g={};K(b,g);g[0]=&quot;goog_request_monitoring&quot;;g[6]=a;g[16]=c;d&amp;&amp;d.length&amp;&amp;(g[17]=d.join(&quot;,&quot;));e&amp;&amp;(g[19]=e);try{var k=M(g);f.postMessage(k,&quot;*&quot;)}catch(q){}}}},Ma=function(a){var b=Ka(!1),c=!b;!b&amp;&amp;t&amp;&amp;(b=t.parent);if(b&amp;&amp;b.postMessage)try{b.postMessage(a,&quot;*&quot;),c&amp;&amp;t.postMessage(a,&quot;*&quot;)}catch(d){}};qa(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var O=function(a,b){this.width=a;this.height=b};var Na;if(!(Na=!ua&amp;&amp;!G)){var Oa;if(Oa=G)Oa=G&amp;&amp;(F()||9&lt;=Ea);Na=Oa}Na||ua&amp;&amp;Ba(&quot;1.9.1&quot;);G&amp;&amp;Ba(&quot;9&quot;);G&amp;&amp;Ba(12);var Qa=function(){var a=t.parent&amp;&amp;t.parent!=t,b=a&amp;&amp;0&lt;=&quot;//tpc.googlesyndication.com&quot;.indexOf(t.location.host);if(a&amp;&amp;t.name&amp;&amp;0==t.name.indexOf(&quot;google_ads_iframe&quot;)||b){var c;a=t||t;try{var d;if(a.document&amp;&amp;!a.document.body)d=new O(-1,-1);else{var e=(a||window).document,f=&quot;CSS1Compat&quot;==e.compatMode?e.documentElement:e.body;d=new O(f.clientWidth,f.clientHeight)}c=d}catch(g){c=new O(-12245933,-12245933)}return Pa(c)}c=t.document.getElementsByTagName(&quot;SCRIPT&quot;);return 0&lt;c.length&amp;&amp;(c=c[c.length-1],c.parentElement&amp;&amp;c.parentElement.id&amp;&amp;0&lt;c.parentElement.id.indexOf(&quot;_ad_container&quot;))?Pa(void 0,c.parentElement):null},Pa=function(a,b){var c=Ra(&quot;IMG&quot;,a,b);return c||(c=Ra(&quot;IFRAME&quot;,a,b))?c:(c=Ra(&quot;OBJECT&quot;,a,b))?c:null},Ra=function(a,b,c){var d=document;c=c||d;d=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;c=c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;d?c.querySelectorAll(d+&quot;&quot;):c.getElementsByTagName(d||&quot;*&quot;);for(d=0;d&lt;c.length;d++){var e=c[d];if(&quot;OBJECT&quot;==a)a:{var f=e.getAttribute(&quot;height&quot;);if(null!=f&amp;&amp;0&lt;f&amp;&amp;0==e.clientHeight)for(var f=e.children,g=0;g&lt;f.length;g++){var k=f[g];if(&quot;OBJECT&quot;==k.nodeName||&quot;EMBED&quot;==k.nodeName){e=k;break a}}}f=e.clientHeight;g=e.clientWidth;if(k=b)k=new O(g,f),k=Math.abs(b.width-k.width)&lt;.1*b.width&amp;&amp;Math.abs(b.height-k.height)&lt;.1*b.height;if(k||!b&amp;&amp;10&lt;f&amp;&amp;10&lt;g)return e}return null};var Sa,P=0,Q=&quot;&quot;,R=!1,S=!1,T=!1,Ta=!0,Ua=!1,Va=!1,Wa=[],L=null,Xa=&quot;&quot;,Ya=[],Za=null,$a=[],ab=!1,U=&quot;&quot;,V=&quot;&quot;,bb=(new Date).getTime(),cb=!1,db=!1,eb=&quot;&quot;,fb=!1,gb=[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;],W=0,X=0,hb=0,ib=&quot;&quot;,jb=function(a,b,c){R&amp;&amp;(Ta||3!=(c||3)||Va)&amp;&amp;Y(a,b,!0);(T||S&amp;&amp;Ua)&amp;&amp;Y(a,b)},kb=function(){var a=Za;return a?2!=a():!0},Y=function(a,b,c){if((b=b||Xa)&amp;&amp;!ab&amp;&amp;(2==X||c)&amp;&amp;kb()){var d;d=c?&quot;osdim&quot;:T?&quot;osd2&quot;:&quot;osdtos&quot;;var e=[&quot;//pagead2.googlesyndication.com/activeview&quot;,&quot;?id=&quot;,d];&quot;osd2&quot;==d&amp;&amp;S&amp;&amp;Ua&amp;&amp;e.push(&quot;&amp;ts=1&quot;);Q&amp;&amp;e.push(&quot;&amp;avi=&quot;,Q);Sa&amp;&amp;e.push(&quot;&amp;cid=&quot;,Sa);e.push(&quot;&amp;ti=1&quot;);e.push(&quot;&amp;&quot;,b);e.push(&quot;&amp;uc=&quot;+hb);cb&amp;&amp;(db?e.push(&quot;&amp;tgt=&quot;+eb):e.push(&quot;&amp;tgt=nf&quot;),e.push(&quot;&amp;cl=&quot;+(fb?1:0)));b=e.join(&quot;&quot;);for(d=0;d&lt;Ya.length;d++){try{var f=Ya[d]()}catch(g){}e=&quot;max_length&quot;;2&lt;=f.length&amp;&amp;(3==f.length&amp;&amp;(e=f[2]),b=r(b,z(f[0]),z(f[1]),e))}2E3&lt;b.length&amp;&amp;(b=b.substring(0,2E3));u(a,b);c?R=!1:ab=!0}},Z=function(a,b){if(U){try{var c=r(U,&quot;vi&quot;,a);fa()&amp;&amp;u(y.contentWindow,c)}catch(d){}0&lt;=na(gb,a)&amp;&amp;(U=&quot;&quot;);var c=b||Xa,e;e=r(&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=sldb&quot;,&quot;avi&quot;,Q);e=r(e,&quot;vi&quot;,a);c&amp;&amp;(e+=&quot;&amp;&quot;+c);try{u(t,e)}catch(f){}}},lb=function(){Z(&quot;-1&quot;)},mb=function(a){if(a&amp;&amp;a.data&amp;&amp;n(a.data)){var b;var c=a.data;if(n(c)){b={};for(var c=c.split(&quot;\n&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;);if(!(0&gt;=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:case 18:e=&quot;true&quot;==e;break;case 4:case 7:case 6:case 14:e=Number(e);break;case 3:case 19:if(&quot;function&quot;==m(decodeURIComponent))try{e=decodeURIComponent(e)}catch(g){throw Error(&quot;Error: URI malformed: &quot;+e);}break;case 17:e=oa(decodeURIComponent(e).split(&quot;,&quot;),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&amp;&amp;(c=new J(b[4],b[12]),L&amp;&amp;L.match(c))){for(c=0;c&lt;$a.length;c++)$a[c](b);void 0!=b[18]&amp;&amp;(Va=b[18]);c=b[0];if(&quot;goog_acknowledge_monitoring&quot;==c)t.clearInterval(N),W=2;else if(&quot;goog_get_mode&quot;==c){W=1;d={};L&amp;&amp;K(L,d);d[0]=&quot;goog_provide_mode&quot;;d[6]=X;d[19]=ib;try{var k=M(d);a.source.postMessage(k,a.origin)}catch(q){}t.clearInterval(N);W=2}else&quot;goog_update_data&quot;==c?(Xa=b[3],++hb):&quot;goog_image_request&quot;==c&amp;&amp;(jb(t,b[3]),b[5]||b[11]||Z(&quot;0&quot;,b[3]));if(&quot;goog_update_data&quot;==c||&quot;goog_image_request&quot;==c)(1==X||2==X||R)&amp;&amp;b[5]&amp;&amp;(a=1==b[15]&amp;&amp;&quot;goog_update_data&quot;==c,Ua=!0,Z(&quot;1&quot;),V&amp;&amp;kb()&amp;&amp;(k=V,fa()&amp;&amp;u(y.contentWindow,k),V=&quot;&quot;),R&amp;&amp;!a&amp;&amp;Y(t,void 0,!0),R||1!=X||(ab=!0)),(1==X||2==X||R)&amp;&amp;b[11]&amp;&amp;(S=!1,Z(&quot;3&quot;),R&amp;&amp;Y(t,void 0,!0))}}},nb=function(){jb(t);Z(&quot;0&quot;);if(2&gt;W&amp;&amp;!S&amp;&amp;2==X){var a=t,b=&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=osd2&amp;&quot;,c=[];c.push(&quot;ovr_value=&quot;+P);c.push(&quot;avi=&quot;+Q);L&amp;&amp;(c=c.concat(Ia()));c.push(&quot;tt=&quot;+((new Date).getTime()-bb));a.document&amp;&amp;a.document.referrer&amp;&amp;c.push(&quot;ref=&quot;+z(a.document.referrer));c.push(&quot;hs=&quot;+W);b+=c.join(&quot;&amp;&quot;);try{u(a,b)}catch(d){}}},ob=function(){var a={};K(L,a);a[0]=&quot;goog_dom_content_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::ldcl_int&quot;)},pb=function(){var a={};K(L,a);a[0]=&quot;goog_creative_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::lcel_int&quot;);fb=!0},qb=function(a){if(n(a)){a=a.split(&quot;&amp;&quot;);for(var b=a.length-1;0&lt;=b;b--){var c=a[b],d=Ga;c==d.f?(Ta=!1,a.splice(b,1)):c==d.c&amp;&amp;(cb=!0,a.splice(b,1))}ib=a.join(&quot;&amp;&quot;)}},rb=function(){if(!db){var a=Qa();a&amp;&amp;(db=!0,eb=a.tagName,a.complete||a.naturalWidth?pb():I(a,&quot;load&quot;,pb,&quot;osd_listener::creative_load&quot;))}};p(&quot;osdlfm&quot;,B(&quot;osd_listener::init&quot;,function(a,b,c,d,e,f,g,k,q,D){P=a;U=b;V=d;R=f;Sa=D;k&amp;&amp;qb(k);S=g&amp;&amp;f;1!=q&amp;&amp;2!=q&amp;&amp;3!=q||Wa.push(Fa[&quot;MRC_TEST_&quot;+q]);L=new J(e,ba());I(t,&quot;load&quot;,lb,&quot;osd_listener::load&quot;);I(t,&quot;message&quot;,mb,&quot;osd_listener::message&quot;);Q=c||&quot;&quot;;I(t,&quot;unload&quot;,nb,&quot;osd_listener::unload&quot;);var l=t.document;!l.readyState||&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState?(&quot;msie&quot;in A?A.msie:A.msie=-1!=navigator.userAgent.toLowerCase().indexOf(&quot;msie&quot;))&amp;&amp;!window.opera?I(l,&quot;readystatechange&quot;,function(){&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState||ob()},&quot;osd_listener::rsc&quot;):I(l,&quot;DOMContentLoaded&quot;,ob,&quot;osd_listener::dcl&quot;):ob();-1==P?X=f?3:1:-2==P?X=3:0&lt;P&amp;&amp;(X=2,T=!0);S&amp;&amp;!T&amp;&amp;(X=2);L&amp;&amp;(L.b||L.a)&amp;&amp;(W=1,N=t.setInterval(B(&quot;osd_proto::reqm_int&quot;,aa(La,X,L,S,Wa,ib),void 0,void 0,void 0),500));cb&amp;&amp;Ha(rb,5,&quot;osd_listener:sfc&quot;)}));p(&quot;osdlac&quot;,B(&quot;osd_listener::lac_ex&quot;,function(a){Ya.push(a)}));p(&quot;osdlamrc&quot;,B(&quot;osd_listener::lamrc_ex&quot;,function(a){$a.push(a)}));p(&quot;osdsir&quot;,B(&quot;osd_listener::sir_ex&quot;,jb));p(&quot;osdacrc&quot;,B(&quot;osd_listener::acrc_ex&quot;,function(a){Za=a}));})();osdlfm(-1,&#39;&#39;,&#39;BT4KvFY9cVZ7gMMenhASK6IMYAI2sg9-OAQAAEAE4AcgBCeACAOAEAaAGIcITAxCAAQ&#39;,&#39;&#39;,2304042971,true,true,&#39;ud\x3d1\x26sc\x3d1\x26&#39;,3,&#39;5Ghw9D9fMCZwraJlYuE6HdEZd_c&#39;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;{&quot;uid&quot;:2,&quot;hostPeerName&quot;:&quot;http://code.tutsplus.com&quot;,&quot;initialGeometry&quot;:&quot;{\&quot;windowCoords_t\&quot;:23,\&quot;windowCoords_r\&quot;:1142,\&quot;windowCoords_b\&quot;:754,\&quot;windowCoords_l\&quot;:67,\&quot;frameCoords_t\&quot;:1286,\&quot;frameCoords_r\&quot;:1077,\&quot;frameCoords_b\&quot;:1536,\&quot;frameCoords_l\&quot;:777,\&quot;styleZIndex\&quot;:\&quot;auto\&quot;,\&quot;allowedExpansion_t\&quot;:0,\&quot;allowedExpansion_r\&quot;:0,\&quot;allowedExpansion_b\&quot;:0,\&quot;allowedExpansion_l\&quot;:0,\&quot;xInView\&quot;:0,\&quot;yInView\&quot;:0}&quot;,&quot;permissions&quot;:&quot;{\&quot;expandByOverlay\&quot;:true,\&quot;expandByPush\&quot;:false,\&quot;readCookie\&quot;:false,\&quot;writeCookie\&quot;:false}&quot;,&quot;metadata&quot;:&quot;{\&quot;shared\&quot;:{\&quot;sf_ver\&quot;:\&quot;1-0-2\&quot;,\&quot;ck_on\&quot;:1,\&quot;flash_ver\&quot;:\&quot;17.0.0\&quot;}}&quot;,&quot;reportCreativeGeometry&quot;:false}" scrolling="no" marginwidth="0" marginheight="0" width="300" height="250" data-is-safeframe="true" style="border: 0px; vertical-align: bottom;"></iframe></div></div><div class="ad__label">Advertisement</div></div></div></div></div><div class="post__sidebar-secondary"><div class="post__recommended-courses"><div class="suggested-course"><div class="suggested-course__title">Suggested Tuts+ Course</div><div class="suggested-course__video"><div class="lesson-video view view--loaded" data-course-sku="CRS-200173" data-human-readable-id="CRS-200173_1.1_welcome" data-wistia-id="21bfucgyl6"><div class="lesson-video__wrapper"><div class="lesson-video__video" data-video-height="540" data-video-width="960" id="wistia_21bfucgyl6" style="width: 298px; height: 186px;"><div id="wistia_chrome_10" style="display: inline-block; height: 186px; margin: 0px; padding: 0px; position: relative; vertical-align: top; width: 298px; zoom: 1; overflow: hidden; box-sizing: content-box;"><div id="wistia_grid_13_wrapper" style="display: block; width: 298px; height: 186px;"><div id="wistia_grid_13_above" style="height: 0px; font-size: 0px; line-height: 0px;"> </div><div id="wistia_grid_13_main" style="width: 298px; left: 0px; height: 186px; margin-top: 0px;"><div id="wistia_grid_13_behind"></div><div id="wistia_grid_13_center" style="width: 100%; height: 100%;"><div id="wistia_video_wrapper_15" style="display: inline-block; height: 100%; margin: 0px; padding: 0px; position: relative; vertical-align: top; width: 100%; zoom: 1; overflow: hidden;"><div id="wistia_12_romulus" style="display: block; height: 100%; overflow: hidden; position: relative; width: 100%; background: rgb(0, 0, 0);"><video id="wistia_12" preload="none" poster="//fast.wistia.com/assets/images/blank.gif" style="display: block; height: 100%; position: relative; width: 100%; object-fit: fill; background: transparent;"><source id="wistia_12_source" src="http://embed.wistia.com/deliveries/ef725b61e699dcd1f0c14516011f8bafb924c643/file.mp4" type="video/mp4"></video><style id="wistia_16_style" type="text/css" class="wistia_injected_style">#wistia_chrome_10:fullscreen,
#wistia_chrome_10:-webkit-full-screen,
#wistia_chrome_10:-moz-full-screen {
background:#000;
}
#wistia_21bfucgyl6 .wistia_romulus_control {
  -webkit-font-smoothing: antialiased;
  z-index: 1;
}
#wistia_21bfucgyl6 .wistia_romulus_hidden {
  opacity: 0;
  -webkit-transition: opacity 200ms linear 0s,width 0s linear 200ms,height 0s linear 200ms;
-moz-transition: opacity 200ms linear 0s,width 0s linear 200ms,height 0s linear 200ms;
-o-transition: opacity 200ms linear 0s,width 0s linear 200ms,height 0s linear 200ms;
-ms-transition: opacity 200ms linear 0s,width 0s linear 200ms,height 0s linear 200ms;
transition: opacity 200ms linear 0s,width 0s linear 200ms,height 0s linear 200ms;
}
#wistia_21bfucgyl6 .wistia_romulus_visible {
  opacity: 1;
  visibility: visible;
  -webkit-transition: opacity 200ms linear 0s;
-moz-transition: opacity 200ms linear 0s;
-o-transition: opacity 200ms linear 0s;
-ms-transition: opacity 200ms linear 0s;
transition: opacity 200ms linear 0s;
}
#wistia_21bfucgyl6 .wistia_played {
  -webkit-transition: width 300ms linear 0s;
-moz-transition: width 300ms linear 0s;
-o-transition: width 300ms linear 0s;
-ms-transition: width 300ms linear 0s;
transition: width 300ms linear 0s;
}
#wistia_21bfucgyl6 .wistia_playbar.wistia_dragging .wistia_played {
  -webkit-transition: left 0 linear 0s;
-moz-transition: left 0 linear 0s;
-o-transition: left 0 linear 0s;
-ms-transition: left 0 linear 0s;
transition: left 0 linear 0s;
}
#wistia_21bfucgyl6 .wistia_scrub_bar {
  -webkit-transition: left 300ms linear 0s;
-moz-transition: left 300ms linear 0s;
-o-transition: left 300ms linear 0s;
-ms-transition: left 300ms linear 0s;
transition: left 300ms linear 0s;
}
#wistia_21bfucgyl6 .wistia_playbar.wistia_dragging .wistia_scrub_bar {
  -webkit-transition: left 0 linear 0s;
-moz-transition: left 0 linear 0s;
-o-transition: left 0 linear 0s;
-ms-transition: left 0 linear 0s;
transition: left 0 linear 0s;
}
#wistia_21bfucgyl6 .wistia_scrub_bar_top {
  background: rgba(255, 255, 255, .33);
  height: 4px;
  left: 0;
  position: absolute;
  top: 0;
  width: 4px;
}
#wistia_21bfucgyl6 .wistia_scrub_bar_middle {
  background: rgba(255, 255, 255, .66);
  height: 24px;
  left: 0;
  position: absolute;
  top: 4px;
  width: 4px;
}
#wistia_21bfucgyl6 .wistia_scrub_bar_bottom {
  background: rgba(255, 255, 255, .33);
  height: 4px;
  left: 0;
  position: absolute;
  top: 28px;
  width: 4px;
}
#wistia_21bfucgyl6 .wistia_menu_item {
  background: transparent;
  color: #555;
  font-family: Arial, Sans-Serif;
  font-size: 14px;
  font-weight: normal;
  padding: 6px 16px;
  transition: none;
  -webkit-font-smoothing: antialiased;
}
#wistia_21bfucgyl6 .wistia_menu_item .wistia_bullet {
  display: inline-block;
  margin: -1px 7px 0 0;
  vertical-align: top;
}
#wistia_21bfucgyl6 .wistia_menu_item.wistia_visible {
  display: block;
}
#wistia_21bfucgyl6 .wistia_menu_item.wistia_hidden {
  display: none;
}
#wistia_21bfucgyl6 .wistia_menu_item:hover {
  background: #54bbff;
  color: #fff;
}
#wistia_21bfucgyl6 .wistia_menu_item.wistia_disabled {
  background: transparent;
  color: #bbb;
}
#wistia_21bfucgyl6 .wistia_menu_item.wistia_title {
  background: transparent;
  color: #bbb;
  font-size: 11px;
  line-height: 1em;
  padding-bottom: 3px;
}
#wistia_21bfucgyl6 .wistia_dont_animate {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  -ms-transition: none;
  transition: none;
}
#wistia_12 {
  -ms-object-fit: contain;
  -o-object-fit: contain;
  -moz-object-fit: contain;
  -webkit-object-fit: contain;
  object-fit: contain;
}</style><div id="wistia_still_17" class="wistia_romulus_control" alt="Click to play video" style="cursor: default; display: block; height: 100%; left: 0px; overflow: hidden; position: absolute; top: 0px; width: 100%;"><img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/bba4031c3fe71835c119942f4652c2f2532c7892.jpg" style="border-width: 0px 15px; border-style: solid; border-color: rgb(0, 0, 0); display: inline-block; float: none; margin: 0px; max-width: none; padding: 0px; height: 186px; vertical-align: top; width: 269px;"></div><div id="wistia_smallPlayButton_26" class="wistia_romulus_control wistia_romulus_hidden" alt="Click to play" style="cursor: pointer; position: absolute; bottom: 0px; width: 0px; height: 0px; left: 0px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABMCAYAAACmj3NpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARtJREFUeNrs2kFRAzEYgNEuCioBCeAACZWABCQsCpCABCRUAjioBHCwbA65MFx7+freTK4c/g8yG5LDAQAAAAAAAAAAAP7Ytm01hXbg4byve9PoBh6+93UykW7g6X1fR5PpBh4+9/VgOt3A04sJtQMPH7bsduD5AfZkWt3A05uJtQPPDzBn5nDguWU/m143sDPzjQQeLs7M7cDOzDcSeF5aJLbsO78a/xpn5YtLi+5fcObMvJQCX/HHfy3L8miLbvrZ16sxNLdoL0TCgVdTbQb2D49wYHfG0cAuHcKBvdsKB3bxHw3s6U448NmHVDewq8BoYGfbcGDPcaKBnW3DgT2JDQdeTaMZ2Nk2HtiHFAAAAAAAAAAAAFf1K8AAF3b4jLx17LUAAAAASUVORK5CYII=) 0px 0px / 50px 32px no-repeat rgba(123, 121, 106, 0.8);"></div><div id="wistia_playbarControl_31" class="wistia_romulus_control wistia_romulus_hidden wistia_playbar" alt="Playbar - click to seek" style="cursor: pointer; position: absolute; bottom: 0px; height: 0px; overflow: hidden; width: 133px; left: 55px;"><div id="wistia_playbar_background_36" style="position: absolute; left: 4px; top: 4px; height: 24px; pointer-events: none; width: 125px; background: rgba(123, 121, 106, 0.498039);"></div><div id="buffered_37" class="wistia_buffered" style="position: absolute; left: 4px; top: 4px; width: 0px; height: 24px; background: rgba(223, 221, 206, 0.8);"></div><div style="position: absolute; left: 0px; top: 0px; border: 4px solid rgba(123, 121, 106, 0.8); pointer-events: none; width: 125px; height: 24px;"></div><div id="watched_38" class="wistia_played" style="position: absolute; left: 0px; top: 0px; width: 0px; height: 32px; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQFJREFUeNrsl6EOwkAQRC+T1CBAYDAIEFRgiiiW/6cCDAJTBKYGQQWmouyGbbLZD5gzNBnxcmbSd+3dpnEcC8lJUkoSm5FS2ksGyT39HiprgZWkscU1m2GgjebWjspa4CUpJAfJg82wV7ELnmg87QF1c7VFKmuByuAjmbFZCzwlnbWr2awFbu77TGxG8NKwGTm8e0YO754RvJRs1gIXg6Vkw2Yt0NuvsbZmVIbz0pkbKsO8FMETjeG8DMEThZHDu2c4L5Wd1VSeNuFWsnBHJo3hrkrncHWisBY4Bi9U1gJvSeu8UBk5vHtGDu+e4a7I3hON/WjWhtGJwv/RLPto9hVgAAkkA1W/Un5YAAAAAElFTkSuQmCC);"><div id="time_39" class="wistia_time" style="bottom: 7px; color: rgba(255, 255, 255, 0.701961); cursor: pointer; display: inline-block; font-family: Arial, sans-serif; font-weight: bold; font-size: 15px; line-height: 1.1em; position: absolute; text-shadow: rgb(123, 121, 106) 0px 0px 9px; white-space: nowrap; width: 0px; left: auto; right: -8px;">2:04</div></div><div id="scrub_bar_42" class="wistia_scrub_bar" style="position: absolute; left: 0px; top: 0px; width: 4px; height: 32px;"><div class="wistia_scrub_bar_top">&nbsp;</div>
<div class="wistia_scrub_bar_middle">&nbsp;</div>
<div class="wistia_scrub_bar_bottom">&nbsp;</div></div></div><div id="wistia_volumeControl_43" class="wistia_romulus_control wistia_romulus_hidden" alt="Volume (100%) - click and drag horizontally to change" style="cursor: pointer; position: absolute; bottom: 0px; height: 0px; overflow: hidden; width: 0px; right: 55px;">&nbsp;<div style="position: absolute; left: 0px; top: 0px; height: 32px; width: 50px; background-color: rgba(123, 121, 106, 0.8);"></div><div style="position: absolute; left: 50px; top: 0px; height: 32px; width: 0px; background-color: rgba(123, 121, 106, 0.498039);"></div><div style="position: absolute; left: 15px; top: 7px; height: 18px; width: 21px; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAkCAYAAAD/yagrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfZJREFUeNrsWO1thDAMhVMHYIOyQRmBbsAIbHCMcJ0AdQLUCU6dADpBrhNwN8HdBmkiBdVyHYePAPlRSwiEA3l5tmM7h2hHkVLW6mqikEUBLOWvOMEedsR6UdfDPGvQZcisZuq6A2azUEzdEO8LAFSsNXlhAkKMGGf1R/OPQSqfAFMNDvxcOsYnaPyJ0A8uoO+JLxahXzmBgsXB73Kkr7yxqpmQFiHGNnpR6F3O+SNYSD8XoDZNKxlB4wUwY8r4Y8kQkc/ZQnrpEMaMLeOPPeEeg9Rzs8dooObblvHH2rZ3Amv0Y03dyAliCR5yS+KYQ+ZPocKLWBZ8ZhYiqKBCAVdsles/IQCk68w9I2qACOvWBtqBZwz0m1pEHMcPUKw8bwJUTXqlJjVydVRWWtIty7w/k86RPevRf6BzJSeiebIrrAoUZZ0bUr+AoOuQLtma0cKyVXFMw/3za3jxpFYTW9iQC9nUrByHrUhNc4EpFIDpGCs8xjD6tpDNCpjwHemO4PnDwjRlBbbEE1NzPaq6ethacGUeqg/uXit7C9B6ZIlXElXbIOclPbiYUOYJAoirFTlRlZPXvslDc5eATqL3tj/6bJcJAk6hHkBktuAL6UgHs11EoQkBsgkRJD4WEpzJ9yzzMpBGdXp9NW1IkOejtclEzuD5EWAA23jc4a3H7VsAAAAASUVORK5CYII=); background-size: 21px 18px;"></div></div><div id="wistia_fullscreenButton_49" class="wistia_romulus_control wistia_romulus_hidden" alt="Fullscreen - click to toggle" style="cursor: pointer; position: absolute; bottom: 0px; width: 0px; height: 0px; right: 0px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAK9JREFUeNrsmW0KgCAMhjW6l96supmdzCYkjDBRCqbjfUHwh+Ae9oGbJrZpN0JKd7cYuBglWtk+0DpfzgVBG2t3O1o+u048fP4IOzWhpTJHnm6LIxpsSao9oiq0jgFK7OfSbJEjyBGAAAQgAAEIQAACEIAARKqxYmOgQE/9qZorst2be66VOsSt1HFNIp/tR44MlyO9vTE8ApD+0HKVibxYaeYltiDHD+LHaiRdAgwAGD3VmeLXH3kAAAAASUVORK5CYII=) 12px 7px / 25px 18px no-repeat rgba(123, 121, 106, 0.8);">&nbsp;</div><div id="wistia_branding_54" class="wistia_romulus_control wistia_romulus_hidden" style="cursor: pointer; overflow: hidden; position: absolute; left: 0px; top: 0px; height: 0px; width: 0px; background-color: rgba(123, 121, 106, 0.8);"><a href="http://wistia.com/about-wistia?player=108233" target="_blank" sl-processed="1" style="display: block; font-size: 12px; font-family: &#39;Gill Sans&#39;, sans-serif; height: 14px; letter-spacing: 1px; line-height: 14px; padding-left: 5px; padding-top: 2px; padding-bottom: 2px; text-decoration: none; width: 293px;"><span style="color: rgba(255, 255, 255, 0.65098);">POWERED BY</span> <span style="color: rgb(255, 255, 255);">WISTIA</span></a></div><div id="wistia_bigPlayButton_59" class="wistia_romulus_control" alt="Play Button - click to play" style="cursor: pointer; position: absolute; height: 38px; width: 60px; display: block; opacity: 1; left: 119px; top: 74px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJNJREFUeNrs1ksNhEAURNGWgAQkjAQkIAUJ7QApIwEJSEACEh6PBatJhmZJ1T1JCahU+lMKAACAioj4Zjqnwqc9MzoVvszya8evLTM4FdZeO/7TWzva6Kwd7dbMx6nwpboV3l99rh+WXV5/lh+sOrlcWueqvcOzpLNqQ2GtVW8KT0WZ3MeisXAtLixWBQAAQDoEGACTzSwy3SX7YgAAAABJRU5ErkJggg==) 50% 50% / 60px 38px no-repeat rgba(123, 121, 106, 0.8);"></div><div id="wistia_loading_64" class="wistia_romulus_control" style="cursor: pointer; position: absolute; display: none; left: 0px; top: 0px; color: rgba(255, 255, 255, 0.8); font-family: Arial, sans-serif; font-style: italic; line-height: 1.1em; padding: 2px 5px; background-color: rgb(123, 121, 106);">Loading...</div><div id="wistia_context_menu_68" class="wistia_romulus_control wistia_context_menu" style="cursor: pointer; box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 10px; left: 0px; line-height: 1.5em; position: absolute; text-shadow: none; top: 0px; width: 200px; z-index: 100000; display: none; background-color: rgb(255, 255, 255);"><div class="wistia_disabled wistia_menu_item wistia_menu_item_playingIn" id="playingIn">Playing in <span id="playingInName">600p</span></div><div style="font-size: 0px; height: 0px; line-height: 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(232, 232, 232); margin: 1px 0px;"></div><div id="auto" class="wistia_menu_item wistia_menu_item_auto"><span id="autoBullet" class="wistia_bullet">●</span> Auto</div><div id="mp4_h264_852k" class="wistia_menu_item wistia_menu_item_mp4_h264_852k"><span id="mp4_h264_852kBullet" class="wistia_bullet">○</span> 400p</div><div id="mp4_h264_665k" class="wistia_menu_item wistia_menu_item_mp4_h264_665k"><span id="mp4_h264_665kBullet" class="wistia_bullet">○</span> 600p</div><div id="mp4_h264_933k" class="wistia_menu_item wistia_menu_item_mp4_h264_933k"><span id="mp4_h264_933kBullet" class="wistia_bullet">○</span> 800p</div><div style="font-size: 0px; height: 0px; line-height: 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(232, 232, 232); margin: 1px 0px;"></div><div id="switchToFlash" class="wistia_menu_item wistia_menu_item_switchToFlash">Switch to Flash</div><div style="font-size: 0px; height: 0px; line-height: 0px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(232, 232, 232); margin: 1px 0px;"></div><a href="http://wistia.com/about-wistia?about=108233" target="_blank" id="aboutWistia" class="wistia_menu_item wistia_menu_item_aboutWistia" style="display: block; text-decoration: none;" sl-processed="1">About Wistia</a></div></div></div></div><div id="wistia_grid_13_front"></div><div id="wistia_grid_13_top_inside"><div id="wistia_grid_13_top" style="height: 0px; font-size: 0px; line-height: 0px;"> </div><div id="wistia_11_cc_button" class="wistia_cc_button wistia_hidden" title="Turn on captions">CC</div><div id="wistia_11_captions_list_container" class="wistia_captions_list_container wistia_hidden"><div id="wistia_11_captions_list_spacer"></div><div id="wistia_11_captions_list" class="wistia_captions_list"><div class="wistia_11_caption_li" data-id="0"><div class="wistia_11_caption_check"></div><div id="wistia_11_off_caption" class="wistia_11_caption_name">Off</div></div><div class="wistia_11_caption_li" data-id="341033"><div class="wistia_11_caption_check wistia_hidden"></div><div id="wistia_11_english_caption" class="wistia_11_caption_name">English</div></div></div></div></div><div id="wistia_grid_13_bottom_inside"><div id="wistia_grid_13_bottom" style="height: 0px; font-size: 0px; line-height: 0px;"> </div><div id="wistia_11_captions_line_wrapper" class="wistia_captions_line_wrapper"><div id="wistia_11_captions" class="wistia_captions"><style id="wistia_117_style" type="text/css" class="wistia_injected_style">#wistia_11_captions_line_wrapper {
bottom: 38px;
height: 0;
left: 0;
pointer-events: none;
position: absolute;
width: 100%;
}
#wistia_11_captions {
bottom: 0;
left: 0;
text-align: center;
position: absolute;
width: 100%;
}
#wistia_11_captions .wistia_caption_line, #wistia_11_captions_notification {
background-color: rgba(0,0,0,0.8);
color: #ffffff;
display: inline-block;
*display: inline;
filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#cc000000', endColorStr='#cc000000');
font-family: Helvetica, Arial, Sans-Serif;
font-size: 14px;
line-height: 1.4em;
max-width: 80%;
padding: .25em .6em;
text-align: center;
vertical-align: top;
zoom: 1;
-webkit-font-smoothing: antialiased;
}
#wistia_11_cc_button.wistia_hidden {
filter: alpha(opacity=0);
opacity: 0;
}
#wistia_11_cc_button {
background: transparent url(http://fast.wistia.com/assets/images/player-controls-CC-2x.png);
cursor: pointer;

filter: alpha(opacity=40);
background-size: 73px;
height: 40px;
left: -5px;
line-height:32px;
opacity: .6;
position: absolute;
text-align: center;
text-indent: -999999em;
top: -1px;
width: 70px;
z-index: 2;
-webkit-backface-visibility: hidden;
}
#wistia_11_cc_button.wistia_fade_transition {
-webkit-transition: opacity 0.2s ease-in-out;
-moz-transition: opacity 0.2s ease-in-out;
-o-transition: opacity 0.2s ease-in-out;
-ms-transition: opacity 0.2s ease-in-out;
transition: opacity 0.2s ease-in-out;
}
#wistia_11_cc_button.wistia_hidden {
filter: alpha(opacity=0);
opacity: 0;
}
#wistia_11_cc_button:hover {
filter: alpha(opacity=50);
opacity: 1;
}
#wistia_11_cc_button.wistia_on {
filter: alpha(opacity=80);
opacity: 1;
}
#wistia_11_cc_button.wistia_on:hover {
filter: alpha(opacity=90);
opacity: 1;
}
#wistia_11_captions_list_container {
background-color: rgba(0,0,0, 0.3);
font-family: Helvetica, Arial, Sans-Serif;
margin-bottom: 32px;
overflow: hidden;
position: absolute;
width: 130px;
z-index: 1;
}
#wistia_11_captions_list_container.wistia_hidden {
filter: alpha(opacity=0);
opacity: 0;
cursor: default;
}
#wistia_11_captions_list_spacer {
display: block;
height: 40px;
}
#wistia_11_captions_list {
cursor: pointer;
display: block;
list-style: none;
max-height: 109px;
overflow-y: scroll;
padding-left: 0;
width: 155px;
margin: 0;
margin-top: 5px;
}
#wistia_11_captions_list_container.wistia_fade_transition {
-webkit-transition: opacity 0.2s ease-in-out;
-moz-transition: opacity 0.2s ease-in-out;
-o-transition: opacity 0.2s ease-in-out;
-ms-transition: opacity 0.2s ease-in-out;
transition: opacity 0.2s ease-in-out;
}
#wistia_11_captions_list .wistia_11_caption_li {
color: #ffffff;
margin: 0px;
padding: 10px 0px 10px 0px;
width: 100%;
}
#wistia_11_captions_list .wistia_11_caption_li:hover {
background-color: rgba(0,0,0, 0.6);
}
#wistia_11_captions_list .wistia_11_caption_name {
display: inline-block;
letter-spacing: 1px;
list-style: none;
}
#wistia_11_captions_list .wistia_11_caption_check {
display: inline-block;
background: transparent url(http://fast.wistia.com/assets/images/white-check-2x.png);
background-repeat: no-repeat;
background-size: 14px;
height: 13px;
margin: 0px 10px 0px 13px;
width: 15px;
}
#wistia_11_captions_list .wistia_11_caption_check.wistia_hidden{
filter: alpha(opacity=0);
opacity: 0;
}</style></div></div></div><div id="wistia_grid_13_left_inside"><div id="wistia_grid_13_left" style="height: 0px; font-size: 0px; line-height: 0px;"> </div></div><div id="wistia_grid_13_right_inside"><div id="wistia_grid_13_right" style="height: 0px; font-size: 0px; line-height: 0px;"> </div></div></div><div id="wistia_grid_13_below" style="height: 0px; font-size: 0px; line-height: 0px;"> </div><style id="wistia_14_style" type="text/css" class="wistia_injected_style">#wistia_grid_13_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}
#wistia_grid_13_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}
#wistia_grid_13_above{position:relative;}
#wistia_grid_13_main{display:block;height:100%;position:relative;}
#wistia_grid_13_behind{height:100%;left:0;position:absolute;top:0;width:100%;}
#wistia_grid_13_center{height:100%;overflow:hidden;position:relative;width:100%;}
#wistia_grid_13_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}
#wistia_grid_13_top_inside{position:absolute;left:0;top:0;width:100%;}
#wistia_grid_13_top{width:100%;position:absolute;bottom:0;left:0;}
#wistia_grid_13_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}
#wistia_grid_13_bottom{width:100%;position:absolute;top:0;left:0;}
#wistia_grid_13_left_inside{height:100%;position:absolute;left:0;top:0;}
#wistia_grid_13_left{height:100%;position:absolute;right:0;top:0;}
#wistia_grid_13_right_inside{height:100%;right:0;position:absolute;top:0;}
#wistia_grid_13_right{height:100%;left:0;position:absolute;top:0;}
#wistia_grid_13_below{position:relative;}</style></div></div></div></div></div></div><a class="suggested-course__link" href="http://code.tutsplus.com/courses/iphone-app-development-with-swift?utm_source=Tuts+&utm_medium=website&utm_campaign=suggestedcoursevideo&utm_content=sidebar&WT.mc_id=Tuts+_website_suggestedcoursevideo_sidebar" sl-processed="1">iPhone App Development With Swift<span class="suggested-course__price">$15</span></a></div></div><div class="post__recommended-content"><div class="recommended-items"><div class="recommended-items__header">Related Tutorials</div><a href="http://code.tutsplus.com/tutorials/creating-a-dating-application-with-sinch-integrating-sinch--cms-22485?utm_source=Tuts+&utm_medium=website&utm_campaign=relatedtutorials&utm_content=sidebar&WT.mc_id=Tuts+_website_relatedtutorials_sidebar" sl-processed="1"><div class="recommended-items__item"><div class="recommended-items__preview-image-container"><img class="recommended-items__preview-image " src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/preview-image@2x.jpg" alt="Preview image@2x"></div><div class="recommended-items__title">Creating a Dating Application with Sinch: Integrating Sinch</div><div class="recommended-items__topic topic-code">Code</div></div></a><a href="http://code.tutsplus.com/articles/design-patterns-dependency-injection--cms-23809?utm_source=Tuts+&utm_medium=website&utm_campaign=relatedtutorials&utm_content=sidebar&WT.mc_id=Tuts+_website_relatedtutorials_sidebar" sl-processed="1"><div class="recommended-items__item"><div class="recommended-items__preview-image-container"><img class="recommended-items__preview-image " src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/preview-image@2x(1).jpg" alt="Preview image@2x"></div><div class="recommended-items__title">Design Patterns: Dependency Injection</div><div class="recommended-items__topic topic-code">Code</div></div></a><a href="http://code.tutsplus.com/tutorials/animated-components-with-uikit-dynamics-part-2--cms-20943?utm_source=Tuts+&utm_medium=website&utm_campaign=relatedtutorials&utm_content=sidebar&WT.mc_id=Tuts+_website_relatedtutorials_sidebar" sl-processed="1"><div class="recommended-items__item"><div class="recommended-items__preview-image-container"><img class="recommended-items__preview-image " src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/preview-image@2x(2).jpg" alt="Preview image@2x"></div><div class="recommended-items__title">Animated Components with UIKit Dynamics: Part 2</div><div class="recommended-items__topic topic-code">Code</div></div></a></div></div><div class="job-board-ad view view--loaded"><div class="job-board-ad__header">Jobs</div><div class="job-board-ad__job"><a class="job-board-ad__job-link" href="https://jobs.tutsplus.com/jobs/816-south-bend-design-wordpress-developer-remote" sl-processed="1"><span class="job-board-ad__job-thumbnail"><img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/missing_logo.png" alt="" class="job-board-ad__job-thumbnail-image"></span><span class="job-board-ad__job-title">WordPress Developer (Remote)</span><span class="job-board-ad__job-meta">at South Bend Design in San Francisco, CA, USA</span></a></div><div class="job-board-ad__job"><a class="job-board-ad__job-link" href="https://jobs.tutsplus.com/jobs/815-tuts-visual-design-instructor" sl-processed="1"><span class="job-board-ad__job-thumbnail"><img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/1.png" alt="" class="job-board-ad__job-thumbnail-image"></span><span class="job-board-ad__job-title">Visual Design Instructor</span><span class="job-board-ad__job-meta">at Tuts+ in null</span></a></div></div><div class="marketplace-items view view--loaded"><div class="marketplace-items__container">
  <div class="marketplace-items__header">Envato Market Item</div>
  <div class="marketplace-items__item">
  <a class="marketplace-items__item-link" href="http://codecanyon.net/item/user-profiles-made-easy-wordpress-plugin/4109874?ref=tutshub" sl-processed="1">
    <img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/UPME-banner-2.0.28.jpg" alt="" class="marketplace-items__item-preview-image">
  </a>
</div>
</div></div></div></div></div><footer class="post__footer"><div class="layout__content-with-sidebar"><div class="post__comments" id="comments"><div id="disqus_thread" name="disqus_thread"><iframe id="dsq-2" data-disqus-uid="2" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/saved_resource.html" style="width: 100% !important; border: none !important; overflow: hidden !important; height: 4018px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe><iframe id="dsq-indicator-north" data-disqus-uid="indicator-north" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 630px !important; border: none !important; overflow: hidden !important; top: 0px !important; min-width: 630px !important; max-width: 630px !important; position: fixed !important; z-index: 2147483646 !important; height: 29px !important; min-height: 29px !important; max-height: 29px !important; display: none !important;"></iframe><iframe id="dsq-indicator-south" data-disqus-uid="indicator-south" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" style="width: 630px !important; border: none !important; overflow: hidden !important; bottom: 0px !important; min-width: 630px !important; max-width: 630px !important; position: fixed !important; z-index: 2147483646 !important; height: 29px !important; min-height: 29px !important; max-height: 29px !important; display: none !important;"></iframe></div><script type="text/javascript">var disqus_shortname  = "mobile-tuts";
var disqus_identifier = "18394 http://mobile.tutsplus.com/?p=18394";
var disqus_title      = "Accessing Google Services Using the OAuth 2.0 Protocol";
var disqus_url        = "http://code.tutsplus.com/tutorials/accessing-google-services-using-the-oauth-20-protocol--mobile-18394";
var disqus_config     = function() {
    this.language = "en";
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();

(function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());</script><script async="" type="text/javascript" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/check_359604.js"></script><iframe src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/container.html" style="visibility: hidden; display: none;"></iframe></div></div><div class="layout__sidebar"><div class="ad view"><div class="ad__wrapper"><div class="ad__content" id="div-gpt-1379650407131-0"><div id="google_ads_iframe_/11757429/hub_development_post_comments_0__container__" style="border: 0pt none; display: inline-block; width: 300px; height: 250px;"><iframe frameborder="0" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/container(3).html" id="google_ads_iframe_/11757429/hub_development_post_comments_0" name="1-0-2;22107;&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body leftMargin=&quot;0&quot; topMargin=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot;&gt;&lt;script&gt;(function(){var g=this,l=function(a,b){var c=a.split(&quot;.&quot;),d=g;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2&lt;arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&amp;&amp;-1!=Function.prototype.bind.toString().indexOf(&quot;native code&quot;)?m:n;return p.apply(null,arguments)},q=Date.now||function(){return+new Date};var r=document,s=window;var t=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)},w=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var x=function(a){return{visible:1,hidden:2,prerender:3,preview:4}[a.webkitVisibilityState||a.mozVisibilityState||a.visibilityState||&quot;&quot;]||0},y=function(a){var b;a.mozVisibilityState?b=&quot;mozvisibilitychange&quot;:a.webkitVisibilityState?b=&quot;webkitvisibilitychange&quot;:a.visibilityState&amp;&amp;(b=&quot;visibilitychange&quot;);return b};var C=function(){this.g=r;this.k=s;this.j=!1;this.i=null;this.h=[];this.o={};if(z)this.i=q();else if(3==x(this.g)){this.i=q();var a=p(this.q,this);A&amp;&amp;(a=A(&quot;di::vch&quot;,a));this.p=a;var b=this.g,c=y(this.g);b.addEventListener?b.addEventListener(c,a,!1):b.attachEvent&amp;&amp;b.attachEvent(&quot;on&quot;+c,a)}else B(this)},A;C.m=function(){return C.n?C.n:C.n=new C};var D=/^([^:]+:\/\/[^/]+)/m,G=/^\d*,(.+)$/m,z=!1,B=function(a){if(!a.j){a.j=!0;for(var b=0;b&lt;a.h.length;++b)a.l.apply(a,a.h[b]);a.h=[]}};C.prototype.s=function(a,b){var c=b.target.u();(c=G.exec(c))&amp;&amp;(this.o[a]=c[1])};C.prototype.l=function(a,b){this.k.rvdt=this.i?q()-this.i:0;var c;if(c=this.t)t:{try{var d=D.exec(this.k.location.href),e=D.exec(a);if(d&amp;&amp;e&amp;&amp;d[1]==e[1]&amp;&amp;b){var f=p(this.s,this,b);this.t(a,f);c=!0;break t}}catch(u){}c=!1}c||w(this.k,a)};C.prototype.q=function(){if(3!=x(this.g)){B(this);var a=this.g,b=y(this.g),c=this.p;a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&amp;&amp;a.detachEvent(&quot;on&quot;+b,c)}};var H=/^true$/.test(&quot;&quot;)?!0:!1;var I={},J=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},M=function(a,b,c,d){var e=K,f,u=!0;try{f=b()}catch(h){try{var N=J(h);b=&quot;&quot;;h.fileName&amp;&amp;(b=h.fileName);var E=-1;h.lineNumber&amp;&amp;(E=h.lineNumber);var v;t:{try{v=c?c():&quot;&quot;;break t}catch(S){}v=&quot;&quot;}u=e(a,N,b,E,v)}catch(k){try{var O=J(k);a=&quot;&quot;;k.fileName&amp;&amp;(a=k.fileName);c=-1;k.lineNumber&amp;&amp;(c=k.lineNumber);K(&quot;pAR&quot;,O,a,c,void 0,void 0)}catch(F){L({context:&quot;mRE&quot;,msg:F.toString()+&quot;\n&quot;+(F.stack||&quot;&quot;)},void 0)}}if(!u)throw h;}finally{if(d)try{d()}catch(T){}}return f},K=function(a,b,c,d,e,f){a={context:a,msg:b.substring(0,512),eid:e&amp;&amp;e.substring(0,40),file:c,line:d.toString(),url:r.URL.substring(0,512),ref:r.referrer.substring(0,512)};P(a);L(a,f);return!0},L=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+Q(a),d=&quot;http&quot;+(&quot;https:&quot;==s.location.protocol?&quot;s&quot;:&quot;&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);w(s,d)}}catch(e){}},P=function(a){var b=a||{};t(I,function(a,d){b[d]=s[a]})},R=function(a,b,c,d,e){return function(){var f=arguments;return M(a,function(){return b.apply(c,f)},d,e)}},Q=function(a){var b=&quot;&quot;;t(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+(&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return b};A=function(a,b,c,d){return R(a,b,void 0,c,d)};z=H;l(&quot;vu&quot;,R(&quot;vu&quot;,function(a,b){var c=a.replace(&quot;&amp;amp;&quot;,&quot;&amp;&quot;),d=/(google|doubleclick).*\/pagead\/adview/.test(c),e=C.m();if(d){d=&quot;&amp;vis=&quot;+x(e.g);b&amp;&amp;(d+=&quot;&amp;ve=1&quot;);var f=c.indexOf(&quot;&amp;adurl&quot;),c=-1==f?c+d:c.substring(0,f)+d+c.substring(f)}e.j?e.l(c,b):e.h.push([c,b])}));l(&quot;vv&quot;,R(&quot;vv&quot;,function(){z&amp;&amp;B(C.m())}));})();&lt;/script&gt;&lt;script&gt;vu(&quot;http://pubads.g.doubleclick.net/pagead/adview?ai\x3dCAxmdFY9cVYPuMIirhATGmoMYrZif4AaNrIPfjgHAjbcBEAEgAGDJjvCIhKTsD4IBF2NhLXB1Yi0zNTU4ODcwNTY0NTI3NDE2yAEJ4AIAqAMBmAQAqgT1AU_QqCvm_KMsD6O7b7BtMABsP6Jexbahd3MF2kMH49xb5IwL2mFJcYttlwtaYOfmnWlP_HIOpIQA1dCo0ANArWo-cnH8BJ7gwAXrweUU6gBUyFOkl2HWQSKfCZtmR6l_m3RvXUqpuH_3IVp6gJbtW8G_ySxfx9BIpZXRS3gNSSj7jGlAEQeLvrM1biL0ZKuA-EIU5pgNWjY9jFQ2o9t7faAM0ZSnq1SzMJyjL_hC-86G5yHVZlsdOaGEZif2zjFnAl5UjEn1NRT0OfXWMg-S16gS2Qqc0jUeameH-F2EmY6EeXWYzO7s-9KgZf9gx14I4CKfkYrM4AQBgAbni4qFj8_t-T-gBiHYBwA\x26sigh\x3dyURAfMbf_cs&quot;)&lt;/script&gt;&lt;SCRIPT language=&quot;JavaScript1.1&quot; SRC=&quot;http://bid.g.doubleclick.net/xbbe/creative/adj?d=APEucNVqVszOQuZCz9P70iubaJHrdLSf-0ataUWn1E6rafHunTzD-9Oi9_PefMoFYBbY74Cdr99J3zyOAL3O88B7uZdRj5h9I3eNsmzJ5Z4WTAOxtuQH0F4cVjp1uaf4wfBuMHWy9ZLIQI0eJ83TCZvdTbG6nMzPETn2paomLbNlF38SsHhHEWmjWm0Hg3h8MF3ujEhsG8z_ICgKPsztnMnujVM-v6Eq2rsiVD9vBuUbppNEPmmIRfVcH0-QjwYyUIcZvU4JAo_YEU4ezIalofFjWtAdbjiDfs-5a88BNFq4Dyc757Kh7lAFDJ5FcEafJQ_Ttyf6u28NBD13ScPcXDtEaEZcaI0G5lQLOtH0rEBmKE9xPJrE1ApBDorMEb0Wvy60oG0JM5wrDAoWbi9LZS7j_fSR6S7zqasN3jpIc1eUjjc_vXD1u5FK8EY50bqxI6U0UlYb0fZeO9Dn5T27N_5Ei4_PopCs2Q&amp;pr=VVyPFQAMNwMKgRWIAADNRumPoavRYULhr0cLZg&amp;c=http://adclick.g.doubleclick.net/aclk%3Fsa%3DL%26ai%3DCAxmdFY9cVYPuMIirhATGmoMYrZif4AaNrIPfjgHAjbcBEAEgAGDJjvCIhKTsD4IBF2NhLXB1Yi0zNTU4ODcwNTY0NTI3NDE2yAEJ4AIAqAMBmAQAqgT1AU_QqCvm_KMsD6O7b7BtMABsP6Jexbahd3MF2kMH49xb5IwL2mFJcYttlwtaYOfmnWlP_HIOpIQA1dCo0ANArWo-cnH8BJ7gwAXrweUU6gBUyFOkl2HWQSKfCZtmR6l_m3RvXUqpuH_3IVp6gJbtW8G_ySxfx9BIpZXRS3gNSSj7jGlAEQeLvrM1biL0ZKuA-EIU5pgNWjY9jFQ2o9t7faAM0ZSnq1SzMJyjL_hC-86G5yHVZlsdOaGEZif2zjFnAl5UjEn1NRT0OfXWMg-S16gS2Qqc0jUeameH-F2EmY6EeXWYzO7s-9KgZf9gx14I4CKfkYrM4AQBgAbni4qFj8_t-T-gBiHYBwA%26num%3D1%26sig%3DAOD64_3g7rMdVGD7867OfwCQ-SKX_ZXLpg%26client%3Dca-pub-3558870564527416%26adurl%3D&quot;&gt;&lt;/SCRIPT&gt;&lt;NOSCRIPT&gt;&lt;A HREF=&quot;http://adclick.g.doubleclick.net/aclk?sa=L&amp;ai=CAxmdFY9cVYPuMIirhATGmoMYrZif4AaNrIPfjgHAjbcBEAEgAGDJjvCIhKTsD4IBF2NhLXB1Yi0zNTU4ODcwNTY0NTI3NDE2yAEJ4AIAqAMBmAQAqgT1AU_QqCvm_KMsD6O7b7BtMABsP6Jexbahd3MF2kMH49xb5IwL2mFJcYttlwtaYOfmnWlP_HIOpIQA1dCo0ANArWo-cnH8BJ7gwAXrweUU6gBUyFOkl2HWQSKfCZtmR6l_m3RvXUqpuH_3IVp6gJbtW8G_ySxfx9BIpZXRS3gNSSj7jGlAEQeLvrM1biL0ZKuA-EIU5pgNWjY9jFQ2o9t7faAM0ZSnq1SzMJyjL_hC-86G5yHVZlsdOaGEZif2zjFnAl5UjEn1NRT0OfXWMg-S16gS2Qqc0jUeameH-F2EmY6EeXWYzO7s-9KgZf9gx14I4CKfkYrM4AQBgAbni4qFj8_t-T-gBiHYBwA&amp;num=1&amp;sig=AOD64_3g7rMdVGD7867OfwCQ-SKX_ZXLpg&amp;client=ca-pub-3558870564527416&amp;adurl=http://bid.g.doubleclick.net/xbbe/creative/jump%3Fd%3DAPEucNVqVszOQuZCz9P70iubaJHrdLSf-0ataUWn1E6rafHunTzD-9Oi9_PefMoFYBbY74Cdr99J3zyOAL3O88B7uZdRj5h9I3eNsmzJ5Z4WTAOxtuQH0F4cVjp1uaf4wfBuMHWy9ZLIQI0eJ83TCZvdTbG6nMzPETn2paomLbNlF38SsHhHEWmjWm0Hg3h8MF3ujEhsG8z_ICgKPsztnMnujVM-v6Eq2rsiVD9vBuUbppNEPmmIRfVcH0-QjwYyUIcZvU4JAo_YEU4ezIalofFjWtAdbjiDfs-5a88BNFq4Dyc757Kh7lAFDJ5FcEafJQ_Ttyf6u28NBD13ScPcXDtEaEZcaI0G5lQLOtH0rEBmKE9xPJrE1ApBDorMEb0Wvy60oG0JM5wrDAoWbi9LZS7j_fSR6S7zqasN3jpIc1eUjjc_vXD1u5FK8EY50bqxI6U0UlYb0fZeO9Dn5T27N_5Ei4_PopCs2Q&quot;&gt;&lt;IMG SRC=&quot;http://bid.g.doubleclick.net/xbbe/creative/ad?d=APEucNVqVszOQuZCz9P70iubaJHrdLSf-0ataUWn1E6rafHunTzD-9Oi9_PefMoFYBbY74Cdr99J3zyOAL3O88B7uZdRj5h9I3eNsmzJ5Z4WTAOxtuQH0F4cVjp1uaf4wfBuMHWy9ZLIQI0eJ83TCZvdTbG6nMzPETn2paomLbNlF38SsHhHEWmjWm0Hg3h8MF3ujEhsG8z_ICgKPsztnMnujVM-v6Eq2rsiVD9vBuUbppNEPmmIRfVcH0-QjwYyUIcZvU4JAo_YEU4ezIalofFjWtAdbjiDfs-5a88BNFq4Dyc757Kh7lAFDJ5FcEafJQ_Ttyf6u28NBD13ScPcXDtEaEZcaI0G5lQLOtH0rEBmKE9xPJrE1ApBDorMEb0Wvy60oG0JM5wrDAoWbi9LZS7j_fSR6S7zqasN3jpIc1eUjjc_vXD1u5FK8EY50bqxI6U0UlYb0fZeO9Dn5T27N_5Ei4_PopCs2Q&amp;pr=VVyPFQAMNwMKgRWIAADNRumPoavRYULhr0cLZg&quot; BORDER=0 WIDTH=300 HEIGHT=250 ALT=&quot;Advertisement&quot;&gt;&lt;/A&gt;&lt;/NOSCRIPT&gt;&lt;script type=&quot;text/javascript&quot;&gt;  if (&#39;1&#39;) {  document.write(&#39;&lt;script src=&quot;http://c.betrad.com/surly.js?;ad_w=300;ad_h=250;coid=322;nid=4311;cps=1&quot;&gt;&lt;/sc&#39; + &#39;ript&gt;&#39;);  }&lt;/script&gt;&lt;iframe src=&quot;http://googleads.g.doubleclick.net/xbbe/pixel?d=CL-MFxDazRkY66SRBA&amp;v=APEucNXDp3vZpNxx2QKbN0UowyyeRr8niy1pS8nrY1UoAxKkbmNSO5LVMBArHaW5gCGrc42F6D8TFGcu0YLhIl4YXobghSn7IsTfv11224t0yk58-SKOqGA&quot; style=&quot;display:none&quot;&gt;&lt;/iframe&gt;&lt;DIV STYLE=&quot;position: absolute; left: 0px; top: 0px; visibility: hidden;&quot;&gt;&lt;IMG SRC=&quot;http://bid.g.doubleclick.net/xbbe/beacon?data=APEucNVDCo1nIodZuQLniHeEMZY91Xbt_EO7BstyJh2Bb1NqJA2KNgZR2t5cTLvLXsRj-wehfHN9wk6lqPnDVb9IOMK6w5oRTA&quot; BORDER=0 WIDTH=1 HEIGHT=1 ALT=&quot;&quot; STYLE=&quot;display:none&quot;&gt;&lt;/DIV&gt;&lt;iframe scrolling=&quot;no&quot; frameborder=0 height=0 width=0 src=&quot;http://cm.g.doubleclick.net/push?client=ca-pub-3558870564527416&quot; style=&quot;position:absolute&quot;&gt;&lt;/iframe&gt;&lt;script type=&quot;text/javascript&quot;&gt;(function(){var h=this,m=function(a){var b=typeof a;if(&quot;object&quot;==b)if(a){if(a instanceof Array)return&quot;array&quot;;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(&quot;[object Window]&quot;==c)return&quot;object&quot;;if(&quot;[object Array]&quot;==c||&quot;number&quot;==typeof a.length&amp;&amp;&quot;undefined&quot;!=typeof a.splice&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;splice&quot;))return&quot;array&quot;;if(&quot;[object Function]&quot;==c||&quot;undefined&quot;!=typeof a.call&amp;&amp;&quot;undefined&quot;!=typeof a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(&quot;call&quot;))return&quot;function&quot;}else return&quot;null&quot;;else if(&quot;function&quot;==b&amp;&amp;&quot;undefined&quot;==typeof a.call)return&quot;object&quot;;return b},n=function(a){return&quot;string&quot;==typeof a},aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},p=function(a,b){var c=a.split(&quot;.&quot;),d=h;c[0]in d||!d.execScript||d.execScript(&quot;var &quot;+c[0]);for(var e;c.length&amp;&amp;(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b};var r=function(a,b,c,d,e){if(e)c=a+(&quot;&amp;&quot;+b+&quot;=&quot;+c);else{var f=&quot;&amp;&quot;+b+&quot;=&quot;,g=a.indexOf(f);0&gt;g?c=a+f+c:(g+=f.length,f=a.indexOf(&quot;&amp;&quot;,g),c=0&lt;=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3&lt;c.length?void 0!==d?r(a,b,d,void 0,e):a:c};var ba=function(){var a=/[&amp;\?]exk=([^&amp; ]+)/.exec(t.location.href);return a&amp;&amp;2==a.length?a[1]:null};var ca=function(a){var b=a.toString();a.name&amp;&amp;-1==b.indexOf(a.name)&amp;&amp;(b+=&quot;: &quot;+a.name);a.message&amp;&amp;-1==b.indexOf(a.message)&amp;&amp;(b+=&quot;: &quot;+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&amp;&amp;(a=c+&quot;\n&quot;+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,&quot;$1&quot;);b=a.replace(/\n */g,&quot;\n&quot;)}catch(e){b=c}}return b},u=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement(&quot;img&quot;);c.src=b;a.google_image_requests.push(c)};var v=document,t=window;var da=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,&quot;&quot;)},w=function(a,b){return a&lt;b?-1:a&gt;b?1:0};var y=null,ea=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&amp;&amp;b.call(null,a[c],c,a)};function z(a){return&quot;function&quot;==typeof encodeURIComponent?encodeURIComponent(a):escape(a)}var fa=function(){if(!v.body)return!1;if(!y){var a=v.createElement(&quot;iframe&quot;);a.style.display=&quot;none&quot;;a.id=&quot;anonIframe&quot;;y=a;v.body.appendChild(a)}return!0},A={};var ga=!0,ha={},ka=function(a,b,c,d){var e=ia,f,g=ga;try{f=b()}catch(k){try{var q=ca(k);b=&quot;&quot;;k.fileName&amp;&amp;(b=k.fileName);var D=-1;k.lineNumber&amp;&amp;(D=k.lineNumber);g=e(a,q,b,D,c)}catch(l){try{var x=ca(l);a=&quot;&quot;;l.fileName&amp;&amp;(a=l.fileName);c=-1;l.lineNumber&amp;&amp;(c=l.lineNumber);ia(&quot;pAR&quot;,x,a,c,void 0,void 0)}catch(xa){ja({context:&quot;mRE&quot;,msg:xa.toString()+&quot;\n&quot;+(xa.stack||&quot;&quot;)},void 0)}}if(!g)throw k;}finally{if(d)try{d()}catch(sb){}}return f},ia=function(a,b,c,d,e,f){var g={};if(e)try{e(g)}catch(k){}g.context=a;g.msg=b.substring(0,512);c&amp;&amp;(g.file=c);0&lt;d&amp;&amp;(g.line=d.toString());g.url=v.URL.substring(0,512);g.ref=v.referrer.substring(0,512);la(g);ja(g,f);return ga},ja=function(a,b){try{if(Math.random()&lt;(b||.01)){var c=&quot;/pagead/gen_204?id=jserror&quot;+ma(a),d=&quot;http&quot;+(&quot;http:&quot;==t.location.protocol?&quot;&quot;:&quot;s&quot;)+&quot;://pagead2.googlesyndication.com&quot;+c,d=d.substring(0,2E3);u(t,d)}}catch(e){}},la=function(a){var b=a||{};ea(ha,function(a,d){b[d]=t[a]})},B=function(a,b,c,d,e){return function(){var f=arguments;return ka(a,function(){return b.apply(c,f)},d,e)}},ma=function(a){var b=&quot;&quot;;ea(a,function(a,d){if(0===a||a)b+=&quot;&amp;&quot;+d+&quot;=&quot;+z(a)});return b};var C=Array.prototype,na=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0&gt;c?Math.max(0,a.length+c):c;if(n(a))return n(b)&amp;&amp;1==b.length?a.indexOf(b,c):-1;for(;c&lt;a.length;c++)if(c in a&amp;&amp;a[c]===b)return c;return-1},oa=C.map?function(a,b,c){return C.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=n(a)?a.split(&quot;&quot;):a,g=0;g&lt;d;g++)g in f&amp;&amp;(e[g]=b.call(c,f[g],g,a));return e};var pa=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},qa=function(a){var b=arguments.length;if(1==b&amp;&amp;&quot;array&quot;==m(arguments[0]))return qa.apply(null,arguments[0]);for(var c={},d=0;d&lt;b;d++)c[arguments[d]]=!0;return c};var E;a:{var ra=h.navigator;if(ra){var sa=ra.userAgent;if(sa){E=sa;break a}}E=&quot;&quot;};var F=function(){return-1!=E.indexOf(&quot;Edge&quot;)};var ta=-1!=E.indexOf(&quot;Opera&quot;)||-1!=E.indexOf(&quot;OPR&quot;),G=-1!=E.indexOf(&quot;Edge&quot;)||-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;),ua=-1!=E.indexOf(&quot;Gecko&quot;)&amp;&amp;!(-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F())&amp;&amp;!(-1!=E.indexOf(&quot;Trident&quot;)||-1!=E.indexOf(&quot;MSIE&quot;))&amp;&amp;!F(),va=-1!=E.toLowerCase().indexOf(&quot;webkit&quot;)&amp;&amp;!F(),wa=function(){var a=E;if(ua)return/rv\:([^\);]+)(\)|;)/.exec(a);if(G&amp;&amp;F())return/Edge\/([\d\.]+)/.exec(a);if(G)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(va)return/WebKit\/(\S+)/.exec(a)},ya=function(){var a=h.document;return a?a.documentMode:void 0},za=function(){if(ta&amp;&amp;h.opera){var a=h.opera.version;return&quot;function&quot;==m(a)?a():a}var a=&quot;&quot;,b=wa();b&amp;&amp;(a=b?b[1]:&quot;&quot;);return G&amp;&amp;!F()&amp;&amp;(b=ya(),b&gt;parseFloat(a))?String(b):a}(),Aa={},Ba=function(a){if(!Aa[a]){for(var b=0,c=da(String(za)).split(&quot;.&quot;),d=da(String(a)).split(&quot;.&quot;),e=Math.max(c.length,d.length),f=0;0==b&amp;&amp;f&lt;e;f++){var g=c[f]||&quot;&quot;,k=d[f]||&quot;&quot;,q=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;),D=RegExp(&quot;(\\d*)(\\D*)&quot;,&quot;g&quot;);do{var l=q.exec(g)||[&quot;&quot;,&quot;&quot;,&quot;&quot;],x=D.exec(k)||[&quot;&quot;,&quot;&quot;,&quot;&quot;];if(0==l[0].length&amp;&amp;0==x[0].length)break;b=w(0==l[1].length?0:parseInt(l[1],10),0==x[1].length?0:parseInt(x[1],10))||w(0==l[2].length,0==x[2].length)||w(l[2],x[2])}while(0==b)}Aa[a]=0&lt;=b}},Ca=h.document,Da=ya(),Ea=!Ca||!G||!Da&amp;&amp;F()?void 0:Da||(&quot;CSS1Compat&quot;==Ca.compatMode?parseInt(za,10):5);var Fa={i:947190538,j:947190541,l:947190542,g:79463068,h:79463069},Ga={f:&quot;ud=1&quot;,m:&quot;ts=1&quot;,c:&quot;sc=1&quot;};if(v&amp;&amp;v.URL)var H=v.URL,ga=!(H&amp;&amp;(0&lt;H.indexOf(&quot;?google_debug&quot;)||0&lt;H.indexOf(&quot;&amp;google_debug&quot;)||0&lt;H.indexOf(&quot;#google_debug&quot;)));var I=function(a,b,c,d){c=B(d||&quot;osd_or_lidar::&quot;+b,c,void 0,void 0,void 0);a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&amp;&amp;a.attachEvent(&quot;on&quot;+b,c)},Ha=function(a,b,c){if(!(0&gt;=b)){var d=0,e=function(){a();d++;d&lt;b&amp;&amp;t.setTimeout(B(c,e,void 0,void 0,void 0),100)};e()}};var J=function(a,b){this.b=a||0;this.a=b||&quot;&quot;},K=function(a,b){a.b&amp;&amp;(b[4]=a.b);a.a&amp;&amp;(b[12]=a.a)};J.prototype.match=function(a){return(this.b||this.a)&amp;&amp;(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};J.prototype.toString=function(){var a=&quot;&quot;+this.b;this.a&amp;&amp;(a+=&quot;-&quot;+this.a);return a};var Ia=function(){var a=L,b=[];a.b&amp;&amp;b.push(&quot;adk=&quot;+a.b);a.a&amp;&amp;b.push(&quot;exk=&quot;+a.a);return b},M=function(a){var b=[];pa(a,function(a,d){var e=z(d),f=a;n(f)&amp;&amp;(f=z(f));b.push(e+&quot;=&quot;+f)});return b.join(&quot;\n&quot;)},N=0,Ja=0,Ka=function(a){var b=0,c=t;try{if(c&amp;&amp;c.Goog_AdSense_getAdAdapterInstance)return c}catch(d){}try{for(;c&amp;&amp;5&gt;b;){if(c.google_osd_static_frame)return c;if(c.aswift_0&amp;&amp;(!a||c.aswift_0.google_osd_static_frame))return c.aswift_0;b++;c=c!=c.parent?c.parent:null}}catch(e){}return null},La=function(a,b,c,d,e){if(10&lt;Ja)t.clearInterval(N);else if(++Ja,t.postMessage&amp;&amp;(b.b||b.a)){var f=Ka(!0);if(f){var g={};K(b,g);g[0]=&quot;goog_request_monitoring&quot;;g[6]=a;g[16]=c;d&amp;&amp;d.length&amp;&amp;(g[17]=d.join(&quot;,&quot;));e&amp;&amp;(g[19]=e);try{var k=M(g);f.postMessage(k,&quot;*&quot;)}catch(q){}}}},Ma=function(a){var b=Ka(!1),c=!b;!b&amp;&amp;t&amp;&amp;(b=t.parent);if(b&amp;&amp;b.postMessage)try{b.postMessage(a,&quot;*&quot;),c&amp;&amp;t.postMessage(a,&quot;*&quot;)}catch(d){}};qa(&quot;area base br col command embed hr img input keygen link meta param source track wbr&quot;.split(&quot; &quot;));var O=function(a,b){this.width=a;this.height=b};var Na;if(!(Na=!ua&amp;&amp;!G)){var Oa;if(Oa=G)Oa=G&amp;&amp;(F()||9&lt;=Ea);Na=Oa}Na||ua&amp;&amp;Ba(&quot;1.9.1&quot;);G&amp;&amp;Ba(&quot;9&quot;);G&amp;&amp;Ba(12);var Qa=function(){var a=t.parent&amp;&amp;t.parent!=t,b=a&amp;&amp;0&lt;=&quot;//tpc.googlesyndication.com&quot;.indexOf(t.location.host);if(a&amp;&amp;t.name&amp;&amp;0==t.name.indexOf(&quot;google_ads_iframe&quot;)||b){var c;a=t||t;try{var d;if(a.document&amp;&amp;!a.document.body)d=new O(-1,-1);else{var e=(a||window).document,f=&quot;CSS1Compat&quot;==e.compatMode?e.documentElement:e.body;d=new O(f.clientWidth,f.clientHeight)}c=d}catch(g){c=new O(-12245933,-12245933)}return Pa(c)}c=t.document.getElementsByTagName(&quot;SCRIPT&quot;);return 0&lt;c.length&amp;&amp;(c=c[c.length-1],c.parentElement&amp;&amp;c.parentElement.id&amp;&amp;0&lt;c.parentElement.id.indexOf(&quot;_ad_container&quot;))?Pa(void 0,c.parentElement):null},Pa=function(a,b){var c=Ra(&quot;IMG&quot;,a,b);return c||(c=Ra(&quot;IFRAME&quot;,a,b))?c:(c=Ra(&quot;OBJECT&quot;,a,b))?c:null},Ra=function(a,b,c){var d=document;c=c||d;d=a&amp;&amp;&quot;*&quot;!=a?a.toUpperCase():&quot;&quot;;c=c.querySelectorAll&amp;&amp;c.querySelector&amp;&amp;d?c.querySelectorAll(d+&quot;&quot;):c.getElementsByTagName(d||&quot;*&quot;);for(d=0;d&lt;c.length;d++){var e=c[d];if(&quot;OBJECT&quot;==a)a:{var f=e.getAttribute(&quot;height&quot;);if(null!=f&amp;&amp;0&lt;f&amp;&amp;0==e.clientHeight)for(var f=e.children,g=0;g&lt;f.length;g++){var k=f[g];if(&quot;OBJECT&quot;==k.nodeName||&quot;EMBED&quot;==k.nodeName){e=k;break a}}}f=e.clientHeight;g=e.clientWidth;if(k=b)k=new O(g,f),k=Math.abs(b.width-k.width)&lt;.1*b.width&amp;&amp;Math.abs(b.height-k.height)&lt;.1*b.height;if(k||!b&amp;&amp;10&lt;f&amp;&amp;10&lt;g)return e}return null};var Sa,P=0,Q=&quot;&quot;,R=!1,S=!1,T=!1,Ta=!0,Ua=!1,Va=!1,Wa=[],L=null,Xa=&quot;&quot;,Ya=[],Za=null,$a=[],ab=!1,U=&quot;&quot;,V=&quot;&quot;,bb=(new Date).getTime(),cb=!1,db=!1,eb=&quot;&quot;,fb=!1,gb=[&quot;1&quot;,&quot;0&quot;,&quot;3&quot;],W=0,X=0,hb=0,ib=&quot;&quot;,jb=function(a,b,c){R&amp;&amp;(Ta||3!=(c||3)||Va)&amp;&amp;Y(a,b,!0);(T||S&amp;&amp;Ua)&amp;&amp;Y(a,b)},kb=function(){var a=Za;return a?2!=a():!0},Y=function(a,b,c){if((b=b||Xa)&amp;&amp;!ab&amp;&amp;(2==X||c)&amp;&amp;kb()){var d;d=c?&quot;osdim&quot;:T?&quot;osd2&quot;:&quot;osdtos&quot;;var e=[&quot;//pagead2.googlesyndication.com/activeview&quot;,&quot;?id=&quot;,d];&quot;osd2&quot;==d&amp;&amp;S&amp;&amp;Ua&amp;&amp;e.push(&quot;&amp;ts=1&quot;);Q&amp;&amp;e.push(&quot;&amp;avi=&quot;,Q);Sa&amp;&amp;e.push(&quot;&amp;cid=&quot;,Sa);e.push(&quot;&amp;ti=1&quot;);e.push(&quot;&amp;&quot;,b);e.push(&quot;&amp;uc=&quot;+hb);cb&amp;&amp;(db?e.push(&quot;&amp;tgt=&quot;+eb):e.push(&quot;&amp;tgt=nf&quot;),e.push(&quot;&amp;cl=&quot;+(fb?1:0)));b=e.join(&quot;&quot;);for(d=0;d&lt;Ya.length;d++){try{var f=Ya[d]()}catch(g){}e=&quot;max_length&quot;;2&lt;=f.length&amp;&amp;(3==f.length&amp;&amp;(e=f[2]),b=r(b,z(f[0]),z(f[1]),e))}2E3&lt;b.length&amp;&amp;(b=b.substring(0,2E3));u(a,b);c?R=!1:ab=!0}},Z=function(a,b){if(U){try{var c=r(U,&quot;vi&quot;,a);fa()&amp;&amp;u(y.contentWindow,c)}catch(d){}0&lt;=na(gb,a)&amp;&amp;(U=&quot;&quot;);var c=b||Xa,e;e=r(&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=sldb&quot;,&quot;avi&quot;,Q);e=r(e,&quot;vi&quot;,a);c&amp;&amp;(e+=&quot;&amp;&quot;+c);try{u(t,e)}catch(f){}}},lb=function(){Z(&quot;-1&quot;)},mb=function(a){if(a&amp;&amp;a.data&amp;&amp;n(a.data)){var b;var c=a.data;if(n(c)){b={};for(var c=c.split(&quot;\n&quot;),d=0;d&lt;c.length;d++){var e=c[d].indexOf(&quot;=&quot;);if(!(0&gt;=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:case 18:e=&quot;true&quot;==e;break;case 4:case 7:case 6:case 14:e=Number(e);break;case 3:case 19:if(&quot;function&quot;==m(decodeURIComponent))try{e=decodeURIComponent(e)}catch(g){throw Error(&quot;Error: URI malformed: &quot;+e);}break;case 17:e=oa(decodeURIComponent(e).split(&quot;,&quot;),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&amp;&amp;(c=new J(b[4],b[12]),L&amp;&amp;L.match(c))){for(c=0;c&lt;$a.length;c++)$a[c](b);void 0!=b[18]&amp;&amp;(Va=b[18]);c=b[0];if(&quot;goog_acknowledge_monitoring&quot;==c)t.clearInterval(N),W=2;else if(&quot;goog_get_mode&quot;==c){W=1;d={};L&amp;&amp;K(L,d);d[0]=&quot;goog_provide_mode&quot;;d[6]=X;d[19]=ib;try{var k=M(d);a.source.postMessage(k,a.origin)}catch(q){}t.clearInterval(N);W=2}else&quot;goog_update_data&quot;==c?(Xa=b[3],++hb):&quot;goog_image_request&quot;==c&amp;&amp;(jb(t,b[3]),b[5]||b[11]||Z(&quot;0&quot;,b[3]));if(&quot;goog_update_data&quot;==c||&quot;goog_image_request&quot;==c)(1==X||2==X||R)&amp;&amp;b[5]&amp;&amp;(a=1==b[15]&amp;&amp;&quot;goog_update_data&quot;==c,Ua=!0,Z(&quot;1&quot;),V&amp;&amp;kb()&amp;&amp;(k=V,fa()&amp;&amp;u(y.contentWindow,k),V=&quot;&quot;),R&amp;&amp;!a&amp;&amp;Y(t,void 0,!0),R||1!=X||(ab=!0)),(1==X||2==X||R)&amp;&amp;b[11]&amp;&amp;(S=!1,Z(&quot;3&quot;),R&amp;&amp;Y(t,void 0,!0))}}},nb=function(){jb(t);Z(&quot;0&quot;);if(2&gt;W&amp;&amp;!S&amp;&amp;2==X){var a=t,b=&quot;//pagead2.googlesyndication.com/pagead/gen_204?id=osd2&amp;&quot;,c=[];c.push(&quot;ovr_value=&quot;+P);c.push(&quot;avi=&quot;+Q);L&amp;&amp;(c=c.concat(Ia()));c.push(&quot;tt=&quot;+((new Date).getTime()-bb));a.document&amp;&amp;a.document.referrer&amp;&amp;c.push(&quot;ref=&quot;+z(a.document.referrer));c.push(&quot;hs=&quot;+W);b+=c.join(&quot;&amp;&quot;);try{u(a,b)}catch(d){}}},ob=function(){var a={};K(L,a);a[0]=&quot;goog_dom_content_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::ldcl_int&quot;)},pb=function(){var a={};K(L,a);a[0]=&quot;goog_creative_loaded&quot;;var b=M(a);Ha(function(){Ma(b)},10,&quot;osd_listener::lcel_int&quot;);fb=!0},qb=function(a){if(n(a)){a=a.split(&quot;&amp;&quot;);for(var b=a.length-1;0&lt;=b;b--){var c=a[b],d=Ga;c==d.f?(Ta=!1,a.splice(b,1)):c==d.c&amp;&amp;(cb=!0,a.splice(b,1))}ib=a.join(&quot;&amp;&quot;)}},rb=function(){if(!db){var a=Qa();a&amp;&amp;(db=!0,eb=a.tagName,a.complete||a.naturalWidth?pb():I(a,&quot;load&quot;,pb,&quot;osd_listener::creative_load&quot;))}};p(&quot;osdlfm&quot;,B(&quot;osd_listener::init&quot;,function(a,b,c,d,e,f,g,k,q,D){P=a;U=b;V=d;R=f;Sa=D;k&amp;&amp;qb(k);S=g&amp;&amp;f;1!=q&amp;&amp;2!=q&amp;&amp;3!=q||Wa.push(Fa[&quot;MRC_TEST_&quot;+q]);L=new J(e,ba());I(t,&quot;load&quot;,lb,&quot;osd_listener::load&quot;);I(t,&quot;message&quot;,mb,&quot;osd_listener::message&quot;);Q=c||&quot;&quot;;I(t,&quot;unload&quot;,nb,&quot;osd_listener::unload&quot;);var l=t.document;!l.readyState||&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState?(&quot;msie&quot;in A?A.msie:A.msie=-1!=navigator.userAgent.toLowerCase().indexOf(&quot;msie&quot;))&amp;&amp;!window.opera?I(l,&quot;readystatechange&quot;,function(){&quot;complete&quot;!=l.readyState&amp;&amp;&quot;loaded&quot;!=l.readyState||ob()},&quot;osd_listener::rsc&quot;):I(l,&quot;DOMContentLoaded&quot;,ob,&quot;osd_listener::dcl&quot;):ob();-1==P?X=f?3:1:-2==P?X=3:0&lt;P&amp;&amp;(X=2,T=!0);S&amp;&amp;!T&amp;&amp;(X=2);L&amp;&amp;(L.b||L.a)&amp;&amp;(W=1,N=t.setInterval(B(&quot;osd_proto::reqm_int&quot;,aa(La,X,L,S,Wa,ib),void 0,void 0,void 0),500));cb&amp;&amp;Ha(rb,5,&quot;osd_listener:sfc&quot;)}));p(&quot;osdlac&quot;,B(&quot;osd_listener::lac_ex&quot;,function(a){Ya.push(a)}));p(&quot;osdlamrc&quot;,B(&quot;osd_listener::lamrc_ex&quot;,function(a){$a.push(a)}));p(&quot;osdsir&quot;,B(&quot;osd_listener::sir_ex&quot;,jb));p(&quot;osdacrc&quot;,B(&quot;osd_listener::acrc_ex&quot;,function(a){Za=a}));})();osdlfm(-1,&#39;&#39;,&#39;BsdvSFY9cVYPuMIirhATGmoMYAI2sg9-OAQAAEAE4AcgBCeACAOAEAaAGIcITAxCAAQ&#39;,&#39;&#39;,3669545961,true,true,&#39;ud\x3d1\x26sc\x3d1\x26&#39;,3,&#39;5GittXLva-l5xmG9O9f8-gZY_6I&#39;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;{&quot;uid&quot;:3,&quot;hostPeerName&quot;:&quot;http://code.tutsplus.com&quot;,&quot;initialGeometry&quot;:&quot;{\&quot;windowCoords_t\&quot;:23,\&quot;windowCoords_r\&quot;:1142,\&quot;windowCoords_b\&quot;:754,\&quot;windowCoords_l\&quot;:67,\&quot;frameCoords_t\&quot;:46745,\&quot;frameCoords_r\&quot;:1077,\&quot;frameCoords_b\&quot;:46995,\&quot;frameCoords_l\&quot;:777,\&quot;styleZIndex\&quot;:\&quot;auto\&quot;,\&quot;allowedExpansion_t\&quot;:0,\&quot;allowedExpansion_r\&quot;:0,\&quot;allowedExpansion_b\&quot;:0,\&quot;allowedExpansion_l\&quot;:0,\&quot;xInView\&quot;:0,\&quot;yInView\&quot;:0}&quot;,&quot;permissions&quot;:&quot;{\&quot;expandByOverlay\&quot;:true,\&quot;expandByPush\&quot;:false,\&quot;readCookie\&quot;:false,\&quot;writeCookie\&quot;:false}&quot;,&quot;metadata&quot;:&quot;{\&quot;shared\&quot;:{\&quot;sf_ver\&quot;:\&quot;1-0-2\&quot;,\&quot;ck_on\&quot;:1,\&quot;flash_ver\&quot;:\&quot;17.0.0\&quot;}}&quot;,&quot;reportCreativeGeometry&quot;:false}" scrolling="no" marginwidth="0" marginheight="0" width="300" height="250" data-is-safeframe="true" style="border: 0px; vertical-align: bottom;"></iframe></div></div><div class="ad__label">Advertisement</div></div></div></div></footer></article></main></div><footer class="page-footer"><div class="page-footer__content"><div class="page-footer__header"><div class="page-footer__tuts-brand"><img alt="Tuts+" class="page-footer__tuts-logo-image tuts-logo" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/tuts_logo-79176000c077f4191a2cfcc3b312b7ed.svg"><span class="page-footer__tuts-brand-text">Teaching skills to millions worldwide.</span></div><div class="page-footer__counts"><div class="page-footer__count-item"><div class="page-footer__count-value">19,649</div><div class="page-footer__count-label">Tutorials</div><div class="page-footer__count-value">535</div><div class="page-footer__count-label">Video Courses</div></div></div></div><div class="page-footer__links-column"><div class="page-footer__section page-footer__section--first"><div class="page-footer__heading">Follow Us</div><a class="page-footer__social-link page-footer__facebook-link" href="https://www.facebook.com/tutsplus" sl-processed="1"><i class="fa fa-facebook"></i></a><a class="page-footer__social-link page-footer__twitter-link" href="https://twitter.com/tutsplus" sl-processed="1"><i class="fa fa-twitter"></i></a><a class="page-footer__social-link page-footer__googleplus-link" href="https://plus.google.com/108971748263060947124/posts" sl-processed="1"><i class="fa fa-google-plus"></i></a><a class="page-footer__social-link page-footer__pinterest-link" href="http://www.pinterest.com/tutsplus/" sl-processed="1"><i class="fa fa-pinterest"></i></a></div><div class="page-footer__section"><div class="page-footer__heading">Help and Support</div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/faq" sl-processed="1">FAQ</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/terms-of-use" sl-processed="1">Terms of Use</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/support" sl-processed="1">Contact Support</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/about" sl-processed="1">About Tuts+</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/advertise" sl-processed="1">Advertise</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/teach" sl-processed="1">Teach at Tuts+</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://tutsplus.com/translate-for-us" sl-processed="1">Translate for Tuts+</a></div><div class="page-footer__support-item"><a class="page-footer__link" href="http://www.envato.com/community/meetups" sl-processed="1">Meetups</a></div></div></div><div class="page-footer__email-column"><div class="page-footer__section page-footer__section--first"><div class="page-footer__newsletter-section"><div class="page-footer__heading">Email Newsletters</div><div class="page-footer__newsletter-description">Get Tuts+ updates, news, surveys &amp; offers.</div><form class="page-footer__newsletter-form" action="http://code.tutsplus.com/weekly_digest_subscription_requests" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="nzIrmbOg/4MqkNrEyw4VbPDfZXOTNiCWuJtbY50J75av1OLBbPvn6/pORFs51AHxa3teNmpDGZbLT94tpfpk9Q=="><input placeholder="Email Address" class="page-footer__newsletter-email-field" type="email" name="weekly_digest_subscription_request[email]" id="weekly_digest_subscription_request_email"><button name="button" type="submit" class="page-footer__newsletter-submit">Subscribe</button></form><a class="page-footer__newsletter-privacy-policy-link page-footer__link" href="http://tutsplus.com/privacy-policy" sl-processed="1">Privacy Policy</a></div></div></div><div class="page-footer__right"><div class="page-footer__envato-product"><a href="http://studio.envato.com/?utm_source=tutsfooter&utm_medium=banner&utm_campaign=tutsfooter" sl-processed="1"><img alt="OPEN. New Services!" class="page-footer__envato-product-image page-footer__envato-product-image--studio" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/open-new-services-140x112-0470de5e355e703301fc99a2d13a7b0f.png"></a><div class="page-footer__envato-product-description">Custom digital services like logo design, WordPress installation, video production and more. <a class="page-footer__link page-footer__envato-product-link" href="http://studio.envato.com/?utm_source=tutsfooter&utm_medium=banner&utm_campaign=tutsfooter" sl-processed="1">Check out Envato Studio</a></div></div><div class="page-footer__envato-product"><a href="http://codecanyon.net/popular_item/by_category?category=php-scripts&ref=tutshub&utm_source=tutsplus&utm_medium=footer&utm_campaign=tutscode" sl-processed="1"><img alt="Buy photos as you need them" class="page-footer__envato-product-image page-footer__envato-product-image--marketplaces" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/codecanyon--pre-coded-php-a6b3249433df1cabb20eb6b33ebc16ea.jpg"></a><div class="page-footer__envato-product-description">Build anything from social networks to file upload systems.  Build faster with pre-coded PHP scripts. <a class="page-footer__link page-footer__envato-product-link" href="http://codecanyon.net/popular_item/by_category?category=php-scripts&ref=tutshub&utm_source=tutsplus&utm_medium=footer&utm_campaign=tutscode" sl-processed="1">Browse PHP on CodeCanyon</a></div></div></div></div><div class="page-footer__envato-bar"><div class="page-footer__envato-bar-content"><div class="page-footer__copyright">© 2015 Envato Pty Ltd. Trademarks and brands are the property of their respective owners.</div><div class="page-footer__envato-logo"><a class="page-footer__envato-logo-link" href="http://www.envato.com/" sl-processed="1"><img alt="envato" class="page-footer__envato-logo-image" src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/envato_logo-bea126b87a05d98d331259dee204aac6.svg"></a></div></div></div></footer><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/body-accd22a98257530998486b40017f16b0.js" async="async"></script><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/1342X589339.skimlinks.js" type="text/javascript"></script><div style="display: none;"><img src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/track_page_view" style="display:none" width="0" height="0"></div><script src="./Accessing Google Services Using the OAuth 2.0 Protocol - Tuts+ Code Tutorial_files/E-v1.js"></script><iframe id="google_osd_static_frame_2629453970585" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body></html>